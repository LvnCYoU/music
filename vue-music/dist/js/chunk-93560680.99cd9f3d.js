(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-93560680"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"14d5":function(t,e,s){"use strict";var n=s("540e"),i=s.n(n);i.a},"1ace":function(t,e,s){},2343:function(t,e,s){},"45fc":function(t,e,s){"use strict";var n=s("23e7"),i=s("b727").some,a=s("a640"),r=s("ae40"),o=a("some"),c=r("some");n({target:"Array",proto:!0,forced:!o||!c},{some:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,s){"use strict";var n=s("0366"),i=s("7b0b"),a=s("9bdd"),r=s("e95a"),o=s("50c4"),c=s("8418"),l=s("35a1");t.exports=function(t){var e,s,u,d,f,v,h=i(t),p="function"==typeof this?this:Array,m=arguments.length,g=m>1?arguments[1]:void 0,y=void 0!==g,b=l(h),_=0;if(y&&(g=n(g,m>2?arguments[2]:void 0,2)),void 0==b||p==Array&&r(b))for(e=o(h.length),s=new p(e);e>_;_++)v=y?g(h[_],_):h[_],c(s,_,v);else for(d=b.call(h),f=d.next,s=new p;!(u=f.call(d)).done;_++)v=y?a(d,g,[u.value,_],!0):u.value,c(s,_,v);return s.length=_,s}},"540e":function(t,e,s){},"6b05":function(t,e,s){},"6b10":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"album"},t._l(t.list,(function(e){return s("div",{key:e.id,staticClass:"item"},[s("div",{staticClass:"cover"},[s("el-image",{attrs:{src:e.picUrl,fit:"cover"}}),s("div",{staticClass:"type"},[s("i",{staticClass:"el-icon-service"}),s("span",[t._v(t._s(e.type))])])],1),s("div",{staticClass:"info"},[s("p",{staticClass:"name"},[t._v(t._s(e.name))]),s("p",{staticClass:"singer"},[t._v(t._s(t.utils.getSinger(e.artists)))]),s("p",{staticClass:"time"},[t._v(t._s(t.utils.getYear(e.publishTime)))])])])})),0)},i=[],a={props:{list:{type:Array,required:!0}},data:function(){return{}},mounted:function(){this.init()},methods:{init:function(){}}},r=a,o=(s("14d5"),s("2877")),c=Object(o["a"])(r,n,i,!1,null,"6327ae47",null);e["a"]=c.exports},"766d":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input"},[s("el-autocomplete",{attrs:{placeholder:"请输入内容","trigger-on-focus":!1,"fetch-suggestions":t.recommendSearch,"select-when-unmatched":!0},on:{select:t.goSearch},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.item;return[s("div",{staticClass:"item",attrs:{title:n.name}},[s("span",{staticClass:"name"},[t._v(t._s(n.name))])])]}}]),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[s("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1)},i=[];s("d81d"),s("b0c0"),s("4ec9"),s("d3b7"),s("ac1f"),s("3ca3"),s("841c"),s("ddb0");function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function r(t){if(Array.isArray(t))return a(t)}s("a4d3"),s("e01a"),s("d28b"),s("a630");function o(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}s("fb6a"),s("25f0");function c(t,e){if(t){if("string"===typeof t)return a(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?a(t,e):void 0}}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){return r(t)||o(t)||c(t)||l()}s("96cf");var d=s("1da1"),f={data:function(){return{search:""}},methods:{recommendSearch:function(t,e){var s=this;return Object(d["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,s.$api.SearchSuggest(t).then((function(t){var n,i=[],a=t.data.result,r=new Map([["songs",function(){return 1}],["albums",function(){return 10}],["artists",function(){return 100}],["playlists",function(){return 1e3}],["default",function(){return 1}]]);n=a.order,n.map((function(t){a[t].map((function(e){e.type=r.get(t).call(s)||r.get("default").call(s)})),i.push.apply(i,u(a[t]))})),e(i)})).catch((function(){}));case 2:case"end":return n.stop()}}),n)})))()},goSearch:function(t){if(this.search){console.log(t);var e,s=t.name||this.search;t.name?(e=t.type,this.$router.push({name:"search",query:{keywords:s,type:e}})):this.$router.push({name:"search",query:{keywords:s,type:1}}),this.search=""}}}},v=f,h=(s("8963"),s("2877")),p=Object(h["a"])(v,n,i,!1,null,"e64e00b8",null);e["a"]=p.exports},7950:function(t,e,s){"use strict";var n=s("e909"),i=s.n(n);i.a},"7cf2":function(t,e,s){},8111:function(t,e,s){"use strict";var n=s("1ace"),i=s.n(n);i.a},"841c":function(t,e,s){"use strict";var n=s("d784"),i=s("825a"),a=s("1d80"),r=s("129f"),o=s("14c3");n("search",1,(function(t,e,s){return[function(e){var s=a(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,s):new RegExp(e)[t](String(s))},function(t){var n=s(e,t,this);if(n.done)return n.value;var a=i(t),c=String(this),l=a.lastIndex;r(l,0)||(a.lastIndex=0);var u=o(a,c);return r(a.lastIndex,l)||(a.lastIndex=l),null===u?-1:u.index}]}))},8963:function(t,e,s){"use strict";var n=s("d0eb"),i=s.n(n);i.a},"8bda":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:!1,expression:"false"}],staticClass:"song-list",attrs:{data:t.list,"element-loading-text":"拼命加载中","element-loading-background":"#fff"}},[s("div",{staticClass:"song-box"},[t._m(0),t._l(t.list,(function(e,n){return s("div",{key:e.id,ref:"list",refInFor:!0,class:t.songId==e.id&&t.playStatus?"item is-active":"item",on:{click:function(s){return t.showPlayer(e.id,e.al.id,n)}}},[s("div",{staticClass:"index"},[s("span",{staticClass:"num"},[t._v(t._s(t.handleNum(n)))]),s("i",{ref:"icon",refInFor:!0,staticClass:"iconfont icon-bofang"}),t._m(1,!0)]),s("div",{staticClass:"name"},[s("div",{staticClass:"cover"},[e.al?s("el-image",{attrs:{src:e.al.picUrl,fit:"fill"}}):t._e()],1),s("div",{staticClass:"song-name ellipsis"},[t._v(" "+t._s(e.name)+" ")])]),s("div",{staticClass:"artist"},[s("div",{staticClass:"wrapper ellipsis"},[s("span",[t._v(t._s(t.utils.getSinger(e.ar)))])])]),s("div",{staticClass:"album"},[s("div",{staticClass:"wrapper ellipsis"},[e.al?s("span",[t._v(t._s(e.al.name))]):t._e()])]),s("div",{staticClass:"duration"},[s("div",{staticClass:"wrapper"},[s("span",[t._v(t._s(t.utils.formatTime(e.dt)))])])])])}))],2),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.error,expression:"!error"}],staticClass:"load-more"},[s("div",{staticClass:"more"},[s("span",{on:{click:t.loadSong}},[t._v("查看更多")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}],staticClass:"error"},[s("span",[t._v("暂时没有播放数据噢~")])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[s("div",{staticClass:"index"},[t._v("序号")]),s("div",{staticClass:"name"},[t._v("歌曲")]),s("div",{staticClass:"artist"},[t._v("歌手")]),s("div",{staticClass:"album"},[t._v("专辑")]),s("div",{staticClass:"duration"},[t._v("时长")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"play-animation"},[s("span"),s("span"),s("span"),s("span"),s("span")])}],a=(s("d81d"),s("fb6a"),s("5530")),r=s("2f62"),o={props:{songLists:{type:Array,required:!0}},data:function(){return{list:[],loading:!1,error:!1,max:0}},computed:Object(a["a"])(Object(a["a"])({},Object(r["e"])(["audio","playStatus","playing","songId"])),Object(r["c"])(["getSongId","getCurrentSong","getPlayStatus"])),watch:{songLists:function(t){var e=this;if(0==t.length)return this.list.length=0,void(this.error=!0);this.error=!1;var s=t.slice(0,this.max||10);this.list.length=0,t[0].song?s.map((function(t){var s=t.song;e.list.push(s)})):this.list=s}},mounted:function(){this.init()},methods:Object(a["a"])(Object(a["a"])({},Object(r["b"])(["currentSong","songsList"])),{},{init:function(){this.playStatus&&this.getPlayStatus(!1)},handleNum:function(t){return t++,t<10?"0"+t:t},showPlayer:function(t,e,s){var n=this.utils.storeId(this.list),i={id:t,alid:e,index:s};this.getSongId(t),this.currentSong(i),this.songsList(n),this.playStatus?this.audio.pause():this.playing&&this.audio.play(),this.getPlayStatus(!this.playStatus)},loadSong:function(){var t=this,e=this.list.length;if(this.max=e+10,this.songLists[0].song){var s=this.songLists.slice(e,this.max);s.map((function(e){var s=e.song;t.list.push(s)}))}else this.list=this.songLists.slice(0,this.max)}})},c=o,l=(s("8111"),s("2877")),u=Object(l["a"])(c,n,i,!1,null,"eb6feeae",null);e["a"]=u.exports},9001:function(t,e,s){"use strict";var n=s("7cf2"),i=s.n(n);i.a},"930b":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"error"},[n("h2",[n("span",[t._v("当前没有数据噢")]),n("img",{attrs:{src:s("f6de")}})])])}],a=(s("7950"),s("2877")),r={},o=Object(a["a"])(r,n,i,!1,null,"bf58b1e6",null);e["a"]=o.exports},a3d5:function(t,e,s){"use strict";var n=s("2343"),i=s.n(n);i.a},a630:function(t,e,s){var n=s("23e7"),i=s("4df4"),a=s("1c7e"),r=!a((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:r},{from:i})},b27b:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"loading",staticClass:"load-more",staticStyle:{height:"100%",width:"100%"},attrs:{data:t.artist}},[s("ul",{staticClass:"singer-list"},t._l(t.artist,(function(e,n){return s("li",{key:e.id+e.name},[s("router-link",{attrs:{tag:"a",to:{name:"singer-detail",query:{id:e.id}}}},[s("div",{staticClass:"cover"},[s("div",{staticClass:"img"},[s("el-image",{directives:[{name:"loading",rawName:"v-loading",value:e.load,expression:"item.load"}],attrs:{src:e.imgUrl||e.picUrl,fit:"fill",data:t.artist[n].imgUrl||t.artist[n].picUrl,"element-loading-background":"#fff"},on:{load:function(s){return t.loadImg(e)}}},[s("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[s("i",{staticClass:"el-icon-picture-outline"})])])],1)]),s("div",{staticClass:"info"},[s("p",{staticClass:"name"},[t._v(t._s(e.name))]),s("p",{staticClass:"count"},[t._v("单曲数"+t._s(e.music||e.musicSize))])])])],1)})),0)])},i=[],a={props:{artist:{type:Array,required:!0}},watch:{artist:function(t){if(console.log(t),t.length<=40)return this.img=0,this.artist=t}},data:function(){return{img:0,loading:!0,len:0}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.$nextTick((function(){console.log(t.artist)})),this.len=this.artist.length},loadImg:function(t){var e=this;this.img>this.len-5&&this.$nextTick((function(){e.loading=!1,t.load=!1})),this.loading=!0,++this.img}}},r=a,o=(s("a3d5"),s("2877")),c=Object(o["a"])(r,n,i,!1,null,"610e84d6",null);e["a"]=c.exports},c4e7:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"star"},[s("div",{staticClass:"wall",attrs:{id:"background"}}),s("div",{staticClass:"wall",attrs:{id:"midground"}}),s("div",{staticClass:"wall",attrs:{id:"foreground"}}),s("div",{staticClass:"wall",attrs:{id:"top"}})])}],a=(s("9001"),s("2877")),r={},o=Object(a["a"])(r,n,i,!1,null,"eb390f2a",null);e["a"]=o.exports},ca17:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-detail"},[s("div",{staticClass:"search-btn"},[s("star"),s("div",{staticClass:"btn-search"},[s("search-input")],1)],1),s("div",{staticClass:"container"},[s("div",{staticClass:"kind-btn"},[s("div",{staticClass:"title"},[s("small",[t._v('搜索"'+t._s(t.keywords)+'",找到'+t._s(t.len+"个"+t.cur.name))])]),s("ul",{staticClass:"btn"},t._l(t.type,(function(e){return s("li",{key:e.type,class:t.cur.name==e.name?"is-active":"",on:{click:function(s){return t.changeType(e.num)}}},[t._v(" "+t._s(e.name)+" ")])})),0)]),s("div",{staticClass:"main"},[1==t.cur.type?s("song-list",{attrs:{songLists:t.list}}):t._e(),100==t.cur.type?s("singer",{attrs:{artist:t.list}}):t._e(),1e3==t.cur.type?s("song-sheet",{attrs:{songLists:t.list}}):t._e(),10==t.cur.type?s("album",{attrs:{list:t.list}}):t._e(),t.list?t._e():s("error")],1)])])},i=[],a=(s("45fc"),s("b0c0"),s("4ec9"),s("d3b7"),s("3ca3"),s("ddb0"),s("96cf"),s("1da1")),r=s("c4e7"),o=s("766d"),c=s("8bda"),l=s("29e5"),u=s("b27b"),d=s("6b10"),f=s("930b"),v={data:function(){return{keywords:this.$route.query.keywords,len:null,cur:"",type:[],list:[]}},components:{Star:r["a"],SearchInput:o["a"],SongList:c["a"],SongSheet:l["a"],Singer:u["a"],Album:d["a"],Error:f["a"]},watch:{$route:function(t){console.log(t),this.getSearch()}},mounted:function(){this.init()},methods:{init:function(){this.Type(),this.getSearch()},getSearch:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var s,n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.keywords=t.$route.query.keywords,s=t.keywords,n=t.$route.query.type,i={keywords:s,type:n},a=new Map([[1,function(e){var s;s=t.utils.MusicId(e),t.getSongDetail(s)}],[10,function(e){return t.list=e}],[100,function(e){return t.list=e}],[1e3,function(e){return t.list=e}]]),e.next=7,t.$api.Search(i).then((function(e){var s;console.log(e),t.type.some((function(e){if(e.num==t.$route.query.type)return s=e.type,void(t.cur={name:e.name,type:e.num})})),t.len=e.data.result[s].length,console.log(e.data.result[s],t.cur),a.get(t.cur.type)(e.data.result[s])}));case 7:case"end":return e.stop()}}),e)})))()},Type:function(){var t=[{name:"单曲",type:"songs",num:1},{name:"专辑",type:"albums",num:10},{name:"歌手",type:"artists",num:100},{name:"歌单",type:"playlists",num:1e3}];this.type=t},changeType:function(t){t!=this.cur.type&&(this.$router.push({name:"search",query:{keywords:this.keywords,type:t}}),this.getSearch())},getSongDetail:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$api.SongDetail(t).then((function(t){e.list=t.data.songs}));case 2:case"end":return s.stop()}}),s)})))()},getSongSheet:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$api.TopPlaylist(t).then((function(t){e.songSheet=t.data.playlists,e.total=t.data.total,e.$refs.sort.innerHTML=t.data.cat}));case 2:case"end":return s.stop()}}),s)})))()}}},h=v,p=(s("d310"),s("2877")),m=Object(p["a"])(h,n,i,!1,null,"740c0c2e",null);e["default"]=m.exports},d0eb:function(t,e,s){},d28b:function(t,e,s){var n=s("746f");n("iterator")},d310:function(t,e,s){"use strict";var n=s("6b05"),i=s.n(n);i.a},e01a:function(t,e,s){"use strict";var n=s("23e7"),i=s("83ab"),a=s("da84"),r=s("5135"),o=s("861d"),c=s("9bf2").f,l=s("e893"),u=a.Symbol;if(i&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};l(f,u);var v=f.prototype=u.prototype;v.constructor=f;var h=v.toString,p="Symbol(test)"==String(u("test")),m=/^Symbol\((.*)\)[^)]+$/;c(v,"description",{configurable:!0,get:function(){var t=o(this)?this.valueOf():this,e=h.call(t);if(r(d,t))return"";var s=p?e.slice(7,-1):e.replace(m,"$1");return""===s?void 0:s}}),n({global:!0,forced:!0},{Symbol:f})}},e909:function(t,e,s){},f6de:function(t,e,s){t.exports=s.p+"img/error.403d153e.jpg"},fb6a:function(t,e,s){"use strict";var n=s("23e7"),i=s("861d"),a=s("e8b5"),r=s("23cb"),o=s("50c4"),c=s("fc6a"),l=s("8418"),u=s("b622"),d=s("1dde"),f=s("ae40"),v=d("slice"),h=f("slice",{ACCESSORS:!0,0:0,1:2}),p=u("species"),m=[].slice,g=Math.max;n({target:"Array",proto:!0,forced:!v||!h},{slice:function(t,e){var s,n,u,d=c(this),f=o(d.length),v=r(t,f),h=r(void 0===e?f:e,f);if(a(d)&&(s=d.constructor,"function"!=typeof s||s!==Array&&!a(s.prototype)?i(s)&&(s=s[p],null===s&&(s=void 0)):s=void 0,s===Array||void 0===s))return m.call(d,v,h);for(n=new(void 0===s?Array:s)(g(h-v,0)),u=0;v<h;v++,u++)v in d&&l(n,u,d[v]);return n.length=u,n}})}}]);
//# sourceMappingURL=chunk-93560680.99cd9f3d.js.map