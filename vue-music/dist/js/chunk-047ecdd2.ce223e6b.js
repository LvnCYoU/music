(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-047ecdd2"],{"0b2f":function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"user"},[i("div",{staticClass:"container"},[i("div",{staticClass:"left"},[t.info.profile?i("div",{staticClass:"user-detail"},[i("div",{staticClass:"user-img"},[i("img",{staticClass:"user-img",attrs:{src:t.info.profile.avatarUrl}})]),i("div",{staticClass:"user-message"},[i("div",{staticClass:"user-name"},[i("div",[i("h2",[i("span",{staticClass:"name"},[t._v(t._s(t.userName))]),i("span",{staticClass:"level"},[i("i",{staticClass:"el-icon-medal"}),i("p",[t._v("Lv"+t._s(t.info.level))])])])])]),i("ul",{staticClass:"user-tab-box"},[i("router-link",{attrs:{tag:"li",to:"/gender"}},[i("strong",[t._v(t._s(t.info.profile.gender))]),i("span",[t._v("动态")])]),i("router-link",{attrs:{tag:"li",to:"/user/follows"}},[i("strong",[t._v(t._s(t.info.profile.follows))]),i("span",[t._v("关注")])]),i("router-link",{attrs:{tag:"li",to:"/user/followeds"}},[i("strong",[t._v(t._s(t.info.profile.followeds))]),i("span",[t._v("粉丝")])])],1),i("div",{staticClass:"user-address inf"},[i("span",[t._v("所在地区: "+t._s(t.info.address||"-"))])])])]):t._e(),i("div",{staticClass:"song-rank"},[i("div",{staticClass:"title"},[i("h2",[t._v(" 听歌排行 "),i("small",[t._v("累计听歌"+t._s(t.info.listenSongs)+"首")])]),i("div",{staticClass:"btn"},[i("span",{class:t.time?"is-active":"",on:{click:function(s){return t.changeTime(!0)}}},[t._v(" 最近一周 ")]),i("span",{class:t.time?"":"is-active",on:{click:function(s){return t.changeTime(!1)}}},[t._v(" 所有时间 ")])])]),i("song-list",{attrs:{songLists:t.songlist}})],1)]),i("div",{staticClass:"right"},[i("user-playlist",{attrs:{userName:t.userName}})],1)])])},a=[],n=(i("96cf"),i("1da1")),r=i("8bda"),l=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"user-playlist"},[i("div",{staticClass:"create-list"},[i("header",{staticClass:"title"},[i("span",[t._v(t._s(t.userName)+"创建的歌单")])]),i("song-sheet",{attrs:{songLists:t.createList,limit:"two"}})],1),i("div",{staticClass:"collect-list"},[i("header",{staticClass:"title"},[i("span",[t._v(t._s(t.userName)+"收藏的歌单")])]),i("song-sheet",{attrs:{songLists:t.collectList,limit:"two"}})],1)])},o=[],c=(i("d81d"),i("29e5")),u={props:{userName:{type:String,required:!0}},data:function(){return{id:this.$route.query.id,createList:[],collectList:[]}},components:{SongSheet:c["a"]},mounted:function(){this.init()},methods:{init:function(){this.getUserPlaylist()},getUserPlaylist:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$api.UserPlaylist(t.id).then((function(s){var i=s.data.playlist;i.map((function(s){s.creator.userId==t.id?t.createList.push(s):t.collectList.push(s)}))}));case 2:case"end":return s.stop()}}),s)})))()}}},d=u,v=(i("70d9"),i("2877")),f=Object(v["a"])(d,l,o,!1,null,"4a701dfa",null),p=f.exports,h={data:function(){return{info:{},time:!0,type:1,id:this.$route.query.id,songlist:[],userName:""}},components:{SongList:r["a"],UserPlaylist:p},mounted:function(){this.init()},methods:{init:function(){var t=this;this.$nextTick((function(){t.getUser(),t.getUserRecord()}))},getUser:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$api.UserDetail(t.id).then((function(s){t.info=s.data,t.userName=t.info.profile.nickname}));case 2:case"end":return s.stop()}}),s)})))()},getUserRecord:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$api.UserRecord({uid:t.id,type:t.type}).then((function(s){t.songlist=s.data.weekData||s.data.allData}));case 2:case"end":return s.stop()}}),s)})))()},changeTime:function(t){t!=this.time&&(this.type=t?1:0,this.songlist.length=0,this.time=t,this.getUserRecord())}}},g=h,m=(i("d51e"),Object(v["a"])(g,e,a,!1,null,"2793f518",null));s["default"]=m.exports},"1ace":function(t,s,i){},5265:function(t,s,i){},"5dd7":function(t,s,i){},"70d9":function(t,s,i){"use strict";var e=i("5dd7"),a=i.n(e);a.a},8111:function(t,s,i){"use strict";var e=i("1ace"),a=i.n(e);a.a},"8bda":function(t,s,i){"use strict";var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:!1,expression:"false"}],staticClass:"song-list",attrs:{data:t.list,"element-loading-text":"拼命加载中","element-loading-background":"#fff"}},[i("div",{staticClass:"song-box"},[t._m(0),t._l(t.list,(function(s,e){return i("div",{key:s.id,ref:"list",refInFor:!0,class:t.songId==s.id&&t.playStatus?"item is-active":"item",on:{click:function(i){return t.showPlayer(s.id,s.al.id,e)}}},[i("div",{staticClass:"index"},[i("span",{staticClass:"num"},[t._v(t._s(t.handleNum(e)))]),i("i",{ref:"icon",refInFor:!0,staticClass:"iconfont icon-bofang"}),t._m(1,!0)]),i("div",{staticClass:"name"},[i("div",{staticClass:"cover"},[s.al?i("el-image",{attrs:{src:s.al.picUrl,fit:"fill"}}):t._e()],1),i("div",{staticClass:"song-name ellipsis"},[t._v(" "+t._s(s.name)+" ")])]),i("div",{staticClass:"artist"},[i("div",{staticClass:"wrapper ellipsis"},[i("span",[t._v(t._s(t.utils.getSinger(s.ar)))])])]),i("div",{staticClass:"album"},[i("div",{staticClass:"wrapper ellipsis"},[s.al?i("span",[t._v(t._s(s.al.name))]):t._e()])]),i("div",{staticClass:"duration"},[i("div",{staticClass:"wrapper"},[i("span",[t._v(t._s(t.utils.formatTime(s.dt)))])])])])}))],2),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.error,expression:"!error"}],staticClass:"load-more"},[i("div",{staticClass:"more"},[i("span",{on:{click:t.loadSong}},[t._v("查看更多")])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}],staticClass:"error"},[i("span",[t._v("暂时没有播放数据噢~")])])])},a=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"title"},[i("div",{staticClass:"index"},[t._v("序号")]),i("div",{staticClass:"name"},[t._v("歌曲")]),i("div",{staticClass:"artist"},[t._v("歌手")]),i("div",{staticClass:"album"},[t._v("专辑")]),i("div",{staticClass:"duration"},[t._v("时长")])])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"play-animation"},[i("span"),i("span"),i("span"),i("span"),i("span")])}],n=(i("d81d"),i("fb6a"),i("5530")),r=i("2f62"),l={props:{songLists:{type:Array,required:!0}},data:function(){return{list:[],loading:!1,error:!1,max:0}},computed:Object(n["a"])(Object(n["a"])({},Object(r["e"])(["audio","playStatus","playing","songId"])),Object(r["c"])(["getSongId","getCurrentSong","getPlayStatus"])),watch:{songLists:function(t){var s=this;if(0==t.length)return this.list.length=0,void(this.error=!0);this.error=!1;var i=t.slice(0,this.max||10);this.list.length=0,t[0].song?i.map((function(t){var i=t.song;s.list.push(i)})):this.list=i}},mounted:function(){this.init()},methods:Object(n["a"])(Object(n["a"])({},Object(r["b"])(["currentSong","songsList"])),{},{init:function(){this.playStatus&&this.getPlayStatus(!1)},handleNum:function(t){return t++,t<10?"0"+t:t},showPlayer:function(t,s,i){var e=this.utils.storeId(this.list),a={id:t,alid:s,index:i};this.getSongId(t),this.currentSong(a),this.songsList(e),this.playStatus?this.audio.pause():this.playing&&this.audio.play(),this.getPlayStatus(!this.playStatus)},loadSong:function(){var t=this,s=this.list.length;if(this.max=s+10,this.songLists[0].song){var i=this.songLists.slice(s,this.max);i.map((function(s){var i=s.song;t.list.push(i)}))}else this.list=this.songLists.slice(0,this.max)}})},o=l,c=(i("8111"),i("2877")),u=Object(c["a"])(o,e,a,!1,null,"eb6feeae",null);s["a"]=u.exports},d51e:function(t,s,i){"use strict";var e=i("5265"),a=i.n(e);a.a},fb6a:function(t,s,i){"use strict";var e=i("23e7"),a=i("861d"),n=i("e8b5"),r=i("23cb"),l=i("50c4"),o=i("fc6a"),c=i("8418"),u=i("b622"),d=i("1dde"),v=i("ae40"),f=d("slice"),p=v("slice",{ACCESSORS:!0,0:0,1:2}),h=u("species"),g=[].slice,m=Math.max;e({target:"Array",proto:!0,forced:!f||!p},{slice:function(t,s){var i,e,u,d=o(this),v=l(d.length),f=r(t,v),p=r(void 0===s?v:s,v);if(n(d)&&(i=d.constructor,"function"!=typeof i||i!==Array&&!n(i.prototype)?a(i)&&(i=i[h],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return g.call(d,f,p);for(e=new(void 0===i?Array:i)(m(p-f,0)),u=0;f<p;f++,u++)f in d&&c(e,u,d[f]);return e.length=u,e}})}}]);
//# sourceMappingURL=chunk-047ecdd2.ce223e6b.js.map