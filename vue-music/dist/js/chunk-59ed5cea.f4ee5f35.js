(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59ed5cea"],{"14d5":function(t,i,s){"use strict";var e=s("540e"),a=s.n(e);a.a},"1ace":function(t,i,s){},2343:function(t,i,s){},"540e":function(t,i,s){},"6b10":function(t,i,s){"use strict";var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"album"},t._l(t.list,(function(i){return s("div",{key:i.id,staticClass:"item"},[s("div",{staticClass:"cover"},[s("el-image",{attrs:{src:i.picUrl,fit:"cover"}}),s("div",{staticClass:"type"},[s("i",{staticClass:"el-icon-service"}),s("span",[t._v(t._s(i.type))])])],1),s("div",{staticClass:"info"},[s("p",{staticClass:"name"},[t._v(t._s(i.name))]),s("p",{staticClass:"singer"},[t._v(t._s(t.utils.getSinger(i.artists)))]),s("p",{staticClass:"time"},[t._v(t._s(t.utils.getYear(i.publishTime)))])])])})),0)},a=[],n={props:{list:{type:Array,required:!0}},data:function(){return{}},mounted:function(){this.init()},methods:{init:function(){}}},r=n,c=(s("14d5"),s("2877")),l=Object(c["a"])(r,e,a,!1,null,"6327ae47",null);i["a"]=l.exports},"6d34":function(t,i,s){},"7cc3":function(t,i,s){"use strict";var e=s("6d34"),a=s.n(e);a.a},8111:function(t,i,s){"use strict";var e=s("1ace"),a=s.n(e);a.a},"8bda":function(t,i,s){"use strict";var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:!1,expression:"false"}],staticClass:"song-list",attrs:{data:t.list,"element-loading-text":"拼命加载中","element-loading-background":"#fff"}},[s("div",{staticClass:"song-box"},[t._m(0),t._l(t.list,(function(i,e){return s("div",{key:i.id,ref:"list",refInFor:!0,class:t.songId==i.id&&t.playStatus?"item is-active":"item",on:{click:function(s){return t.showPlayer(i.id,i.al.id,e)}}},[s("div",{staticClass:"index"},[s("span",{staticClass:"num"},[t._v(t._s(t.handleNum(e)))]),s("i",{ref:"icon",refInFor:!0,staticClass:"iconfont icon-bofang"}),t._m(1,!0)]),s("div",{staticClass:"name"},[s("div",{staticClass:"cover"},[i.al?s("el-image",{attrs:{src:i.al.picUrl,fit:"fill"}}):t._e()],1),s("div",{staticClass:"song-name ellipsis"},[t._v(" "+t._s(i.name)+" ")])]),s("div",{staticClass:"artist"},[s("div",{staticClass:"wrapper ellipsis"},[s("span",[t._v(t._s(t.utils.getSinger(i.ar)))])])]),s("div",{staticClass:"album"},[s("div",{staticClass:"wrapper ellipsis"},[i.al?s("span",[t._v(t._s(i.al.name))]):t._e()])]),s("div",{staticClass:"duration"},[s("div",{staticClass:"wrapper"},[s("span",[t._v(t._s(t.utils.formatTime(i.dt)))])])])])}))],2),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.error,expression:"!error"}],staticClass:"load-more"},[s("div",{staticClass:"more"},[s("span",{on:{click:t.loadSong}},[t._v("查看更多")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}],staticClass:"error"},[s("span",[t._v("暂时没有播放数据噢~")])])])},a=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"title"},[s("div",{staticClass:"index"},[t._v("序号")]),s("div",{staticClass:"name"},[t._v("歌曲")]),s("div",{staticClass:"artist"},[t._v("歌手")]),s("div",{staticClass:"album"},[t._v("专辑")]),s("div",{staticClass:"duration"},[t._v("时长")])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"play-animation"},[s("span"),s("span"),s("span"),s("span"),s("span")])}],n=(s("d81d"),s("fb6a"),s("5530")),r=s("2f62"),c={props:{songLists:{type:Array,required:!0}},data:function(){return{list:[],loading:!1,error:!1,max:0}},computed:Object(n["a"])(Object(n["a"])({},Object(r["e"])(["audio","playStatus","playing","songId"])),Object(r["c"])(["getSongId","getCurrentSong","getPlayStatus"])),watch:{songLists:function(t){var i=this;if(0==t.length)return this.list.length=0,void(this.error=!0);this.error=!1;var s=t.slice(0,this.max||10);this.list.length=0,t[0].song?s.map((function(t){var s=t.song;i.list.push(s)})):this.list=s}},mounted:function(){this.init()},methods:Object(n["a"])(Object(n["a"])({},Object(r["b"])(["currentSong","songsList"])),{},{init:function(){this.playStatus&&this.getPlayStatus(!1)},handleNum:function(t){return t++,t<10?"0"+t:t},showPlayer:function(t,i,s){var e=this.utils.storeId(this.list),a={id:t,alid:i,index:s};this.getSongId(t),this.currentSong(a),this.songsList(e),this.playStatus?this.audio.pause():this.playing&&this.audio.play(),this.getPlayStatus(!this.playStatus)},loadSong:function(){var t=this,i=this.list.length;if(this.max=i+10,this.songLists[0].song){var s=this.songLists.slice(i,this.max);s.map((function(i){var s=i.song;t.list.push(s)}))}else this.list=this.songLists.slice(0,this.max)}})},l=c,o=(s("8111"),s("2877")),u=Object(o["a"])(l,e,a,!1,null,"eb6feeae",null);i["a"]=u.exports},a3d5:function(t,i,s){"use strict";var e=s("2343"),a=s.n(e);a.a},b27b:function(t,i,s){"use strict";var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{ref:"loading",staticClass:"load-more",staticStyle:{height:"100%",width:"100%"},attrs:{data:t.artist}},[s("ul",{staticClass:"singer-list"},t._l(t.artist,(function(i,e){return s("li",{key:i.id+i.name},[s("router-link",{attrs:{tag:"a",to:{name:"singer-detail",query:{id:i.id}}}},[s("div",{staticClass:"cover"},[s("div",{staticClass:"img"},[s("el-image",{directives:[{name:"loading",rawName:"v-loading",value:i.load,expression:"item.load"}],attrs:{src:i.imgUrl||i.picUrl,fit:"fill",data:t.artist[e].imgUrl||t.artist[e].picUrl,"element-loading-background":"#fff"},on:{load:function(s){return t.loadImg(i)}}},[s("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[s("i",{staticClass:"el-icon-picture-outline"})])])],1)]),s("div",{staticClass:"info"},[s("p",{staticClass:"name"},[t._v(t._s(i.name))]),s("p",{staticClass:"count"},[t._v("单曲数"+t._s(i.music||i.musicSize))])])])],1)})),0)])},a=[],n={props:{artist:{type:Array,required:!0}},watch:{artist:function(t){if(console.log(t),t.length<=40)return this.img=0,this.artist=t}},data:function(){return{img:0,loading:!0,len:0}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.$nextTick((function(){console.log(t.artist)})),this.len=this.artist.length},loadImg:function(t){var i=this;this.img>this.len-5&&this.$nextTick((function(){i.loading=!1,t.load=!1})),this.loading=!0,++this.img}}},r=n,c=(s("a3d5"),s("2877")),l=Object(c["a"])(r,e,a,!1,null,"610e84d6",null);i["a"]=l.exports},f20b:function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"singer-detail"},[s("div",{staticClass:"container"},[s("div",{staticClass:"singer-info"},[s("div",{staticClass:"cover"},[s("el-image",{attrs:{src:t.info.picUrl,fit:"cover"}})],1),s("div",{staticClass:"info"},[s("div",{staticClass:"name"},[s("h1",[t._v(t._s(t.info.name))])]),s("div",{staticClass:"des"},[s("span",[t._v(t._s(t.info.desc))])]),s("ul",{staticClass:"works"},[s("li",{staticClass:"item"},[s("span",{on:{click:function(i){return t.jump("song")}}},[t._v("单曲 "),s("strong",[t._v(t._s(t.info.music))])])]),s("li",{staticClass:"item"},[s("span",{on:{click:function(i){return t.jump("album")}}},[t._v("专辑 "),s("strong",[t._v(t._s(t.info.album))])])]),s("li",{staticClass:"item"},[s("span",{on:{click:function(i){return t.jump("mv")}}},[t._v("MV "),s("strong",[t._v(t._s(t.info.mv))])])])])])]),s("div",{staticClass:"song",attrs:{id:"song"}},[t._m(0),s("song-list",{attrs:{songLists:t.songList}})],1),s("div",{staticClass:"album",attrs:{id:"album"}},[t._m(1),s("album",{attrs:{list:t.album}})],1),s("div",{staticClass:"mv",attrs:{id:"mv"}},[t._m(2),s("mv",{attrs:{list:t.mv}})],1),s("div",{staticClass:"simi"},[t._m(3),s("singer",{attrs:{artist:t.simi}})],1)])])},a=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("header",{staticClass:"title"},[s("h2",[t._v("热门歌曲")])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("header",{staticClass:"title"},[s("h2",[t._v("专辑")])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("header",{staticClass:"title"},[s("h2",[t._v("MV")])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("header",{staticClass:"title"},[s("h2",[t._v("相似歌手")])])}],n=(s("fb6a"),s("b0c0"),s("96cf"),s("1da1")),r=s("8bda"),c=s("6b10"),l=s("b27b"),o=s("34a9"),u={data:function(){return{id:this.$route.query.id,info:{},song:[],songList:[],album:[],artist:[],mv:[],simi:[]}},components:{SongList:r["a"],Album:c["a"],Singer:l["a"],Mv:o["a"]},mounted:function(){this.init()},methods:{init:function(){var t=this;console.log(this.$route),this.$nextTick((function(){t.getSong(),t.getSingerAlbum(),t.getSingerMv(),t.getSimiSinger()}))},getSong:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$api.Artists(t.id).then((function(i){t.songList=i.data.hotSongs;var s=i.data.artist;t.getSingerInfo(s)}));case 2:t.song=t.songList.slice(0,10);case 3:case"end":return i.stop()}}),i)})))()},getSingerAlbum:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s={id:t.id,limit:4},i.next=3,t.$api.ArtistAlbum(s).then((function(i){t.album=i.data.hotAlbums}));case 3:case"end":return i.stop()}}),i)})))()},getSingerMv:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$api.ArtistMv(t.id).then((function(i){t.mv=i.data.mvs.slice(0,4)}));case 2:case"end":return i.stop()}}),i)})))()},getSimiSinger:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$api.SimiArtist(t.id).then((function(i){console.log(i),t.simi=i.data.artists.slice(0,8)}));case 2:case"end":return i.stop()}}),i)})))()},getSingerInfo:function(t){this.info={name:t.name,picUrl:t.picUrl,desc:t.briefDesc,album:t.albumSize,music:t.musicSize,mv:t.mvSize}},jump:function(t){document.querySelector("#".concat(t)).scrollIntoView(!0)}}},d=u,v=(s("7cc3"),s("2877")),m=Object(v["a"])(d,e,a,!1,null,"2cef0d2e",null);i["default"]=m.exports},fb6a:function(t,i,s){"use strict";var e=s("23e7"),a=s("861d"),n=s("e8b5"),r=s("23cb"),c=s("50c4"),l=s("fc6a"),o=s("8418"),u=s("b622"),d=s("1dde"),v=s("ae40"),m=d("slice"),f=v("slice",{ACCESSORS:!0,0:0,1:2}),g=u("species"),h=[].slice,p=Math.max;e({target:"Array",proto:!0,forced:!m||!f},{slice:function(t,i){var s,e,u,d=l(this),v=c(d.length),m=r(t,v),f=r(void 0===i?v:i,v);if(n(d)&&(s=d.constructor,"function"!=typeof s||s!==Array&&!n(s.prototype)?a(s)&&(s=s[g],null===s&&(s=void 0)):s=void 0,s===Array||void 0===s))return h.call(d,m,f);for(e=new(void 0===s?Array:s)(p(f-m,0)),u=0;m<f;m++,u++)m in d&&o(e,u,d[m]);return e.length=u,e}})}}]);
//# sourceMappingURL=chunk-59ed5cea.f4ee5f35.js.map