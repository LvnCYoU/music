(function(e){function n(n){for(var r,u,a=n[0],i=n[1],s=n[2],l=0,f=[];l<a.length;l++)u=a[l],Object.prototype.hasOwnProperty.call(o,u)&&o[u]&&f.push(o[u][0]),o[u]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);d&&d(n);while(f.length)f.shift()();return c.push.apply(c,s||[]),t()}function t(){for(var e,n=0;n<c.length;n++){for(var t=c[n],r=!0,u=1;u<t.length;u++){var a=t[u];0!==o[a]&&(r=!1)}r&&(c.splice(n--,1),e=i(i.s=t[0]))}return e}var r={},u={app:0},o={app:0},c=[];function a(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-06edd885":"f6685dfc","chunk-0f556d78":"fa70903a","chunk-047ecdd2":"ce223e6b","chunk-40435fa2":"f11737d8","chunk-48a4dc8e":"cd765d01","chunk-93560680":"99cd9f3d","chunk-d43c0f48":"f9cd051e","chunk-2a19b324":"4df7ecf1","chunk-2d0b9f79":"f9ec8d8a","chunk-2d0d0837":"7f719ca5","chunk-4727c50d":"bb6664b0","chunk-66a81365":"8197e328","chunk-67e4b6ca":"f6e60081","chunk-7d3c06fd":"a803ab2b","chunk-dff3849a":"f108b9d2","chunk-e16c250c":"e0286b68","chunk-1b50e7bc":"1e11c67e","chunk-59ed5cea":"f4ee5f35","chunk-fa4e71f8":"e327244c"}[e]+".js"}function i(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=function(e){var n=[],t={"chunk-06edd885":1,"chunk-0f556d78":1,"chunk-047ecdd2":1,"chunk-40435fa2":1,"chunk-48a4dc8e":1,"chunk-93560680":1,"chunk-d43c0f48":1,"chunk-2a19b324":1,"chunk-4727c50d":1,"chunk-66a81365":1,"chunk-67e4b6ca":1,"chunk-7d3c06fd":1,"chunk-dff3849a":1,"chunk-e16c250c":1,"chunk-1b50e7bc":1,"chunk-59ed5cea":1,"chunk-fa4e71f8":1};u[e]?n.push(u[e]):0!==u[e]&&t[e]&&n.push(u[e]=new Promise((function(n,t){for(var r="css/"+({}[e]||e)+"."+{"chunk-06edd885":"ea17dc68","chunk-0f556d78":"a5247148","chunk-047ecdd2":"d12fb1c9","chunk-40435fa2":"15d1205c","chunk-48a4dc8e":"9af9f579","chunk-93560680":"a171f931","chunk-d43c0f48":"4f59387c","chunk-2a19b324":"40cdd229","chunk-2d0b9f79":"31d6cfe0","chunk-2d0d0837":"31d6cfe0","chunk-4727c50d":"4e4b22b4","chunk-66a81365":"b3319723","chunk-67e4b6ca":"edad4e3e","chunk-7d3c06fd":"a930d500","chunk-dff3849a":"37aa28dc","chunk-e16c250c":"fb5a50c9","chunk-1b50e7bc":"96d9980e","chunk-59ed5cea":"0a3cdf2e","chunk-fa4e71f8":"267f59e6"}[e]+".css",o=i.p+r,c=document.getElementsByTagName("link"),a=0;a<c.length;a++){var s=c[a],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===o))return n()}var f=document.getElementsByTagName("style");for(a=0;a<f.length;a++){s=f[a],l=s.getAttribute("data-href");if(l===r||l===o)return n()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=n,d.onerror=function(n){var r=n&&n.target&&n.target.src||o,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete u[e],d.parentNode.removeChild(d),t(c)},d.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(d)})).then((function(){u[e]=0})));var r=o[e];if(0!==r)if(r)n.push(r[2]);else{var c=new Promise((function(n,t){r=o[e]=[n,t]}));n.push(r[2]=c);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=a(e);var f=new Error;s=function(n){l.onerror=l.onload=null,clearTimeout(d);var t=o[e];if(0!==t){if(t){var r=n&&("load"===n.type?"missing":n.type),u=n&&n.target&&n.target.src;f.message="Loading chunk "+e+" failed.\n("+r+": "+u+")",f.name="ChunkLoadError",f.type=r,f.request=u,t[1](f)}o[e]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(n)},i.m=e,i.c=r,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)i.d(t,r,function(n){return e[n]}.bind(null,r));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=n,s=s.slice();for(var f=0;f<s.length;f++)n(s[f]);var d=l;c.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},1927:function(e,n,t){},"4ef4":function(e,n,t){},"56d7":function(e,n,t){"use strict";t.r(n);t("b0c0"),t("0fb7"),t("450d");var r=t("f529"),u=t.n(r),o=(t("e260"),t("e6cf"),t("cca6"),t("a79d"),t("2b0e")),c=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("back-top"),"/signin"!==e.$route.path?t("app-header"):e._e(),t("app-main"),"/signin"!==e.$route.path?t("Player",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.playing,expression:"$store.state.playing"}]}):e._e(),"/signin"!==e.$route.path?t("app-footer"):e._e()],1)},a=[],i=(t("d3b7"),function(){return t.e("chunk-4727c50d").then(t.bind(null,"e725"))}),s=function(){return t.e("chunk-fa4e71f8").then(t.bind(null,"b288"))},l=function(){return t.e("chunk-7d3c06fd").then(t.bind(null,"b31b"))},f=function(){return t.e("chunk-06edd885").then(t.bind(null,"9fe9"))},d=function(){return t.e("chunk-2a19b324").then(t.bind(null,"f94a"))},h={mounted:function(){window.addEventListener("unload",this.saveState)},methods:{saveState:function(){sessionStorage.setItem("state",JSON.stringify(this.$store.state))}},components:{AppHeader:i,AppMain:s,Player:l,AppFooter:f,BackTop:d}},p=h,g=t("2877"),m=Object(g["a"])(p,c,a,!1,null,null,null),b=m.exports,y=t("8c4f"),k=t("2f62"),v={getSongId:function(e){return function(n){return e.songId=n}},getCurrentSong:function(e){return e.currentSong},getPlayerMode:function(e){return function(n){return e.playMode=n}},getPlayStatus:function(e){return function(n){return e.playStatus=n}},getStatus:function(e){return function(n){return e.status=n}}},S={CHANGE_STATUS:function(e,n){return e.status=n},SHOW_PLAYER:function(e){return e.playing=!0},CURRENT_SONG:function(e,n){return e.currentSong=Object.assign(e.currentSong,n)},SONG_LIST:function(e,n){return e.songList=n},AUDIO_INIT:function(e,n){return e.audio=n},SONGSHEET_INIT:function(e,n){return e.songSheet=n},SINGER_INIT:function(e,n){return e.singer=n},MV_INIT:function(e,n){return e.mv=n},SHOW_LOADING:function(e){return e.isLoading=!0},HIDDEN_LOADING:function(e){return e.isLoading=!1}},w={currentSong:function(e,n){var t=e.commit;t("CURRENT_SONG",n)},songsList:function(e,n){var t=e.commit;t("SONG_LIST",n)},audioInit:function(e,n){var t=e.commit;t("AUDIO_INIT",n)},songSheetInit:function(e,n){var t=e.commit;t("SONGSHEET_INIT",n)},singerInit:function(e,n){var t=e.commit;t("SINGER_INIT",n)},mvInit:function(e,n){var t=e.commit;t("MV_INIT",n)}},T=sessionStorage.getItem("state")?JSON.parse(sessionStorage.getItem("state")):{status:!1,playing:!1,playStatus:!1,songId:null,currentSong:{},audio:{},songList:[],playMode:"loop",songSheet:{},singer:{},mv:{},isLoading:!1};o["default"].use(k["a"]);var I=new k["a"].Store({state:T,getters:v,mutations:S,actions:w,modules:{}}),N=function(){return Promise.all([t.e("chunk-0f556d78"),t.e("chunk-48a4dc8e")]).then(t.bind(null,"0bb2"))},_=function(){return Promise.all([t.e("chunk-0f556d78"),t.e("chunk-d43c0f48")]).then(t.bind(null,"08c2"))},P=function(){return t.e("chunk-dff3849a").then(t.bind(null,"01da"))},O=function(){return Promise.all([t.e("chunk-e16c250c"),t.e("chunk-1b50e7bc")]).then(t.bind(null,"1d25"))},E=function(){return t.e("chunk-2d0d0837").then(t.bind(null,"67ff"))},A=function(){return Promise.all([t.e("chunk-0f556d78"),t.e("chunk-40435fa2")]).then(t.bind(null,"e63d"))},L=function(){return t.e("chunk-66a81365").then(t.bind(null,"631b"))},D=function(){return Promise.all([t.e("chunk-0f556d78"),t.e("chunk-047ecdd2")]).then(t.bind(null,"0b2f"))};o["default"].use(y["a"]);var M=new y["a"]({routes:[{path:"/",redirect:"/home"},{name:"home",path:"/home",component:N},{path:"/rank",component:_},{path:"/singer",component:P},{path:"/mv",component:O,meta:{title:"MV",auth:!0},beforeEnter:function(e,n,t){I.state.status?t():(u()({message:"请先登录",type:"error",duration:1e3}),t({path:"/signin?mv"}))}},{path:"/video",component:E,beforeEnter:function(e,n,t){u()({message:"请先登录",type:"error",duration:1e3}),t({path:"/signin?mv"})}},{path:"/songsheet",component:A},{path:"/signin",component:L},{name:"user",path:"/user",component:D,children:[]},{name:"songsheet-detail",path:"/songsheet-detail",component:function(){return t.e("chunk-67e4b6ca").then(t.bind(null,"c18c"))}},{name:"singer-detail",path:"/singer-detail",component:function(){return Promise.all([t.e("chunk-e16c250c"),t.e("chunk-59ed5cea")]).then(t.bind(null,"f20b"))}},{name:"mv-detail",path:"/mv-detail",component:function(){return t.e("chunk-2d0b9f79").then(t.bind(null,"34ce"))}},{name:"search",path:"/search",component:function(){return Promise.all([t.e("chunk-0f556d78"),t.e("chunk-93560680")]).then(t.bind(null,"ca17"))}}]}),j=M,x=(t("1951"),t("eedf")),C=t.n(x),$=(t("7a0f"),t("0f6c")),G=t.n($),H=(t("f4f9"),t("c2cc")),U=t.n(H),R=(t("4ca3"),t("443e")),B=t.n(R),q=(t("ce18"),t("f58e")),z=t.n(q),J=(t("8bd8"),t("4cb2")),W=t.n(J),Y=(t("10cb"),t("f3ad")),F=t.n(Y),V=(t("a673"),t("7b31")),X=t.n(V),K=(t("de31"),t("c69e")),Q=t.n(K),Z=(t("bdc7"),t("aa2f")),ee=t.n(Z),ne=(t("425f"),t("4105")),te=t.n(ne),re=(t("eca7"),t("3787")),ue=t.n(re),oe=(t("cb70"),t("b370")),ce=t.n(oe),ae=(t("960d"),t("defb")),ie=t.n(ae),se=(t("bd49"),t("18ff")),le=t.n(se),fe=(t("96dc"),t("9cea")),de=t.n(fe),he=(t("186a"),t("301f")),pe=t.n(he),ge=(t("acb6"),t("c673")),me=t.n(ge),be=(t("b5c2"),t("20cf")),ye=t.n(be),ke=(t("672e"),t("101e")),ve=t.n(ke),Se=(t("be4f"),t("896a")),we=t.n(Se),Te=(t("279e"),t("7d94")),Ie=t.n(Te),Ne=(t("3db2"),t("58b8")),_e=t.n(Ne);o["default"].use(C.a).use(G.a).use(U.a).use(B.a).use(z.a).use(W.a).use(F.a).use(X.a).use(Q.a).use(ee.a).use(te.a).use(ue.a).use(ce.a).use(ie.a).use(le.a).use(de.a).use(pe.a).use(me.a).use(ye.a).use(ve.a).use(we.a).use(Ie.a).use(_e.a);var Pe=t("5530"),Oe=(t("99af"),t("bc3a")),Ee=t.n(Oe),Ae=t("4328"),Le=t.n(Ae),De=Ee.a.create({baseURL:"http://localhost:3000/",timeout:2e3,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:[function(e){return Le.a.stringify(e)}]});De.interceptors.request.use((function(e){return I.commit("SHOW_LOADING"),e}),(function(e){return u.a.error({message:"请求超时"}),e})),De.interceptors.response.use((function(e){return I.commit("HIDDEN_LOADING"),e}));var Me=De,je={PhoneLogin:function(e,n){return Me.get("/login/cellphone?phone=".concat(e,"&password=").concat(n,"&cookie=").concat(e))},LoginStatus:function(){return Me.get("/login/status")},Logout:function(){return Me.get("/logout")},LoginRefresh:function(){return Me.get("/login/refresh")},UserSubcount:function(){return Me.get("/user/subcount")},UserDetail:function(e){return Me.get("/user/detail?uid=".concat(e))},UserLevel:function(){return Me.post("user/level")},UserPlaylist:function(e){return Me.get("user/playlist?uid=".concat(e))},UserRecord:function(e){return Me.get("/user/record",{params:e})}},xe={Banner:function(e){return Me.get("/banner?".concat(e))},Personalized:function(e){return Me.post("/personalized?limit=".concat(e))},PlaylistDetail:function(e){return Me.get("/playlist/detail",{params:e})},PersonalizedNewSong:function(){return Me.post("personalized/newsong")},SongUrl:function(e){return Me.post("/song/url?id=".concat(e))},Lyric:function(e){return Me.get("/lyric?id=".concat(e))},SongDetail:function(e){return Me.get("/song/detail?ids=".concat(e))},Album:function(e){return Me.get("/album?id=".concat(e))},TopList:function(){return Me.post("/toplist")},PlaylistCatlist:function(){return Me.post("/playlist/catlist")},PlaylistHot:function(){return Me.post("playlist/hot")},TopPlaylist:function(e){return Me.get("/top/playlist?",{params:e})},PlaylistHighTags:function(){return Me.post("/playlist/highquality/tags")},TopPlaylistHigh:function(e,n){var t=e||"全部";return Me.post("/top/playlist/highquality",{cat:t,limit:40,before:n})},ArtistList:function(e){return Me.get("/artist/list",{params:e})},MvAll:function(e){return Me.get("/mv/all",{params:e})},PlaylistSubscribers:function(e){return Me.get("/playlist/subscribers",{params:e})},RelatedPlaylist:function(e){return Me.get("/related/playlist?id=".concat(e))},CommentPlaylist:function(e){return Me.get("comment/playlist?id=".concat(e))},SearchSuggest:function(e){return Me.get("/search/suggest?keywords=".concat(e))},Search:function(e){return Me.get("/search",{params:e})},Artists:function(e){return Me.get("/artists?id=".concat(e))},ArtistDesc:function(e){return Me.get("/artist/desc?id=".concat(e))},ArtistAlbum:function(e){return Me.get("/artist/album",{params:e})},ArtistMv:function(e){return Me.get("artist/mv?id=".concat(e))},SimiArtist:function(e){return Me.get("simi/artist?id=".concat(e))}},Ce=Object(Pe["a"])(Object(Pe["a"])(Object(Pe["a"])({},je),xe),{},{axios:Ee.a}),$e=(t("4160"),t("d81d"),t("13d5"),t("4ec9"),t("a9e3"),t("ac1f"),t("25f0"),t("3ca3"),t("5319"),t("1276"),t("159b"),t("ddb0"),{formatTime:function(e){var n,t,r;if("number"==typeof e)e<1e3?r="00:00":e<6e4?(t=~~(e%6e4/1e3),t<10&&(t="0"+t),r="00:"+t):(n=~~(e%36e5/6e4),t=~~(e%6e4/1e3),n<10&&(n="0"+n),t<10&&(t="0"+t),r=n+":"+t);else if(e instanceof Array){var u;n=e[1],t=e[2],u=e[3],r=1e3*(Number(60*n)+Number(t))+Number(u/1e3)}return r},SimplifyPlayCount:function(e){var n=e.toString().length;return n<5?Math.round(e):n<9&&n>=5?Math.round(e/1e4)+"万":Math.round(e/1e8)+"亿"},Lyric:function(e){var n=this,t=[],r=/\[(\d{2}):(\d{2}).(\d{3}|\d{2})]/g;return e.split("\n").map((function(e){var u,o={};o.lyric=e.replace(r,""),u=r.exec(e),o.time=n.formatTime(u),o.lyric&&o.time&&t.push(o)})),t.forEach((function(e,n){e.index=n})),t},getYear:function(e){var n,t,r,u,o=new Date(e);return n=o.getFullYear()+"-",t=(o.getMonth()+1<10?"0"+(o.getMonth()+1):o.getMonth()+1)+"-",r=o.getDate()+" ",u=n+t+r,u},getSinger:function(e){if(e){var n,t,r="";if(n=e.artists?e.artists:e,t=n.length,t>1)for(var u=0;u<t;u++)u?r+=" / "+n[u].name:r=n[u].name;else r=n[0].name;return r}},getMonth:function(e){var n,t=this,r=new Date(e),u=new Date,o=u-r,c=6e4,a=60*c,i=24*a,s=30*i,l=new Map([["year",function(){return n=~~(o/(12*s))+"年前"}],["month",function(){return n=~~(o/s)+"月前"}],["week",function(){return n=~~(o/(7*i))+"周前"}],["day",function(){return n=~~(o/i)+"天前"}],["hour",function(){return n=~~(o/a)+"小时前"}],["minute",function(){return n=~~(o/c)+"分钟前"}],["defalut",function(){return n="刚刚"}],["init",function(){o/(12*s)>=1?l.get("year").call(t):o/s>=1?l.get("month").call(t):o/(7*i)>=1?l.get("week").call(t):o/i>=1?l.get("day").call(t):o/a>=1?l.get("hour").call(t):o/c>=1?l.get("minute").call(t):l.get("default").call(t)}]]);return l.get("init").call(this),n},storeId:function(e){var n=this,t=[];return e.forEach((function(e,r){var u,o,c,a;e.song?(u=e.song.album.id,c=e.name,a=n.getSinger(e.song)):e.album?(u=e.album.id,c=e.name,a=n.getSinger(e.song)):(u=e.al.id,c=e.name,a=n.getSinger(e.ar)),o=e.id;var i={alid:u,id:o,song:c,index:r,singer:a};t.push(i)})),t},MusicId:function(e){var n=e.reduce((function(e,n){return e+n.id+","}),"");return n=n.substr(0,n.length-1),n}}),Ge=t("5488"),He=t.n(Ge);t("1927"),t("c5dc"),t("4ef4");o["default"].component(He.a.name,He.a),o["default"].config.productionTip=!1,o["default"].prototype.$api=Ce,o["default"].prototype.$Message=u.a,o["default"].prototype.utils=$e,new o["default"]({router:j,store:I,render:function(e){return e(b)}}).$mount("#app")},c5dc:function(e,n,t){"use strict";t.r(n);var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{ref:"wrapper"},[e._t("default")],2)},u=[],o=(t("a9e3"),t("f40f")),c={props:{probeType:{type:Number,default:1},click:{type:Boolean,default:!1},scrollX:{type:Boolean,default:!1},listenScroll:{type:Boolean,default:!1},data:{type:Array,default:null},pullup:{type:Boolean,default:!1},pulldown:{type:Boolean,default:!1},beforeScroll:{type:Boolean,default:!1},refreshDelay:{type:Number,default:20}},mounted:function(){var e=this;setTimeout((function(){e._initScroll()}),20)},methods:{_initScroll:function(){var e=this;if(this.$refs.wrapper){if(this.scroll=new o["a"](this.$refs.wrapper,{probeType:this.probeType,click:this.click,scrollX:this.scrollX,preventDefault:!1,tap:!0,mouseWheel:!0}),this.listenScroll){var n=this;this.scroll.on("scroll",(function(e){n.$emit("scroll",e)}))}this.pullup&&this.scroll.on("scrollEnd",(function(){e.scroll.y<=e.scroll.maxScrollY+50&&e.$emit("scrollToEnd")})),this.beforeScroll&&this.scroll.on("beforeScrollStart",(function(){e.$emit("beforeScroll")}))}},disable:function(){this.scroll&&this.scroll.disable()},enable:function(){this.scroll&&this.scroll.enable()},refresh:function(){this.scroll&&this.scroll.refresh()},scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)},scrollToElement:function(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)}},watch:{data:function(){var e=this;setTimeout((function(){e.refresh()}),this.refreshDelay)}}},a=c,i=t("2877"),s=Object(i["a"])(a,r,u,!1,null,null,null);n["default"]=s.exports}});
//# sourceMappingURL=app.6eda639e.js.map