(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d3c06fd"],{"1da1":function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));e("d3b7");function i(t,n,e,i,r,o,a){try{var s=t[o](a),c=s.value}catch(l){return void e(l)}s.done?n(c):Promise.resolve(c).then(i,r)}function r(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var a=t.apply(n,e);function s(t){i(a,r,o,s,c,"next",t)}function c(t){i(a,r,o,s,c,"throw",t)}s(void 0)}))}}},5887:function(t,n,e){"use strict";var i=e("ca9f"),r=e.n(i);r.a},"96cf":function(t,n,e){var i=function(t){"use strict";var n,e=Object.prototype,i=e.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{c({},"")}catch(T){c=function(t,n,e){return t[n]=e}}function l(t,n,e,i){var r=n&&n.prototype instanceof v?n:v,o=Object.create(r.prototype),a=new k(i||[]);return o._invoke=_(t,e,a),o}function u(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(T){return{type:"throw",arg:T}}}t.wrap=l;var h="suspendedStart",f="suspendedYield",g="executing",d="completed",p={};function v(){}function y(){}function m(){}var w={};w[o]=function(){return this};var L=Object.getPrototypeOf,x=L&&L(L(j([])));x&&x!==e&&i.call(x,o)&&(w=x);var S=m.prototype=v.prototype=Object.create(w);function b(t){["next","throw","return"].forEach((function(n){c(t,n,(function(t){return this._invoke(n,t)}))}))}function C(t,n){function e(r,o,a,s){var c=u(t[r],t,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"===typeof h&&i.call(h,"__await")?n.resolve(h.__await).then((function(t){e("next",t,a,s)}),(function(t){e("throw",t,a,s)})):n.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return e("throw",t,a,s)}))}s(c.arg)}var r;function o(t,i){function o(){return new n((function(n,r){e(t,i,n,r)}))}return r=r?r.then(o,o):o()}this._invoke=o}function _(t,n,e){var i=h;return function(r,o){if(i===g)throw new Error("Generator is already running");if(i===d){if("throw"===r)throw o;return N()}e.method=r,e.arg=o;while(1){var a=e.delegate;if(a){var s=P(a,e);if(s){if(s===p)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(i===h)throw i=d,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);i=g;var c=u(t,n,e);if("normal"===c.type){if(i=e.done?d:f,c.arg===p)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(i=d,e.method="throw",e.arg=c.arg)}}}function P(t,e){var i=t.iterator[e.method];if(i===n){if(e.delegate=null,"throw"===e.method){if(t.iterator["return"]&&(e.method="return",e.arg=n,P(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=u(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function O(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function E(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){while(++r<t.length)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return a.next=a}}return{next:N}}function N(){return{value:n,done:!0}}return y.prototype=S.constructor=m,m.constructor=y,y.displayName=c(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"===typeof t&&t.constructor;return!!n&&(n===y||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,s,"GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},b(C.prototype),C.prototype[a]=function(){return this},t.AsyncIterator=C,t.async=function(n,e,i,r,o){void 0===o&&(o=Promise);var a=new C(l(n,e,i,r),o);return t.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(S),c(S,s,"Generator"),S[o]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){while(n.length){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0],n=t.completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(i,r){return s.type="throw",s.arg=t,e.next=i,r&&(e.method="next",e.arg=n),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),p},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),E(e),p}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var i=e.completion;if("throw"===i.type){var r=i.arg;E(e)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:j(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=n),p}},t}(t.exports);try{regeneratorRuntime=i}catch(r){Function("r","regeneratorRuntime = r")(i)}},a434:function(t,n,e){"use strict";var i=e("23e7"),r=e("23cb"),o=e("a691"),a=e("50c4"),s=e("7b0b"),c=e("65f0"),l=e("8418"),u=e("1dde"),h=e("ae40"),f=u("splice"),g=h("splice",{ACCESSORS:!0,0:0,1:2}),d=Math.max,p=Math.min,v=9007199254740991,y="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!f||!g},{splice:function(t,n){var e,i,u,h,f,g,m=s(this),w=a(m.length),L=r(t,w),x=arguments.length;if(0===x?e=i=0:1===x?(e=0,i=w-L):(e=x-2,i=p(d(o(n),0),w-L)),w+e-i>v)throw TypeError(y);for(u=c(m,i),h=0;h<i;h++)f=L+h,f in m&&l(u,h,m[f]);if(u.length=i,e<i){for(h=L;h<w-i;h++)f=h+i,g=h+e,f in m?m[g]=m[f]:delete m[g];for(h=w;h>w-i+e;h--)delete m[h-1]}else if(e>i)for(h=w-i;h>L;h--)f=h+i-1,g=h+e-1,f in m?m[g]=m[f]:delete m[g];for(h=0;h<e;h++)m[h+L]=arguments[h+2];return m.length=w-i+e,u}})},b31b:function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("transition",{attrs:{name:"el-fade-in"}},[e("div",{ref:"playerBox",staticClass:"player-box"},[e("audio",{ref:"playingBox",attrs:{preload:"auto",src:t.getCurrentSong.songUrl},on:{timeupdate:t.getCurrentTime,ended:t.songEnd}}),e("div",{staticClass:"song-image"},[e("img",{attrs:{src:t.getCurrentSong.img}})]),e("div",{staticClass:"info"},[e("h2",[t._v(t._s(t.getCurrentSong.song))]),e("p",[t._v(t._s(t.getCurrentSong.singer))])]),e("div",{staticClass:"player-btn"},[e("i",{staticClass:"iconfont icon-shangyishou",attrs:{title:"上一首"},on:{click:t.propSong}}),e("i",{class:t.playStatus?"iconfont icon-zanting":"iconfont icon-bofang",attrs:{title:t.playStatus?"暂停":"播放"},on:{click:t.playing}}),e("i",{staticClass:"iconfont icon-xiayishou",attrs:{title:"下一首"},on:{click:t.nextSong}})]),e("div",{staticClass:"progress-box"},[e("p",{staticClass:"current-time"},[t._v(t._s(t.utils.formatTime(t.time)))]),e("div",{staticClass:"progress"},[e("el-slider",{attrs:{max:t.getCurrentSong.dt,"show-tooltip":!1},on:{change:t.changeCurrentTime},model:{value:t.time,callback:function(n){t.time=n},expression:"time"}})],1),e("p",{staticClass:"duration"},[t._v(t._s(t.getCurrentSong.durationTime))])]),e("div",{staticClass:"volume-box"},[e("i",{class:0==t.volume.ve?"iconfont icon-jingyin":"iconfont icon-laba",attrs:{title:0==t.volume.ve?"静音":"音量"},on:{click:t.changeVolumn}}),e("div",{staticClass:"progress"},[e("el-slider",{attrs:{max:100},on:{change:t.adjustVolumn},model:{value:t.volume.ve,callback:function(n){t.$set(t.volume,"ve",n)},expression:"volume.ve"}})],1)]),e("div",{staticClass:"tool-box"},[e("i",{class:"loop"==t.playMode?"iconfont icon-xunhuanbofang":"once"==t.playMode?"iconfont icon-danquxunhuan":"iconfont icon-suijibofang",attrs:{title:"loop"==t.playMode?"循环播放":"once"==t.playMode?"单曲循环":"随机播放"},on:{click:t.changeMode}}),e("i",{staticClass:"iconfont icon-gecitiaozheng",attrs:{title:"歌词"},on:{click:t.showList}}),e("i",{staticClass:"iconfont icon-gedan",attrs:{title:"播放列表"},on:{click:t.showList}})]),e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showLyric,expression:"showLyric"}],staticClass:"lyric-box shadow",on:{wheel:function(t){t.stopPropagation(),t.preventDefault()}}},[e("scroll",{ref:"lyricList",staticClass:"lyric",attrs:{data:t.getCurrentSong.lyric}},[e("div",{ref:"lyricWrap",staticClass:"wrapper",staticStyle:{}},t._l(t.getCurrentSong.lyric,(function(n,i){return e("p",{key:i,ref:"line",refInFor:!0,class:t.lineNo-1==i?"is-linehigh":""},[t._v(" "+t._s(n.lyric)+" ")])})),0)])],1)]),e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showPlayList,expression:"showPlayList"}],staticClass:"songlist-box shadow",on:{wheel:function(t){t.stopPropagation(),t.preventDefault()}}},[e("div",{staticClass:"title"},[e("h2",[t._v("播放列表")]),e("i",{staticClass:"iconfont icon-lajitong",attrs:{title:"清空"},on:{click:t.delList}})]),e("scroll",{ref:"songList",staticClass:"list",attrs:{data:t.songList}},[e("div",{staticClass:"wrapper-box"},t._l(t.songList,(function(n,i){return e("div",{key:i,class:n.id==t.songId&&t.playStatus?"wrapper is-active":"wrapper",on:{click:function(n){return t.changeSong(i)}}},[e("div",{staticClass:"index"},[e("p",[t._v(t._s(i+1))]),e("i",{directives:[{name:"show",rawName:"v-show",value:n.id!=t.songId||!t.playStatus,expression:"item.id != songId || !playStatus"}],staticClass:"iconfont icon-bofang"}),e("i",{directives:[{name:"show",rawName:"v-show",value:t.playStatus&&n.id==t.songId,expression:"playStatus && item.id == songId"}],staticClass:"iconfont icon-zanting"}),e("div",{staticClass:"play-animation"},[e("span"),e("span"),e("span"),e("span"),e("span")])]),e("div",{staticClass:"song-name"},[e("p",[t._v(t._s(n.song))])]),e("div",{staticClass:"singer"},[e("p",[t._v(t._s(n.singer))])]),e("div",{staticClass:"del",on:{click:function(n){return n.stopPropagation(),t.del(i)}}},[e("i",{staticClass:"iconfont icon-error"})])])})),0)])],1)])],1)])},r=[],o=(e("c975"),e("d81d"),e("a434"),e("b0c0"),e("4ec9"),e("d3b7"),e("3ca3"),e("ddb0"),e("96cf"),e("1da1")),a=e("5530"),s=e("2f62"),c=function(){return Promise.resolve().then(e.bind(null,"c5dc"))},l={data:function(){return{audio:{},songInfo:{},time:0,status:!0,flag:!1,lineNo:0,propLine:null,C_pos:6,offset:-34,volume:{ve:50,old:0},lyric:[],showLyric:!1,showPlayList:!1}},components:{Scroll:c},computed:Object(a["a"])(Object(a["a"])({},Object(s["c"])(["getCurrentSong","getSongId","getPlayerMode","getPlayStatus"])),Object(s["e"])(["songId","songList","playMode","playStatus"])),watch:{songId:function(t,n){var e=this;t&&t!==n&&this.$nextTick((function(){e.getPlayStatus(!1),e.currentSongInfo(t,e.getCurrentSong.alid)}))}},mounted:function(){this.init()},methods:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(s["d"])(["SHOW_PLAYER"])),Object(s["b"])(["currentSong","songsList","audioInit"])),{},{init:function(){this.audio=this.$refs.playingBox,this.audioInit(this.audio),this.progressBtn()},currentSongInfo:function(t,n){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return r=e,i.next=3,e.$api.axios.all([e.$api.SongUrl(t),e.$api.SongDetail(t),e.$api.Album(n),e.$api.Lyric(t)]).then(e.$api.axios.spread((function(t,n,e,i){var o={durationTime:r.utils.formatTime(n.data.songs[0].dt),dt:n.data.songs[0].dt,img:e.data.album.picUrl,song:e.data.album.name,singer:e.data.album.artist.name,lyric:r.utils.Lyric(i.data.lrc.lyric),songUrl:t.data.data[0].url};if(!o.lyric.length){var a=[];a.lyric="暂无歌词，敬请见谅",o.lyric.push(a)}r.currentSong(o)})));case 3:e.getCurrentSong.singer&&(e.audio.src=e.getCurrentSong.songUrl,e.SHOW_PLAYER(),e.playing());case 4:case"end":return i.stop()}}),i)})))()},propSong:function(){if(0!=this.songList.length){var t=this.getCurrentSong.index;0==t?t=this.songList.length-1:t-=1,this.changeSong(t),this.goback(),this.playPause()}},nextSong:function(){if(0!=this.songList.length){var t=this.getCurrentSong.index;t==this.songList.length-1?t=0:t+=1,this.changeSong(t),this.goback(),this.playPause()}},playing:function(){var t=this;this.playStatus?this.audio.pause():this.audio.play().catch((function(){t.getPlayStatus(!1),t.playPause(),t.getPlayStatus(!0)})),this.getPlayStatus(!this.audio.paused)},songEnd:function(){var t=this,n=this.getCurrentSong.index,e=new Map([["loop",function(){t.songList[n+1]?n+=1:n=0}],["once",function(){t.playPause()}],["random",function(){var e=t.songList.length-1,i=~~(Math.random()*(e-1));i==n?t.songEnd():n=i}]]);e.get(this.playMode).call(this),this.changeSong(n),this.goback(),this.playPause()},changeSong:function(t){this.getCurrentSong.index==t?this.playing():(this.currentSong(this.songList[t]),this.songList.length&&this.getSongId(this.songList[t].id))},changeVolumn:function(){var t=this.volume.ve/100;this.volume.ve?(this.volume.old=t,this.volume.ve=this.audio.volume=0):(this.audio.volume=this.volume.old,this.volume.ve=100*this.volume.old)},getCurrentTime:function(){if(!this.flag){var t=this.getCurrentSong.lyric.length;this.time=1e3*this.audio.currentTime,this.lineNo!=t&&1!=this.getCurrentSong.lyric.length&&this.getCurrentSong.lyric.length&&parseFloat(this.getCurrentSong.lyric[this.lineNo].time)<=this.time&&(this.lineHigh(),this.propLine=this.lineNo,this.lineNo++)}},changeCurrentTime:function(){var t=this,n=0;this.audio.currentTime=this.time/1e3,this.getCurrentSong.lyric.map((function(e){e.time<=t.time&&(n=e.index)})),this.lineNo=n,this.lineHigh()},adjustVolumn:function(){var t=this.volume.ve/100;this.volume.old=this.audio.volume=t},changeMode:function(){var t=this,n=new Map([["loop",function(){t.getPlayerMode("once")}],["once",function(){t.getPlayerMode("random")}],["random",function(){t.getPlayerMode("loop")}]]);n.get(this.playMode).call(this)},showList:function(t){var n=this;t.target.className.indexOf("icon-gedan")>1&&(this.showLyric&&(this.showLyric=!1),this.showPlayList=!this.showPlayList),t.target.className.indexOf("icon-gecitiaozheng")>1&&(this.showPlayList&&(this.showPlayList=!1),this.showLyric=!this.showLyric),this.$nextTick((function(){n.$refs.lyricList.refresh(),n.$refs.songList.refresh()}))},lineHigh:function(){if(1!=this.getCurrentSong.lyric.length){var t=this.$refs.lyricWrap;this.lineNo>this.C_pos?t.style.transform="translateY("+(this.lineNo-this.C_pos)*this.offset+"px)":this.lineNo<this.C_pos&&(t.style.transform="translateY(0)")}},goback:function(){var t=this.$refs.lyricWrap;t.style.transform="translateY(0)",this.lineNo=0},playPause:function(){var t=this;null!==this.audio&&(this.playStatus||0==this.songList.length?(this.audio.currentTime=0,this.audio.pause(),this.getPlayStatus(!1)):(this.audio.currentTime=0,this.audio.play().catch((function(){var n=t.getCurrentSong;t.currentSongInfo(n.id,n.alid)}))))},del:function(t){var n=this.songList;n.splice(t,1),this.songsList(n)},delList:function(){var t=[];this.songsList(t)},progressBtn:function(){var t=this,n=document.querySelector(".el-slider__button");n.addEventListener("mousedown",(function(){t.flag=!0})),window.addEventListener("mouseup",(function(){t.flag&&(t.flag=!1)}))}})},u=l,h=(e("5887"),e("2877")),f=Object(h["a"])(u,i,r,!1,null,null,null);n["default"]=f.exports},c975:function(t,n,e){"use strict";var i=e("23e7"),r=e("4d64").indexOf,o=e("a640"),a=e("ae40"),s=[].indexOf,c=!!s&&1/[1].indexOf(1,-0)<0,l=o("indexOf"),u=a("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:c||!l||!u},{indexOf:function(t){return c?s.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},ca9f:function(t,n,e){}}]);
//# sourceMappingURL=chunk-7d3c06fd.a803ab2b.js.map