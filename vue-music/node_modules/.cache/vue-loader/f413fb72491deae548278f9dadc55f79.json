{"remainingRequest":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zlw12\\Desktop\\store\\vue-music\\src\\components\\common\\song-list\\index.vue?vue&type=style&index=0&id=0410bf45&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\src\\components\\common\\song-list\\index.vue","mtime":1605505082208},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\sass-loader\\lib\\loader.js","mtime":1533139052000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5zb25nLWJveHsKICB1c2VyLXNlbGVjdDogbm9uZTsKICAmPmRpdnsKICAgIHBhZGRpbmc6IDAgOXB4OwogICAgZGlzcGxheTogZmxleDsKICAgIGhlaWdodDogNTBweDsKICAgIGxpbmUtaGVpZ2h0OiA1MHB4OwogICAgZm9udC1zaXplOiAxNHB4OwogICAgJj5kaXZ7CiAgICAgIHBhZGRpbmc6IDAgOXB4OwogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICB3aWR0aDogMTAwJTsKICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7CiAgICB9CiAgICAuaW5kZXh7CiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgd2lkdGg6IDEwJTsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICBpewogICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgY29sb3I6ICRtYWluQ29sb3I7CiAgICAgIH0KICAgIH0KICAgIC5uYW1lewogICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICB3aWR0aDogNDAlOwogICAgICAuY292ZXJ7CiAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMHB4OwogICAgICAgIHdpZHRoOiAzNXB4OwogICAgICAgIGhlaWdodDogMzVweDsKICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgIH0KICAgICAgLnNvbmctbmFtZXsKICAgICAgICB3aWR0aDogMTUwcHg7CiAgICAgIH0KICAgIH0KICAgIC5hcnRpc3R7CiAgICAgIHdpZHRoOiAyNSU7CiAgICB9CiAgICAuYWxidW17CiAgICAgIHdpZHRoOiAxNSU7CiAgICB9CiAgICAuZHVyYXRpb257CiAgICAgIHBhZGRpbmctcmlnaHQ6IDQwcHg7CiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgd2lkdGg6IDE1JTsKICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7CiAgICB9CgogICAgJi50aXRsZXsKICAgICAgdGV4dC1hbGlnbjogbGVmdDsKICAgICAgZm9udC13ZWlnaHQ6IDMwMDsKICAgICAgYmFja2dyb3VuZDogI2ZhZmFmYTsgCiAgICAgIGNvbG9yOiAjOTk5OwogICAgICBkaXZ7CiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICB9CiAgICB9CiAgICAmLml0ZW17CiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICB0cmFuc2l0aW9uOiBhbGwgLjVzIGVhc2U7ICAKICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAucGxheS1hbmltYXRpb257CiAgICAgICAgbWFyZ2luLXJpZ2h0OiAwOwogICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgaGVpZ2h0OiAxNnB4OwogICAgICAgIG1pbi13aWR0aDogMThweDsKICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgIHNwYW57CiAgICAgICAgICBhbmltYXRpb246IGZseSAycyBpbmZpbml0ZSBsaW5lYXI7CiAgICAgICAgICB3aWR0aDogMnB4OwogICAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgICAgbWFyZ2luLWxlZnQ6IDJweDsKICAgICAgICAgIGJhY2tncm91bmQ6ICNmYTI4MDA7CiAgICAgICAgICAmOm50aC1jaGlsZCgxKSB7IGFuaW1hdGlvbi1kZWxheTogLTFzIH0KICAgICAgICAgICY6bnRoLWNoaWxkKDMpIHsgYW5pbWF0aW9uLWRlbGF5OiAtMS41cyB9CiAgICAgICAgICAmOm50aC1jaGlsZCg0KSB7IGFuaW1hdGlvbi1kZWxheTogLTAuOXMgfQogICAgICAgICAgJjpudGgtY2hpbGQoNSkgeyBhbmltYXRpb24tZGVsYXk6IC0wLjZzIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgJjpob3ZlcnsKICAgICAgICBiYWNrZ3JvdW5kOiAjZThlOWVkOwogICAgICAgIC5pbmRleHsKICAgICAgICAgIHNwYW57CiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgICB9CiAgICAgICAgICBpewogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgJjpudGgtY2hpbGQob2RkKXsKICAgICAgICBiYWNrZ3JvdW5kOiAjZjdmN2Y3OwogICAgICB9CiAgICAgICYuaXMtYWN0aXZlewogICAgICAgIC5pbmRleHsKICAgICAgICAgIHNwYW57CiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgICB9CiAgICAgICAgICAucGxheS1hbmltYXRpb257CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIHNwYW57CiAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgIH0KICAgICAgJi5pcy1hY3RpdmU6aG92ZXJ7CiAgICAgICAgLnBsYXktYW5pbWF0aW9uewogICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgfSAKfQoubG9hZC1tb3JlewogIG1hcmdpbi10b3A6IDIwcHg7CiAgLm1vcmV7CiAgICBAaW5jbHVkZSBmbGV4OwogICAgcGFkZGluZzogMTBweDsKICAgIHNwYW57CiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMjBweCk7CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgJjpob3ZlcnsKICAgICAgICBjb2xvcjogJG1haW5Db2xvcjsKICAgICAgfQogICAgfQogIH0KfQouZXJyb3J7CiAgICBAaW5jbHVkZSBmbGV4OwogICAgbWFyZ2luLXRvcDogMjBweDsKfQoK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/common/song-list","sourcesContent":["<template>\r\n  <div class=\"song-list\" \r\n    v-loading=\"false\"\r\n    :data=\"list\"\r\n    element-loading-text=\"拼命加载中\"\r\n    element-loading-background=\"#fff\"\r\n  >\r\n    <div class=\"song-box\">\r\n      <div class=\"title\">\r\n        <div class=\"index\">序号</div>\r\n        <div class=\"name\">歌曲</div>\r\n        <div class=\"artist\">歌手</div>\r\n        <div class=\"album\">专辑</div>\r\n        <div class=\"duration\">时长</div>\r\n      </div>\r\n      <div \r\n        :class=\"songId == item.id ? \r\n                playStatus ? \r\n                'item is-active' : 'item' : 'item' \"\r\n        v-for=\"(item,index) in list\" \r\n        :key=\"item.id\" \r\n        ref=\"list\"\r\n        @click=\"showPlayer(item.id,item.al.id,index)\"\r\n      >\r\n        <div class=\"index\">\r\n          <span class=\"num\">{{ handleNum(index)}}</span>\r\n          <i class=\"iconfont icon-bofang\" ref=\"icon\"></i>\r\n          <div class=\"play-animation\">\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n          </div>\r\n        </div>\r\n        <div class=\"name\">\r\n          <div class=\"cover\">\r\n            <el-image \r\n              :src=\"item.al.picUrl\" \r\n              fit=\"fill\"\r\n              v-if=\"item.al\"></el-image>\r\n          </div>\r\n          <div class=\"song-name ellipsis\">\r\n            {{ item.name }}\r\n          </div>\r\n        </div>\r\n        <div class=\"artist\">\r\n          <div class=\"wrapper ellipsis\">\r\n            <span>{{ utils.getSinger(item.ar)}}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"album\">\r\n          <div class=\"wrapper ellipsis\">\r\n            <span v-if=\"item.al\">{{ item.al.name }}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"duration\">\r\n          <div class=\"wrapper\">\r\n            <span>{{ utils.formatTime(item.dt) }}</span>  \r\n          </div>  \r\n        </div>  \r\n      </div>\r\n    </div>\r\n    <div \r\n      class=\"load-more\" \r\n      v-show=\"!error\"\r\n    >\r\n      <div class=\"more\">\r\n        <span @click=\"loadSong\">查看更多</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"error\" v-show=\"error\">\r\n      <span>暂时没有播放数据噢~</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapGetters,mapActions,mapState} from 'vuex'\r\nexport default {\r\n  props: {\r\n    songLists: {\r\n      type: Array,\r\n      required: true,\r\n    }\r\n  },\r\n  data(){\r\n    return{\r\n      list: [],\r\n      loading: false,\r\n      error: false,\r\n      max: 0,\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['audio','playStatus','playing','songId']),\r\n    ...mapGetters(['getSongId','getCurrentSong','getPlayStatus']),\r\n\r\n  },\r\n  watch: {\r\n    songLists(val){\r\n      if(val.length == 0){\r\n        this.list.length = 0;\r\n        this.error = true;\r\n        return ;\r\n      }else{\r\n        this.error = false;\r\n        let arr = val.slice(0,this.max || 10);\r\n        this.list.length = 0;\r\n        if(val[0].song){\r\n          arr.map(list => {\r\n            let obj = list.song;\r\n            this.list.push(obj)\r\n          })\r\n        }else{\r\n          this.list = arr\r\n        }\r\n      }\r\n      \r\n    },\r\n  },\r\n  mounted(){\r\n    this.init();\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'currentSong',\r\n      'songsList',\r\n    ]),\r\n    \r\n    init(){\r\n      this.playStatus && this.getPlayStatus(false);\r\n    },\r\n\r\n    // 处理序号\r\n    handleNum(num){\r\n      num++;\r\n      return num < 10 ? '0' + num : num\r\n    },\r\n\r\n    // 开启播放组件\r\n    showPlayer(id,alid,index){\r\n        let songList = this.utils.storeId(this.list)\r\n        let obj = {\r\n          id,\r\n          alid,\r\n          index,\r\n        }\r\n        this.getSongId(id)\r\n        this.currentSong(obj)\r\n        this.songsList(songList);\r\n          if(this.playStatus){\r\n            this.audio.pause();\r\n          }\r\n          else{\r\n            this.playing &&\r\n            this.audio.play();\r\n          }\r\n          this.getPlayStatus(!this.playStatus)\r\n    },\r\n\r\n    // 加载更多歌曲\r\n    loadSong(){ \r\n      let len = this.list.length;\r\n      this.max = len + 10;\r\n      if(this.songLists[0].song){\r\n        let arr = this.songLists.slice(len,this.max);\r\n        arr.map(list => {\r\n          let obj = list.song;\r\n          this.list.push(obj);\r\n        })\r\n      }else{\r\n        this.list = this.songLists.slice(0,this.max);\r\n      }\r\n    },\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped> \r\n  .song-box{\r\n    user-select: none;\r\n    &>div{\r\n      padding: 0 9px;\r\n      display: flex;\r\n      height: 50px;\r\n      line-height: 50px;\r\n      font-size: 14px;\r\n      &>div{\r\n        padding: 0 9px;\r\n        display: flex;\r\n        width: 100%;\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n      }\r\n      .index{\r\n        display: inline-block;\r\n        width: 10%;\r\n        text-align: center;\r\n        i{\r\n          display: none;\r\n          color: $mainColor;\r\n        }\r\n      }\r\n      .name{\r\n        align-items: center;\r\n        width: 40%;\r\n        .cover{\r\n          margin-right: 10px;\r\n          width: 35px;\r\n          height: 35px;\r\n          border-radius: 5px;\r\n        }\r\n        .song-name{\r\n          width: 150px;\r\n        }\r\n      }\r\n      .artist{\r\n        width: 25%;\r\n      }\r\n      .album{\r\n        width: 15%;\r\n      }\r\n      .duration{\r\n        padding-right: 40px;\r\n        display: inline-block;\r\n        width: 15%;\r\n        text-align: right;\r\n      }\r\n\r\n      &.title{\r\n        text-align: left;\r\n        font-weight: 300;\r\n        background: #fafafa; \r\n        color: #999;\r\n        div{\r\n          display: inline-block;\r\n        }\r\n      }\r\n      &.item{\r\n        justify-content: center;\r\n        align-items: center;\r\n        transition: all .5s ease;  \r\n        cursor: pointer;\r\n        .play-animation{\r\n          margin-right: 0;\r\n          display: none;\r\n          height: 16px;\r\n          min-width: 18px;\r\n          justify-content: center;\r\n          overflow: hidden;\r\n          span{\r\n            animation: fly 2s infinite linear;\r\n            width: 2px;\r\n            height: 100%;\r\n            margin-left: 2px;\r\n            background: #fa2800;\r\n            &:nth-child(1) { animation-delay: -1s }\r\n            &:nth-child(3) { animation-delay: -1.5s }\r\n            &:nth-child(4) { animation-delay: -0.9s }\r\n            &:nth-child(5) { animation-delay: -0.6s }\r\n          }\r\n        }\r\n        &:hover{\r\n          background: #e8e9ed;\r\n          .index{\r\n            span{\r\n              display: none;\r\n            }\r\n            i{\r\n              display: block;\r\n            }\r\n          }\r\n        }\r\n        &:nth-child(odd){\r\n          background: #f7f7f7;\r\n        }\r\n        &.is-active{\r\n          .index{\r\n            span{\r\n              display: none;\r\n            }\r\n            .play-animation{\r\n              display: flex;\r\n              span{\r\n                display: block;\r\n              }\r\n            }\r\n          }\r\n          \r\n        }\r\n        &.is-active:hover{\r\n          .play-animation{\r\n            display: none;\r\n          }\r\n        }\r\n      }\r\n\r\n    } \r\n  }\r\n  .load-more{\r\n    margin-top: 20px;\r\n    .more{\r\n      @include flex;\r\n      padding: 10px;\r\n      span{\r\n        transform: translateX(-20px);\r\n        cursor: pointer;\r\n        &:hover{\r\n          color: $mainColor;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .error{\r\n      @include flex;\r\n      margin-top: 20px;\r\n  }\r\n  \r\n</style>"]}]}