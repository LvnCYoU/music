{"remainingRequest":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zlw12\\Desktop\\store\\vue-music\\src\\components\\common\\comment\\comment-playlist\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\src\\components\\common\\comment\\comment-playlist\\index.vue","mtime":1604658837907},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKXsNCiAgICByZXR1cm57DQogICAgICBjb21tZW50OiBbXSwNCiAgICAgIGZsYWc6IHRydWUsDQogICAgICBkYXRhOiB7fSwNCiAgICAgIG9yZGVyOiAn5pyA54OtJw0KICAgIH0NCiAgfSwNCg0KICBtb3VudGVkKCl7DQogICAgdGhpcy5pbml0KCk7DQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgIGluaXQoKXsNCiAgICAgIHRoaXMuZ2V0Q29tbWVudFBsYXlsaXN0KCk7DQogICAgfSwNCg0KICAgIC8vIOiOt+WPluivhOiuuuaVsOaNrg0KICAgIGFzeW5jIGdldENvbW1lbnRQbGF5bGlzdCgpew0KICAgICAgbGV0IGlkID0gdGhpcy4kcm91dGUucXVlcnkuaWQ7DQogICAgICBhd2FpdCAgdGhpcy4kYXBpLkNvbW1lbnRQbGF5bGlzdChpZCkNCiAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICB0aGlzLmRhdGEgPSByZXMuZGF0YTsNCiAgICAgICAgICB0aGlzLmNvbW1lbnQgPSByZXMuZGF0YS5ob3RDb21tZW50cw0KICAgICAgICB9KQ0KICAgICAgDQogICAgfSwNCg0KICAgIC8vIOivhOiuuui9rOWPmCDmnIDmlrAv5pyA54OtDQogICAgY2hhbmdlQ29tbWVudChmbGFnKXsNCiAgICAgIGxldCBtYXAgPSBuZXcgTWFwKFsNCiAgICAgICAgWydmYWxzZScsICgpID0+IHsNCiAgICAgICAgICB0aGlzLmNvbW1lbnQgPSB0aGlzLmRhdGEuY29tbWVudHMNCiAgICAgICAgfV0sDQogICAgICAgIFsndHJ1ZScsICgpID0+IHsNCiAgICAgICAgICB0aGlzLmNvbW1lbnQgPSB0aGlzLmRhdGEuaG90Q29tbWVudHMNCiAgICAgICAgfV0sDQogICAgICAgIFsnZGVmYXVsdCcsICgpID0+IHsgcmV0dXJuIH1dDQogICAgICBdKQ0KICAgICAgaWYodGhpcy5mbGFnID09IGZsYWcpIHJldHVybjsNCiAgICAgIHRoaXMuZmxhZyA9IGZsYWc7DQogICAgICByZXR1cm4gbWFwLmdldChgJHt0aGlzLmZsYWd9YCkuY2FsbCh0aGlzKSB8fA0KICAgICAgICAgICAgIG1hcC5nZXQoJ2RlZmF1bHQnKS5jYWxsKHRoaXMpDQogICAgfQ0KDQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"index.vue","sourceRoot":"src/components/common/comment/comment-playlist","sourcesContent":["<template>\r\n  <div class=\"comment-playlist shadow\">\r\n    <header class=\"title\">\r\n      <span>精彩评论</span>\r\n      <div class=\"btn\">\r\n        <span \r\n          :class=\"flag ? 'is-active' : ''\"\r\n          @click=\"changeComment(true)\"\r\n        >\r\n          最热\r\n        </span>\r\n        <span \r\n          :class=\"flag ? '' : 'is-active'\"\r\n          @click=\"changeComment(false)\"\r\n        >\r\n          最新\r\n        </span>\r\n      </div>\r\n    </header>\r\n    <ul>\r\n      <li \r\n        class=\"item\" \r\n        v-for=\"item in comment\" \r\n        :key=\"item.commentId\"\r\n      > \r\n        <div class=\"cover\">\r\n          <el-image \r\n            :src=\"item.user.avatarUrl\" \r\n            fit=\"fill\"\r\n            v-if=\"item.user.avatarUrl\"\r\n          >\r\n          </el-image>\r\n        </div>\r\n        <div class=\"info\">\r\n          <h2 class=\"name\" v-if=\"item.user.nickname\">\r\n            <span>{{ item.user.nickname }}</span>\r\n            <small class=\"time\"> . {{ utils.getMonth(item.time) }}</small>\r\n          </h2>\r\n          <div class=\"content\">\r\n            <p>{{ item.content }}</p>\r\n          </div>\r\n        </div>\r\n      </li>\r\n      <div class=\"error\" v-if=\"!comment.length\">\r\n        <span>暂没有评论噢~</span>\r\n      </div>\r\n    </ul>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data(){\r\n    return{\r\n      comment: [],\r\n      flag: true,\r\n      data: {},\r\n      order: '最热'\r\n    }\r\n  },\r\n\r\n  mounted(){\r\n    this.init();\r\n  },\r\n\r\n  methods: {\r\n    init(){\r\n      this.getCommentPlaylist();\r\n    },\r\n\r\n    // 获取评论数据\r\n    async getCommentPlaylist(){\r\n      let id = this.$route.query.id;\r\n      await  this.$api.CommentPlaylist(id)\r\n        .then(res => {\r\n          this.data = res.data;\r\n          this.comment = res.data.hotComments\r\n        })\r\n      \r\n    },\r\n\r\n    // 评论转变 最新/最热\r\n    changeComment(flag){\r\n      let map = new Map([\r\n        ['false', () => {\r\n          this.comment = this.data.comments\r\n        }],\r\n        ['true', () => {\r\n          this.comment = this.data.hotComments\r\n        }],\r\n        ['default', () => { return }]\r\n      ])\r\n      if(this.flag == flag) return;\r\n      this.flag = flag;\r\n      return map.get(`${this.flag}`).call(this) ||\r\n             map.get('default').call(this)\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .comment-playlist{\r\n    margin-bottom: 20px;\r\n    padding: 15px;\r\n    border-radius: 8px;\r\n    box-sizing: border-box;\r\n    .title{\r\n      padding-left: 1rem;\r\n      margin-bottom: 15px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      height: 20px;\r\n      border-left: 3px solid #fa2800;\r\n      font-weight: 700;\r\n      font-size: 14px;\r\n      .btn{\r\n        cursor: pointer;\r\n        .is-active{\r\n          color: $mainColor;\r\n        }\r\n        span{\r\n          padding: 0 5px;\r\n          &:last-child{\r\n            padding-left: 6px;\r\n            border-left: 1px solid #4a4a4a;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    ul{\r\n      .item{\r\n        padding: 10px 0;\r\n        display: flex;\r\n        .cover{\r\n          margin-right: 12px;\r\n          width: 45px;\r\n          height: 45px;\r\n          border-radius: 50%;\r\n          flex-shrink: 0;\r\n          cursor: pointer;\r\n          .el-image{\r\n            border-radius: 50%;\r\n          }\r\n        }\r\n        .info{\r\n          &>div{\r\n            box-sizing: border-box;\r\n          }\r\n          .name{\r\n            margin-right: 5px;\r\n            margin-bottom: 10px;\r\n            font-size: 15px;\r\n            cursor: pointer;\r\n            small{\r\n              font-size: 12px;\r\n              color: #a5a5c1;\r\n              font-weight: 200;\r\n            }\r\n          }\r\n          .content{\r\n            margin-top: 5px;\r\n            padding: 5px 10px;\r\n            width: 100%;\r\n            line-height: 1.6;\r\n            color: #666;\r\n            background: #f5f5f5;\r\n            border-radius: 3px;\r\n            font-size: 12px;\r\n          }\r\n        }\r\n      }\r\n      .error{\r\n        margin-top: 50px;\r\n        font-size: 14px;\r\n        text-align: center;\r\n      }\r\n    }\r\n  }\r\n</style>"]}]}