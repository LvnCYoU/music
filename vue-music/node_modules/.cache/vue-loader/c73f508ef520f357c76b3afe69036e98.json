{"remainingRequest":"C:\\Users\\zlw12\\Desktop\\music\\vue-music\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zlw12\\Desktop\\music\\vue-music\\src\\api\\scroll\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\zlw12\\Desktop\\music\\vue-music\\src\\api\\scroll\\index.vue","mtime":1602780479704},{"path":"C:\\Users\\zlw12\\Desktop\\music\\vue-music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\music\\vue-music\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\music\\vue-music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\music\\vue-music\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQlNjcm9sbCBmcm9tICdiZXR0ZXItc2Nyb2xsJw0KZXhwb3J0IGRlZmF1bHQgew0KICBwcm9wczogew0KICAgICAgLyoxIOa7muWKqOeahOaXtuWAmeS8mua0vuWPkXNjcm9sbOS6i+S7tu+8jOS8muaIqua1geOAgg0KICAgICAgICAyIOa7muWKqOeahOaXtuWAmeWunuaXtua0vuWPkXNjcm9sbOS6i+S7tu+8jOS4jeS8muaIqua1geOAgg0KICAgICAgICAzIOmZpOS6huWunuaXtua0vuWPkXNjcm9sbOS6i+S7tu+8jOWcqHN3aXBl55qE5oOF5Ya15LiL5LuN54S26IO95a6e5pe25rS+5Y+Rc2Nyb2xs5LqL5Lu2ICAgICAqLw0KICAgIHByb2JlVHlwZTogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMQ0KICAgIH0sDQogICAgLy8gIOeCueWHu+WIl+ihqOaYr+WQpua0vuWPkWNsaWNr5LqL5Lu2DQogICAgY2xpY2s6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgIH0sDQogICAgLy8gIOaYr+WQpuW8gOWQr+aoquWQkea7muWKqA0KICAgIHNjcm9sbFg6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgIH0sDQogICAgLy8gIOaYr+WQpua0vuWPkea7muWKqOS6i+S7tg0KICAgIGxpc3RlblNjcm9sbDogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlDQogICAgfSwNCiAgICAvLyAg5YiX6KGo55qE5pWw5o2uDQogICAgZGF0YTogew0KICAgICAgdHlwZTogQXJyYXksDQogICAgICBkZWZhdWx0OiBudWxsDQogICAgfSwNCiAgICAvKiogKiDmmK/lkKbmtL7lj5Hmu5rliqjliLDlupXpg6jnmoTkuovku7bvvIznlKjkuo7kuIrmi4nliqDovb0gKi8NCiAgICBwdWxsdXA6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgIH0sDQogICAgLyoqICog5piv5ZCm5rS+5Y+R6aG26YOo5LiL5ouJ55qE5LqL5Lu277yM55So5LqO5LiL5ouJ5Yi35pawICovDQogICAgcHVsbGRvd246IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgIH0sDQogICAgLyoqICog5piv5ZCm5rS+5Y+R5YiX6KGo5rua5Yqo5byA5aeL55qE5LqL5Lu2ICovDQogICAgYmVmb3JlU2Nyb2xsOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UNCiAgICB9LA0KICAgIC8qKiAqIOW9k+aVsOaNruabtOaWsOWQju+8jOWIt+aWsHNjcm9sbOeahOW7tuaXtuOAgiAqLw0KICAgIHJlZnJlc2hEZWxheTogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMjANCiAgICB9DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgLy8g5L+d6K+B5ZyoRE9N5riy5p+T5a6M5q+V5ZCO5Yid5aeL5YyWYmV0dGVyLXNjcm9sbA0KICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgdGhpcy5faW5pdFNjcm9sbCgpDQogICAgfSwgMjApDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBfaW5pdFNjcm9sbCgpIHsNCiAgICAgIGlmICghdGhpcy4kcmVmcy53cmFwcGVyKSB7DQogICAgICAgIHJldHVybg0KICAgICAgfQ0KICAgICAgLy8gYmV0dGVyLXNjcm9sbOeahOWIneWni+WMlg0KICAgICAgdGhpcy5zY3JvbGwgPSBuZXcgQlNjcm9sbCh0aGlzLiRyZWZzLndyYXBwZXIsIHsNCiAgICAgICAgcHJvYmVUeXBlOiB0aGlzLnByb2JlVHlwZSwNCiAgICAgICAgY2xpY2s6IHRoaXMuY2xpY2ssDQogICAgICAgIHNjcm9sbFg6IHRoaXMuc2Nyb2xsWCwNCiAgICAgICAgcHJldmVudERlZmF1bHQ6IGZhbHNlLA0KICAgICAgICB0YXA6IHRydWUsDQogICAgICAgIG1vdXNlV2hlZWw6IHRydWUNCiAgICAgIH0pDQogICAgICAvLyDmmK/lkKbmtL7lj5Hmu5rliqjkuovku7YNCiAgICAgIGlmICh0aGlzLmxpc3RlblNjcm9sbCkgew0KICAgICAgICBsZXQgbWUgPSB0aGlzDQogICAgICAgIHRoaXMuc2Nyb2xsLm9uKCdzY3JvbGwnLCAocG9zKSA9PiB7DQogICAgICAgICAgbWUuJGVtaXQoJ3Njcm9sbCcsIHBvcykNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICAgIC8vIOaYr+WQpua0vuWPkea7muWKqOWIsOW6lemDqOS6i+S7tu+8jOeUqOS6juS4iuaLieWKoOi9vQ0KICAgICAgaWYgKHRoaXMucHVsbHVwKSB7DQogICAgICAgIHRoaXMuc2Nyb2xsLm9uKCdzY3JvbGxFbmQnLCAoKSA9PiB7IC8vIOa7muWKqOWIsOW6lemDqA0KICAgICAgICAgIGlmICh0aGlzLnNjcm9sbC55IDw9ICh0aGlzLnNjcm9sbC5tYXhTY3JvbGxZICsgNTApKSB7DQogICAgICAgICAgICB0aGlzLiRlbWl0KCdzY3JvbGxUb0VuZCcpDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgICAgLy8g5piv5ZCm5rS+5Y+R6aG26YOo5LiL5ouJ5LqL5Lu277yM55So5LqO5LiL5ouJ5Yi35pawDQogICAgICAvLyBpZiAodGhpcy5wdWxsZG93bikgew0KICAgICAgLy8gICB0aGlzLnNjcm9sbC5vbigndG91Y2hlbmQnLCAocG9zKSA9PiB7IC8vIOS4i+aLieWKqOS9nA0KICAgICAgLy8gICAgIGlmIChwb3MueSA+IDUwKSB7DQogICAgICAvLyAgICAgICB0aGlzLiRlbWl0KCdwdWxsZG93bicpDQogICAgICAvLyAgICAgfQ0KICAgICAgLy8gICB9KQ0KICAgICAgLy8gfQ0KICAgICAgLy8g5piv5ZCm5rS+5Y+R5YiX6KGo5rua5Yqo5byA5aeL55qE5LqL5Lu2DQogICAgICBpZiAodGhpcy5iZWZvcmVTY3JvbGwpIHsNCiAgICAgICAgdGhpcy5zY3JvbGwub24oJ2JlZm9yZVNjcm9sbFN0YXJ0JywgKCkgPT4gew0KICAgICAgICAgIHRoaXMuJGVtaXQoJ2JlZm9yZVNjcm9sbCcpDQogICAgICAgIH0pDQogICAgICB9DQogICAgfSwNCiAgICBkaXNhYmxlKCkgew0KICAgICAgLy8g5Luj55CGYmV0dGVyLXNjcm9sbOeahGRpc2FibGXmlrnms5UNCiAgICAgIHRoaXMuc2Nyb2xsICYmIHRoaXMuc2Nyb2xsLmRpc2FibGUoKQ0KICAgIH0sDQogICAgZW5hYmxlKCkgew0KICAgICAgLy8g5Luj55CGYmV0dGVyLXNjcm9sbOeahGVuYWJsZeaWueazlQ0KICAgICAgdGhpcy5zY3JvbGwgJiYgdGhpcy5zY3JvbGwuZW5hYmxlKCkNCiAgICB9LA0KICAgIHJlZnJlc2goKSB7DQogICAgICAvLyDku6PnkIZiZXR0ZXItc2Nyb2xs55qEcmVmcmVzaOaWueazlQ0KICAgICAgdGhpcy5zY3JvbGwgJiYgdGhpcy5zY3JvbGwucmVmcmVzaCgpDQogICAgfSwNCiAgICBzY3JvbGxUbygpIHsNCiAgICAgIC8vIOS7o+eQhmJldHRlci1zY3JvbGznmoRzY3JvbGxUb+aWueazlQ0KICAgICAgdGhpcy5zY3JvbGwgJiYgdGhpcy5zY3JvbGwuc2Nyb2xsVG8uYXBwbHkodGhpcy5zY3JvbGwsIGFyZ3VtZW50cykNCiAgICB9LA0KICAgIHNjcm9sbFRvRWxlbWVudCgpIHsNCiAgICAgIC8vIOS7o+eQhmJldHRlci1zY3JvbGznmoRzY3JvbGxUb0VsZW1lbnTmlrnms5UNCiAgICAgIHRoaXMuc2Nyb2xsICYmIHRoaXMuc2Nyb2xsLnNjcm9sbFRvRWxlbWVudC5hcHBseSh0aGlzLnNjcm9sbCwgYXJndW1lbnRzKQ0KICAgIH0NCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICAvLyDnm5HlkKzmlbDmja7nmoTlj5jljJbvvIzlu7bml7ZyZWZyZXNoRGVsYXnml7bpl7TlkI7osIPnlKhyZWZyZXNo5pa55rOV6YeN5paw6K6h566X77yM5L+d6K+B5rua5Yqo5pWI5p6c5q2j5bi4DQogICAgZGF0YSgpIHsNCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICB0aGlzLnJlZnJlc2goKQ0KICAgICAgfSwgdGhpcy5yZWZyZXNoRGVsYXkpDQogICAgfQ0KICB9DQoNCg0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA","file":"index.vue","sourceRoot":"src/api/scroll","sourcesContent":["\r\n<template>\r\n  <div ref=\"wrapper\">\r\n      <slot></slot>\r\n  </div>\r\n</template>\r\n<script>\r\nimport BScroll from 'better-scroll'\r\nexport default {\r\n  props: {\r\n      /*1 滚动的时候会派发scroll事件，会截流。\r\n        2 滚动的时候实时派发scroll事件，不会截流。\r\n        3 除了实时派发scroll事件，在swipe的情况下仍然能实时派发scroll事件     */\r\n    probeType: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    //  点击列表是否派发click事件\r\n    click: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    //  是否开启横向滚动\r\n    scrollX: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    //  是否派发滚动事件\r\n    listenScroll: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    //  列表的数据\r\n    data: {\r\n      type: Array,\r\n      default: null\r\n    },\r\n    /** * 是否派发滚动到底部的事件，用于上拉加载 */\r\n    pullup: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    /** * 是否派发顶部下拉的事件，用于下拉刷新 */\r\n    pulldown: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    /** * 是否派发列表滚动开始的事件 */\r\n    beforeScroll: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    /** * 当数据更新后，刷新scroll的延时。 */\r\n    refreshDelay: {\r\n      type: Number,\r\n      default: 20\r\n    }\r\n  },\r\n  mounted() {\r\n    // 保证在DOM渲染完毕后初始化better-scroll\r\n    setTimeout(() => {\r\n      this._initScroll()\r\n    }, 20)\r\n  },\r\n  methods: {\r\n    _initScroll() {\r\n      if (!this.$refs.wrapper) {\r\n        return\r\n      }\r\n      // better-scroll的初始化\r\n      this.scroll = new BScroll(this.$refs.wrapper, {\r\n        probeType: this.probeType,\r\n        click: this.click,\r\n        scrollX: this.scrollX,\r\n        preventDefault: false,\r\n        tap: true,\r\n        mouseWheel: true\r\n      })\r\n      // 是否派发滚动事件\r\n      if (this.listenScroll) {\r\n        let me = this\r\n        this.scroll.on('scroll', (pos) => {\r\n          me.$emit('scroll', pos)\r\n        })\r\n      }\r\n      // 是否派发滚动到底部事件，用于上拉加载\r\n      if (this.pullup) {\r\n        this.scroll.on('scrollEnd', () => { // 滚动到底部\r\n          if (this.scroll.y <= (this.scroll.maxScrollY + 50)) {\r\n            this.$emit('scrollToEnd')\r\n          }\r\n        })\r\n      }\r\n      // 是否派发顶部下拉事件，用于下拉刷新\r\n      // if (this.pulldown) {\r\n      //   this.scroll.on('touchend', (pos) => { // 下拉动作\r\n      //     if (pos.y > 50) {\r\n      //       this.$emit('pulldown')\r\n      //     }\r\n      //   })\r\n      // }\r\n      // 是否派发列表滚动开始的事件\r\n      if (this.beforeScroll) {\r\n        this.scroll.on('beforeScrollStart', () => {\r\n          this.$emit('beforeScroll')\r\n        })\r\n      }\r\n    },\r\n    disable() {\r\n      // 代理better-scroll的disable方法\r\n      this.scroll && this.scroll.disable()\r\n    },\r\n    enable() {\r\n      // 代理better-scroll的enable方法\r\n      this.scroll && this.scroll.enable()\r\n    },\r\n    refresh() {\r\n      // 代理better-scroll的refresh方法\r\n      this.scroll && this.scroll.refresh()\r\n    },\r\n    scrollTo() {\r\n      // 代理better-scroll的scrollTo方法\r\n      this.scroll && this.scroll.scrollTo.apply(this.scroll, arguments)\r\n    },\r\n    scrollToElement() {\r\n      // 代理better-scroll的scrollToElement方法\r\n      this.scroll && this.scroll.scrollToElement.apply(this.scroll, arguments)\r\n    }\r\n  },\r\n  watch: {\r\n    // 监听数据的变化，延时refreshDelay时间后调用refresh方法重新计算，保证滚动效果正常\r\n    data() {\r\n      setTimeout(() => {\r\n        this.refresh()\r\n      }, this.refreshDelay)\r\n    }\r\n  }\r\n\r\n\r\n}\r\n</script>"]}]}