{"remainingRequest":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\src\\views\\video\\detail\\Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\src\\views\\video\\detail\\Index.vue","mtime":1600536934841},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQ29tbWVudExpc3QgZnJvbSAnY29tcG9uZW50cy9jb21tb24vY29tbWVudExpc3QvSW5kZXgudnVlJw0KaW1wb3J0IENvbW1lbnRCb3ggZnJvbSAnY29tcG9uZW50cy9jb21tb24vY29tbWVudEJveC9JbmRleC52dWUnDQppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCcNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgLy8g5q2M5Y2V6K+m5oOFDQogICAgICBkZXRhaWw6IHt9LA0KICAgICAgY3JlYXRvcjoge30sDQogICAgICAvLyDnm7jlhbPop4bpopENCiAgICAgIHJlbGF0ZWRMaXN0OiBbXSwNCiAgICAgIC8vIOivhOiuug0KICAgICAgaG90Q29tbWVudHM6IFtdLA0KICAgICAgY29tbWVudHM6IFtdLA0KICAgICAgY3VycmVudENvbW1lbnRJZDogJycsDQogICAgICB2aWRlb1VybDogJycsDQogICAgICBjdXJyZW50UGFnZTogMCwNCiAgICAgIGxpbWl0OiAyMCwNCiAgICAgIG9mZnNldDogMCwNCiAgICAgIHZpZGVvSWQ6ICcnLA0KICAgICAgY29tbWVudFRvdGFsOiAwLA0KICAgICAgLy8g5piv5ZCm5riF56m66K+E6K665qGG5YaF5a65DQogICAgICBjbGVhckNvbnRlbnQ6IGZhbHNlLA0KICAgICAgLy8g6LWE5rqQ54K56LWe5pWw5o2uDQogICAgICB2aWRlb0RldGFpbEluZm86IHt9DQogICAgfQ0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgQ29tbWVudExpc3QsDQogICAgQ29tbWVudEJveA0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC4uLm1hcEdldHRlcnMoWyd1c2VySW5mbycsICdsb2dpblN0YXR1J10pDQogIH0sDQogIHdhdGNoOiB7DQogICAgJHJvdXRlKCkgew0KICAgICAgbGV0IGlkID0gdGhpcy4kcm91dGUucXVlcnkuaWQgfHwgdGhpcy52aWRlb0lkDQogICAgICBpZiAoaWQpIHsNCiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZShpZCkNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyDmlLnlj5jpobXnoIENCiAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgew0KICAgICAgdGhpcy5saW1pdCA9IHZhbA0KICAgICAgdGhpcy5vZmZzZXQgPSB0aGlzLmxpbWl0ICogdGhpcy5jdXJyZW50UGFnZQ0KICAgICAgdGhpcy5nZXRWaWRlb0NvbW1lbnRzKHRoaXMudmlkZW9JZCkNCiAgICB9LA0KICAgIC8vIOaUueWPmOmhteeggQ0KICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7DQogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gdmFsDQogICAgICB0aGlzLm9mZnNldCA9ICh2YWwgLSAxKSAqIHRoaXMubGltaXQNCiAgICAgIHRoaXMuZ2V0VmlkZW9Db21tZW50cyh0aGlzLnZpZGVvSWQpDQogICAgfSwNCiAgICAvLyDngrnlh7vor4TorroNCiAgICBjb21tZW50SGFuZGxlKGlkKSB7DQogICAgICB0aGlzLmN1cnJlbnRDb21tZW50SWQgPSBpZA0KICAgIH0sDQogICAgLy8g5o+Q5Lqk6K+E6K66DQogICAgYXN5bmMgY29tbWVudFN1Ym1pdChjb250ZW50KSB7DQogICAgICBpZiAoIWNvbnRlbnQpIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5LuA5LmI6YO95rKh5YaZ77yM5L2g54K55q+bJykNCiAgICAgICAgcmV0dXJuDQogICAgICB9IGVsc2Ugew0KICAgICAgICBsZXQgdGltZXN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCkNCiAgICAgICAgbGV0IHBhcmFtcyA9IHsNCiAgICAgICAgICB0eXBlOiA1LA0KICAgICAgICAgIGlkOiB0aGlzLnZpZGVvSWQsDQogICAgICAgICAgY29udGVudDogY29udGVudCwNCiAgICAgICAgICB0aW1lc3RhbXANCiAgICAgICAgfQ0KICAgICAgICBpZiAodGhpcy5jdXJyZW50Q29tbWVudElkID09ICcnKSB7DQogICAgICAgICAgLy8g5Y+R5biD6K+E6K66DQogICAgICAgICAgcGFyYW1zLnQgPSAxDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgLy8g5Zue5aSN6K+E6K66DQogICAgICAgICAgcGFyYW1zLnQgPSAyDQogICAgICAgICAgcGFyYW1zLmNvbW1lbnRJZCA9IHRoaXMuY3VycmVudENvbW1lbnRJZA0KICAgICAgICB9DQogICAgICAgIGxldCByZXMgPSBhd2FpdCB0aGlzLiRhcGkuc2VuZENvbW1lbnQocGFyYW1zKQ0KICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgbWVzc2FnZTogJ+aPkOS6pOaIkOWKnycsDQogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycNCiAgICAgICAgICB9KQ0KICAgICAgICAgIHRoaXMuY2FuY2VsQ29tbWVudCgpDQogICAgICAgICAgdGhpcy5jbGVhckNvbnRlbnQgPSB0cnVlDQogICAgICAgICAgdGhpcy5nZXRWaWRlb0NvbW1lbnRzKHRoaXMudmlkZW9JZCkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g5Y+W5raI6K+E6K66DQogICAgY2FuY2VsQ29tbWVudCgpIHsNCiAgICAgIHRoaXMuY3VycmVudENvbW1lbnRJZCA9ICcnDQogICAgfSwNCiAgICAvLyDor4TorrrngrnotZ4NCiAgICBhc3luYyBjb21tZW50TGlrZShpZCwgbGlrZWQpIHsNCiAgICAgIGxldCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKQ0KICAgICAgbGV0IHBhcmFtcyA9IHsNCiAgICAgICAgaWQ6IHRoaXMudmlkZW9JZCwNCiAgICAgICAgY2lkOiBpZCwNCiAgICAgICAgdHlwZTogNSwNCiAgICAgICAgdGltZXN0YW1wDQogICAgICB9DQogICAgICBpZiAobGlrZWQpIHsNCiAgICAgICAgcGFyYW1zLnQgPSAwDQogICAgICB9IGVsc2Ugew0KICAgICAgICBwYXJhbXMudCA9IDENCiAgICAgIH0NCiAgICAgIHRyeSB7DQogICAgICAgIGxldCByZXMgPSBhd2FpdCB0aGlzLiRhcGkubGlrZUNvbW1lbnQocGFyYW1zKQ0KICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgIHRoaXMuZ2V0VmlkZW9Db21tZW50cyh0aGlzLnZpZGVvSWQpDQogICAgICAgIH0NCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g6LWE5rqQ54K56LWeDQogICAgYXN5bmMgbGlrZVJlc291cmNlKCkgew0KICAgICAgbGV0IHR5cGUgPSA1DQogICAgICBsZXQgdCA9IDENCiAgICAgIGlmICh0aGlzLnZpZGVvRGV0YWlsSW5mby5pc0xpa2UpIHsNCiAgICAgICAgdCA9IDINCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHQgPSAxDQogICAgICB9DQogICAgICBsZXQgaWQgPSB0aGlzLnZpZGVvSWQNCiAgICAgIHRyeSB7DQogICAgICAgIGxldCByZXMgPSBhd2FpdCB0aGlzLiRhcGkubGlrZVJlc291cmNlKHR5cGUsIHQsIGlkKQ0KICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgIHRoaXMuZ2V0VmlkZW9EZXRhaWxJbmZvKHRoaXMudmlkZW9JZCkNCiAgICAgICAgfQ0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpDQogICAgICB9DQogICAgfSwNCiAgICAvLyDojrflj5bop4bpopHmkq3mlL7lnLDlnYANCiAgICBhc3luYyBnZXRWaWRlb1VybChpZCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgbGV0IHJlcyA9IGF3YWl0IHRoaXMuJGFwaS5nZXRWaWRlb1VybChpZCkNCiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICB0aGlzLnZpZGVvVXJsID0gcmVzLnVybHNbMF0udXJsDQogICAgICAgIH0NCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g6I635Y+W6KeG6aKR6K+m5oOFDQogICAgYXN5bmMgZ2V0VmlkZW9EZXRhaWwoaWQpIHsNCiAgICAgIHRyeSB7DQogICAgICAgIGxldCByZXMgPSBhd2FpdCB0aGlzLiRhcGkuZ2V0VmlkZW9EZXRhaWwoaWQpDQogICAgICAgIGlmIChyZXMuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgcmVzLmRhdGEudmlkZW9Hcm91cC5tYXAoaXRlbSA9PiB7DQogICAgICAgICAgICBpZiAoaXRlbS5uYW1lLmluZGV4T2YoJyMnKSAhPSAtMSkgew0KICAgICAgICAgICAgICBpdGVtLm5hbWUgPSBpdGVtLm5hbWUucmVwbGFjZSgvIy9nLCAnJykNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgICAgIHRoaXMuZGV0YWlsID0gcmVzLmRhdGENCiAgICAgICAgICB0aGlzLmNyZWF0b3IgPSByZXMuZGF0YS5jcmVhdG9yDQogICAgICAgIH0NCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g6I635Y+W6KeG6aKR54K56LWe6L2s5Y+R6K+E6K665pWw5pWw5o2uDQogICAgYXN5bmMgZ2V0VmlkZW9EZXRhaWxJbmZvKGlkKSB7DQogICAgICB0cnkgew0KICAgICAgICBsZXQgcmVzID0gYXdhaXQgdGhpcy4kYXBpLmdldFZpZGVvRGV0YWlsSW5mbyhpZCwgbmV3IERhdGUoKS5nZXRUaW1lKCkpDQogICAgICAgIGlmIChyZXMuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgbGV0IGRldGFpbCA9IHsNCiAgICAgICAgICAgIGlzTGlrZTogcmVzLmxpa2VkLA0KICAgICAgICAgICAgbGlrZUNvdW50OiByZXMubGlrZWRDb3VudCwNCiAgICAgICAgICAgIHNoYXJlQ291bnQ6IHJlcy5zaGFyZUNvdW50LA0KICAgICAgICAgICAgY29tbWVudENvdW50OiByZXMuY29tbWVudENvdW50DQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMudmlkZW9EZXRhaWxJbmZvID0gZGV0YWlsDQogICAgICAgIH0NCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g6I635Y+W55u45YWz6KeG6aKRDQogICAgYXN5bmMgZ2V0VmlkZW9SZWxhdGVkKGlkKSB7DQogICAgICB0cnkgew0KICAgICAgICBsZXQgcmVzID0gYXdhaXQgdGhpcy4kYXBpLmdldFZpZGVvUmVsYXRlZChpZCkNCiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICB0aGlzLnJlbGF0ZWRMaXN0ID0gcmVzLmRhdGENCiAgICAgICAgfQ0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpDQogICAgICB9DQogICAgfSwNCiAgICAvLyDop4bpopHor4TorroNCiAgICBhc3luYyBnZXRWaWRlb0NvbW1lbnRzKGlkKSB7DQogICAgICBsZXQgdGltZXN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCkNCiAgICAgIGxldCBwYXJhbXMgPSB7DQogICAgICAgIGlkLA0KICAgICAgICBsaW1pdDogdGhpcy5saW1pdCwNCiAgICAgICAgb2Zmc2V0OiB0aGlzLm9mZnNldCwNCiAgICAgICAgdGltZXN0YW1wDQogICAgICB9DQogICAgICB0cnkgew0KICAgICAgICBsZXQgcmVzID0gYXdhaXQgdGhpcy4kYXBpLmdldFZpZGVvQ29tbWVudHMocGFyYW1zKQ0KICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgIHRoaXMuY29tbWVudFRvdGFsID0gcmVzLnRvdGFsDQogICAgICAgICAgaWYgKHJlcy5ob3RDb21tZW50cykgew0KICAgICAgICAgICAgdGhpcy5ob3RDb21tZW50cyA9IHJlcy5ob3RDb21tZW50cw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLmhvdENvbW1lbnRzID0gW10NCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy5jb21tZW50cyA9IHJlcy5jb21tZW50cw0KICAgICAgICB9DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOinhumikeivpuaDhe+8iOebuOWFs+inhumike+8iQ0KICAgIHRvRGV0YWlsKGlkKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAgIG5hbWU6ICd2aWRlb0RldGFpbCcsDQogICAgICAgIHF1ZXJ5OiB7DQogICAgICAgICAgaWQNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIHRvVXNlcihpZCkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICBuYW1lOiAncGVyc29uYWwnLA0KICAgICAgICBxdWVyeTogew0KICAgICAgICAgIGlkDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICAvLyDliJ3lp4vljJYNCiAgICBfaW5pdGlhbGl6ZShpZCkgew0KICAgICAgdGhpcy5nZXRWaWRlb1VybChpZCkNCiAgICAgIHRoaXMuZ2V0VmlkZW9EZXRhaWwoaWQpDQogICAgICB0aGlzLmdldFZpZGVvUmVsYXRlZChpZCkNCiAgICAgIHRoaXMuZ2V0VmlkZW9EZXRhaWxJbmZvKGlkKQ0KICAgICAgdGhpcy5nZXRWaWRlb0NvbW1lbnRzKGlkKQ0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHt9LA0KICBtb3VudGVkKCkgew0KICAgIGxldCBpZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkDQogICAgaWYgKGlkKSB7DQogICAgICB0aGlzLnZpZGVvSWQgPSBpZA0KICAgICAgdGhpcy5faW5pdGlhbGl6ZShpZCkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/views/video/detail","sourcesContent":["<template>\r\n  <div class=\"video-detail container\">\r\n    <div class=\"left shadow\">\r\n      <div class=\"video-container\">\r\n        <video\r\n          :src=\"videoUrl\"\r\n          controls=\"controls\"\r\n          autoplay\r\n          controlslist=\"nodownload\"\r\n        ></video>\r\n      </div>\r\n      <div class=\"video-foot\">\r\n        <h2 class=\"title flex-row\">\r\n          {{ detail.title }}\r\n        </h2>\r\n        <div class=\"tag\">\r\n          <a v-for=\"item of detail.videoGroup\" :key=\"item.id\"\r\n            >#{{ item.name }}</a\r\n          >\r\n        </div>\r\n        <p class=\"flex-row\">\r\n          <span\r\n            >发布：{{\r\n              utils.dateFormat(detail.publishTime, 'YYYY-MM-DD')\r\n            }}</span\r\n          >\r\n          <span v-if=\"detail.playTime\"\r\n            >播放次数：{{ utils.tranNumber(detail.playTime, 1) }}</span\r\n          >\r\n        </p>\r\n        <div class=\"follow\">\r\n          <div\r\n            class=\"box\"\r\n            @click=\"likeResource\"\r\n            :class=\"videoDetailInfo.isLike ? 'active' : ''\"\r\n          >\r\n            <i class=\"iconfont nicexihuan3 icon-like\"></i>\r\n            {{ videoDetailInfo.likeCount }}\r\n          </div>\r\n          <div class=\"box\">\r\n            <i class=\"iconfont niceshoucang2 icon-collection\"></i>\r\n            {{ detail.subscribeCount }}\r\n          </div>\r\n          <div class=\"box\">\r\n            <i class=\"iconfont nicefenxiang2 icon-share\"></i>\r\n            {{ videoDetailInfo.shareCount }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"comments\">\r\n        <div class=\"title flex-row\">\r\n          <i class=\"iconfont nicepinglun\"></i>Comments |\r\n          <span class=\"noticom\"\r\n            ><a>{{ videoDetailInfo.commentCount }} 条评论</a>\r\n          </span>\r\n        </div>\r\n        <comment-box\r\n          :currentCommentId=\"currentCommentId\"\r\n          @commentSubmit=\"commentSubmit\"\r\n          :clearContent=\"clearContent\"\r\n          v-if=\"currentCommentId == ''\"\r\n        />\r\n        <comment-list\r\n          title=\"精彩评论\"\r\n          :commentList=\"hotComments\"\r\n          :currentCommentId=\"currentCommentId\"\r\n          @commentHandle=\"commentHandle\"\r\n          @cancelComment=\"cancelComment\"\r\n          @commentSubmit=\"commentSubmit\"\r\n          @commentLike=\"commentLike\"\r\n          v-if=\"hotComments.length > 0\"\r\n        />\r\n        <comment-list\r\n          title=\"最新评论\"\r\n          :commentList=\"comments\"\r\n          :currentCommentId=\"currentCommentId\"\r\n          @commentHandle=\"commentHandle\"\r\n          @cancelComment=\"cancelComment\"\r\n          @commentSubmit=\"commentSubmit\"\r\n          @commentLike=\"commentLike\"\r\n        />\r\n        <div class=\"page-wrap\">\r\n          <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page=\"currentPage\"\r\n            :page-size=\"limit\"\r\n            background\r\n            hide-on-single-page\r\n            layout=\"total, prev, pager, next\"\r\n            :total=\"commentTotal\"\r\n          >\r\n          </el-pagination>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"right\">\r\n      <div class=\"profile module shadow\">\r\n        <div class=\"card-header flex-row\">\r\n          <span>视频简介</span>\r\n        </div>\r\n        <div class=\"content\">\r\n          <div class=\"author\">\r\n            <div class=\"avatar\" @click=\"toUser(creator.userId)\">\r\n              <img :src=\"creator.avatarUrl\" alt=\"\" />\r\n            </div>\r\n            <p class=\"name\" @click=\"toUser(creator.userId)\">{{ creator.nickname }}</p>\r\n            <!-- <div class=\"follow flex-center transition\">\r\n              <i class=\"iconfont niceIcon_add\"></i>关注\r\n            </div> -->\r\n          </div>\r\n          <p v-if=\"detail.description\">{{ detail.description }}</p>\r\n          <p v-else>视频暂无简介</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"related module shadow\">\r\n        <div class=\"card-header flex-row\">\r\n          <span>相关推荐</span>\r\n        </div>\r\n        <ul>\r\n          <li v-for=\"item of relatedList\" :key=\"item.vid\">\r\n            <div class=\"avatar\">\r\n              <img\r\n                :src=\"item.coverUrl + '?param=320y180'\"\r\n                :alt=\"item.title\"\r\n                :title=\"item.title\"\r\n              />\r\n              <div class=\"action\">\r\n                <button\r\n                  class=\"play flex-center\"\r\n                  title=\"播放\"\r\n                  v-if=\"!item.isLive\"\r\n                  @click=\"toDetail(item.vid)\"\r\n                >\r\n                  <i class=\"iconfont nicebofang1\"></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div class=\"info\">\r\n              <h2 class=\"ellipsis\">{{ item.title }}</h2>\r\n              <span v-for=\"author of item.creator\" :key=\"author.userId\"\r\n                >By. <small> {{ author.userName }}</small></span\r\n              >\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CommentList from 'components/common/commentList/Index.vue'\r\nimport CommentBox from 'components/common/commentBox/Index.vue'\r\nimport { mapGetters } from 'vuex'\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 歌单详情\r\n      detail: {},\r\n      creator: {},\r\n      // 相关视频\r\n      relatedList: [],\r\n      // 评论\r\n      hotComments: [],\r\n      comments: [],\r\n      currentCommentId: '',\r\n      videoUrl: '',\r\n      currentPage: 0,\r\n      limit: 20,\r\n      offset: 0,\r\n      videoId: '',\r\n      commentTotal: 0,\r\n      // 是否清空评论框内容\r\n      clearContent: false,\r\n      // 资源点赞数据\r\n      videoDetailInfo: {}\r\n    }\r\n  },\r\n  components: {\r\n    CommentList,\r\n    CommentBox\r\n  },\r\n  computed: {\r\n    ...mapGetters(['userInfo', 'loginStatu'])\r\n  },\r\n  watch: {\r\n    $route() {\r\n      let id = this.$route.query.id || this.videoId\r\n      if (id) {\r\n        this._initialize(id)\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 改变页码\r\n    handleSizeChange(val) {\r\n      this.limit = val\r\n      this.offset = this.limit * this.currentPage\r\n      this.getVideoComments(this.videoId)\r\n    },\r\n    // 改变页码\r\n    handleCurrentChange(val) {\r\n      this.currentPage = val\r\n      this.offset = (val - 1) * this.limit\r\n      this.getVideoComments(this.videoId)\r\n    },\r\n    // 点击评论\r\n    commentHandle(id) {\r\n      this.currentCommentId = id\r\n    },\r\n    // 提交评论\r\n    async commentSubmit(content) {\r\n      if (!content) {\r\n        this.$message.error('什么都没写，你点毛')\r\n        return\r\n      } else {\r\n        let timestamp = new Date().getTime()\r\n        let params = {\r\n          type: 5,\r\n          id: this.videoId,\r\n          content: content,\r\n          timestamp\r\n        }\r\n        if (this.currentCommentId == '') {\r\n          // 发布评论\r\n          params.t = 1\r\n        } else {\r\n          // 回复评论\r\n          params.t = 2\r\n          params.commentId = this.currentCommentId\r\n        }\r\n        let res = await this.$api.sendComment(params)\r\n        if (res.code === 200) {\r\n          this.$message({\r\n            message: '提交成功',\r\n            type: 'success'\r\n          })\r\n          this.cancelComment()\r\n          this.clearContent = true\r\n          this.getVideoComments(this.videoId)\r\n        }\r\n      }\r\n    },\r\n    // 取消评论\r\n    cancelComment() {\r\n      this.currentCommentId = ''\r\n    },\r\n    // 评论点赞\r\n    async commentLike(id, liked) {\r\n      let timestamp = new Date().getTime()\r\n      let params = {\r\n        id: this.videoId,\r\n        cid: id,\r\n        type: 5,\r\n        timestamp\r\n      }\r\n      if (liked) {\r\n        params.t = 0\r\n      } else {\r\n        params.t = 1\r\n      }\r\n      try {\r\n        let res = await this.$api.likeComment(params)\r\n        if (res.code === 200) {\r\n          this.getVideoComments(this.videoId)\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    // 资源点赞\r\n    async likeResource() {\r\n      let type = 5\r\n      let t = 1\r\n      if (this.videoDetailInfo.isLike) {\r\n        t = 2\r\n      } else {\r\n        t = 1\r\n      }\r\n      let id = this.videoId\r\n      try {\r\n        let res = await this.$api.likeResource(type, t, id)\r\n        if (res.code === 200) {\r\n          this.getVideoDetailInfo(this.videoId)\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    // 获取视频播放地址\r\n    async getVideoUrl(id) {\r\n      try {\r\n        let res = await this.$api.getVideoUrl(id)\r\n        if (res.code === 200) {\r\n          this.videoUrl = res.urls[0].url\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    // 获取视频详情\r\n    async getVideoDetail(id) {\r\n      try {\r\n        let res = await this.$api.getVideoDetail(id)\r\n        if (res.code === 200) {\r\n          res.data.videoGroup.map(item => {\r\n            if (item.name.indexOf('#') != -1) {\r\n              item.name = item.name.replace(/#/g, '')\r\n            }\r\n          })\r\n          this.detail = res.data\r\n          this.creator = res.data.creator\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    // 获取视频点赞转发评论数数据\r\n    async getVideoDetailInfo(id) {\r\n      try {\r\n        let res = await this.$api.getVideoDetailInfo(id, new Date().getTime())\r\n        if (res.code === 200) {\r\n          let detail = {\r\n            isLike: res.liked,\r\n            likeCount: res.likedCount,\r\n            shareCount: res.shareCount,\r\n            commentCount: res.commentCount\r\n          }\r\n          this.videoDetailInfo = detail\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    // 获取相关视频\r\n    async getVideoRelated(id) {\r\n      try {\r\n        let res = await this.$api.getVideoRelated(id)\r\n        if (res.code === 200) {\r\n          this.relatedList = res.data\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    // 视频评论\r\n    async getVideoComments(id) {\r\n      let timestamp = new Date().getTime()\r\n      let params = {\r\n        id,\r\n        limit: this.limit,\r\n        offset: this.offset,\r\n        timestamp\r\n      }\r\n      try {\r\n        let res = await this.$api.getVideoComments(params)\r\n        if (res.code === 200) {\r\n          this.commentTotal = res.total\r\n          if (res.hotComments) {\r\n            this.hotComments = res.hotComments\r\n          } else {\r\n            this.hotComments = []\r\n          }\r\n          this.comments = res.comments\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    // 视频详情（相关视频）\r\n    toDetail(id) {\r\n      this.$router.push({\r\n        name: 'videoDetail',\r\n        query: {\r\n          id\r\n        }\r\n      })\r\n    },\r\n    toUser(id) {\r\n      this.$router.push({\r\n        name: 'personal',\r\n        query: {\r\n          id\r\n        }\r\n      })\r\n    },\r\n    // 初始化\r\n    _initialize(id) {\r\n      this.getVideoUrl(id)\r\n      this.getVideoDetail(id)\r\n      this.getVideoRelated(id)\r\n      this.getVideoDetailInfo(id)\r\n      this.getVideoComments(id)\r\n    }\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    let id = this.$route.query.id\r\n    if (id) {\r\n      this.videoId = id\r\n      this._initialize(id)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n.video-detail {\r\n  display: flex;\r\n  .left {\r\n    flex: 1;\r\n    width: 950px;\r\n    padding: 15px;\r\n    border-radius: 8px;\r\n    margin-right: 20px;\r\n    .title {\r\n      margin-bottom: 10px;\r\n      position: relative;\r\n      i {\r\n        font-size: 24px;\r\n        margin-top: 1px;\r\n        margin-left: -3px;\r\n        color: $color-theme;\r\n      }\r\n    }\r\n    .video-container {\r\n      position: relative;\r\n      padding-top: 56.25%;\r\n      video {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        background-color: #000;\r\n      }\r\n    }\r\n    .video-foot {\r\n      margin-top: 8px;\r\n      .tag {\r\n        margin-bottom: 8px;\r\n        a {\r\n          font-size: 12px;\r\n          color: $color-theme;\r\n          margin-right: 10px;\r\n          cursor: pointer;\r\n        }\r\n      }\r\n      p {\r\n        span {\r\n          margin-right: 30px;\r\n          font-size: 12px;\r\n          color: #999;\r\n        }\r\n      }\r\n      .follow {\r\n        display: flex;\r\n        margin-top: 10px;\r\n        .box {\r\n          width: auto;\r\n          border-radius: 15px;\r\n          padding: 0px 15px;\r\n          background: #f2f2f2;\r\n          margin-right: 15px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          color: #161e27;\r\n          cursor: pointer;\r\n          i {\r\n            font-size: 26px;\r\n            color: #161e27;\r\n          }\r\n          &.active {\r\n            color: #fff;\r\n            background: $color-theme;\r\n            .icon-like {\r\n              color: #fff;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .comments {\r\n      margin-top: 25px;\r\n      .title {\r\n        width: 100%;\r\n        height: 50px;\r\n        // background: #f8f8f8;\r\n        border-radius: 3px;\r\n        padding: 0 3px;\r\n        border-bottom: 1px solid #f1f1f1;\r\n        i {\r\n          color: #666;\r\n          font-size: 18px;\r\n          margin-right: 10px;\r\n        }\r\n        span {\r\n          margin-left: 5px;\r\n        }\r\n      }\r\n      .comment-box {\r\n        margin-top: 20px;\r\n        p {\r\n          i {\r\n            margin-right: 10px;\r\n          }\r\n          span {\r\n            flex: 1;\r\n          }\r\n          .cancel-comment {\r\n            color: #d9dfff;\r\n            font-size: 12px;\r\n            background: none;\r\n            padding: 6px 10px;\r\n            border-radius: 2px;\r\n            border: 1px solid #dee3ff;\r\n            cursor: pointer;\r\n          }\r\n        }\r\n        .comment-form {\r\n          display: flex;\r\n          margin-top: 1.5em;\r\n          .avatar {\r\n            width: 50px;\r\n            height: 50px;\r\n            border-radius: 3px;\r\n            margin-right: 20px;\r\n            position: relative;\r\n            flex-shrink: 0;\r\n            img {\r\n              width: 100%;\r\n              border-radius: 3px;\r\n            }\r\n          }\r\n          .comarea {\r\n            flex: 1;\r\n            textarea {\r\n              width: 100%;\r\n              outline: none;\r\n              background: #f8f9ff;\r\n              resize: none;\r\n              padding: 6px 12px;\r\n              color: #666;\r\n              border: 1px solid #eaebff;\r\n              border-radius: 3px;\r\n              font-size: 13px;\r\n              height: 80px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .comment-foot {\r\n        margin-top: 15px;\r\n        .comment-btn {\r\n          color: #fff;\r\n          padding: 10px 30px;\r\n          font-size: .75rem;\r\n          border-radius: 3px;\r\n          border: none;\r\n          cursor: pointer;\r\n          outline: none;\r\n          background: #FF416C;  /* fallback for old browsers */\r\n          background: -webkit-linear-gradient(to right, #FF4B2B, #FF416C);  /* Chrome 10-25, Safari 5.1-6 */\r\n          background: linear-gradient(to right, #FF4B2B, #FF416C); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n        }\r\n      }\r\n      .page-wrap {\r\n        margin-top: 20px;\r\n      }\r\n    }\r\n  }\r\n  .right {\r\n    width: 350px;\r\n    flex-shrink: 0;\r\n    .module {\r\n      padding: 15px;\r\n      width: 100%;\r\n      border-radius: 8px;\r\n      margin-bottom: 20px;\r\n    }\r\n    .profile {\r\n      .author {\r\n        display: flex;\r\n        align-items: center;\r\n        margin-bottom: 15px;\r\n        margin-top: 5px;\r\n        .avatar {\r\n          width: 40px;\r\n          height: 40px;\r\n          border-radius: 20px;\r\n          margin-right: 15px;\r\n          cursor: pointer;\r\n          img {\r\n            width: 40px;\r\n            height: 40px;\r\n            border-radius: 20px;\r\n          }\r\n        }\r\n        p {\r\n          flex: 1;\r\n          cursor: pointer;\r\n        }\r\n        .follow {\r\n          padding: 3px 10px;\r\n          font-size: 12px;\r\n          background: $color-theme;\r\n          color: #ffffff;\r\n          border: 1px solid $color-theme;\r\n          cursor: pointer;\r\n          border-radius: 18px;\r\n          &:hover {\r\n            background: none;\r\n            color: $color-theme;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .related {\r\n      padding-bottom: 5px;\r\n      ul {\r\n        li {\r\n          display: flex;\r\n          flex-direction: column;\r\n          margin-bottom: 15px;\r\n          .avatar {\r\n            width: 100%;\r\n            margin-right: 15px;\r\n            flex-shrink: 0;\r\n            position: relative;\r\n            img {\r\n              width: 100%;\r\n            }\r\n            .action {\r\n              display: none;\r\n              position: absolute;\r\n              top: 50%;\r\n              left: 50%;\r\n              -webkit-transform: translate(-50%, -50%);\r\n              -ms-transform: translate(-50%, -50%);\r\n              transform: translate(-50%, -50%);\r\n              .play {\r\n                width: 32px;\r\n                height: 32px;\r\n                padding: 0;\r\n                border: none;\r\n                border-radius: 50%;\r\n                color: #fff;\r\n                cursor: pointer;\r\n                background-color: $color-theme;\r\n                i {\r\n                  font-size: 12px;\r\n                }\r\n              }\r\n            }\r\n          }\r\n          .info {\r\n            height: 50px;\r\n            width: calc(100% - 50px);\r\n            flex: 1;\r\n            display: flex;\r\n            justify-content: center;\r\n            flex-direction: column;\r\n            h2 {\r\n              font-size: 14px;\r\n              margin-bottom: 3px;\r\n              margin-top: 5px;\r\n              width: 100%;\r\n              min-height: 20px;\r\n            }\r\n            span {\r\n              font-size: 12px;\r\n              color: #a5a5c1;\r\n            }\r\n          }\r\n          &:hover {\r\n            .action {\r\n              display: flex;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .comment {\r\n      ul {\r\n        li {\r\n          padding: 10px 0;\r\n          width: 100%;\r\n          display: flex;\r\n          .avatar {\r\n            width: 45px;\r\n            height: 45px;\r\n            border-radius: 50%;\r\n            margin-right: 12px;\r\n            flex-shrink: 0;\r\n            img {\r\n              width: 100%;\r\n              border-radius: 50%;\r\n            }\r\n          }\r\n          .info {\r\n            flex: 1;\r\n            h2 {\r\n              font-size: 15px;\r\n              margin-right: 5px;\r\n              margin-bottom: 10px;\r\n              small {\r\n                font-size: 12px;\r\n                color: #a5a5c1;\r\n                font-weight: 200;\r\n              }\r\n            }\r\n            p {\r\n              width: 100%;\r\n              font-size: 12px;\r\n              color: #666666;\r\n              line-height: 1.6;\r\n              padding: 5px 10px;\r\n              background: #f5f5f5;\r\n              margin-top: 5px;\r\n              border-radius: 3px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .card-header {\r\n      border-left: 3px solid $color-theme;\r\n      height: 20px;\r\n      padding-left: 1rem;\r\n      margin-bottom: 15px;\r\n      font-weight: bold;\r\n      .icon-like {\r\n        font-size: 20px;\r\n        &.active {\r\n          color: $color-theme;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}