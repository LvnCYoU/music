{"remainingRequest":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zlw12\\Desktop\\store\\vue-music\\src\\components\\header\\index.vue?vue&type=style&index=0&id=99472036&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\src\\components\\header\\index.vue","mtime":1605531714304},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\sass-loader\\lib\\loader.js","mtime":1533139052000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5lbC1oZWFkZXJ7CiAgQGluY2x1ZGUgc2hhZG93OwogIC5oZWFkZXJ7CiAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICB0b3A6IDA7CiAgICByaWdodDogMDsKICAgIGxlZnQ6IDA7CiAgICB3aWR0aDogMTAwJTsKICAgIHotaW5kZXg6IDk7CiAgICBiYWNrZ3JvdW5kOiAjZmZmOwogIH0KICAuY29udGFpbmVyewogICAgZGlzcGxheTogZmxleDsKICAgIC5sZWZ0ewogICAgICBAaW5jbHVkZSBmbGV4OwogICAgICBtYXJnaW4tcmlnaHQ6IDQwcHg7ICAgICAgIAogICAgICAubG9nb3sKICAgICAgICBAaW5jbHVkZSBmbGV4OwogICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgIH0gICAKICAgIH0gICAKICAgIAogICAgLm1haW57CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGhlaWdodDogNjBweDsKICAgICAgbGluZS1oZWlnaHQ6IDYwcHg7CiAgICAgIGNvbG9yOiAjOTA5Mzk5OwogICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICBhewogICAgICAgIG1hcmdpbi1yaWdodDogNDBweDsKICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIHRyYW5zcGFyZW50OwogICAgICAgIGNvbG9yOiAjOTA5Mzk5OwogICAgICAgICY6aG92ZXJ7CiAgICAgICAgICBjb2xvcjogIzMwMzEzMzsKICAgICAgICB9CiAgICAgICAgJi5yb3V0ZXItbGluay1hY3RpdmV7CiAgICAgICAgICBjb2xvcjogJG1haW5Db2xvcjsKICAgICAgICAgIGJvcmRlci1ib3R0b20tY29sb3I6ICRtYWluQ29sb3I7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgLnJpZ2h0ewogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgIHJpZ2h0OiAwOwogICAgICB0b3A6IDEwcHg7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIC5zZWFyY2h7CiAgICAgICAgaGVpZ2h0OiA0MHB4OwogICAgICB9CiAgICAgIC5zaWduaW57CiAgICAgICAgQGluY2x1ZGUgZmxleDsKICAgICAgICBwYWRkaW5nLXJpZ2h0OiA2MHB4OwogICAgICAgIC53cmFwcGVyewogICAgICAgICAgd2lkdGg6IDUwcHg7CiAgICAgICAgICBhewogICAgICAgICAgICBjb2xvcjogIzkwOTM5OTsKICAgICAgICAgICAgJjpob3ZlcnsKICAgICAgICAgICAgICBjb2xvcjogIzMwMzEzMzsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgLmVsLWRyb3Bkb3duewogICAgICAgICAgICBAaW5jbHVkZSBmbGV4OwogICAgICAgICAgICBhewogICAgICAgICAgICAgIEBpbmNsdWRlIGZsZXg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLnVzZXItaW1newogICAgICAgICAgICAgIGhlaWdodDogMzBweDsKICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Ci5lbC1kcm9wZG93bi1tZW51ewogIGhyLGF7CiAgICBjb2xvcjogIzYwNjI2NjsKICB9CiAgLmVsLWRyb3Bkb3duLW1lbnVfX2l0ZW17CiAgICAmOmxhc3Qtb2YtdHlwZXsKICAgICAgbWFyZ2luLXRvcDogNnB4OwogICAgICBwYWRkaW5nLXRvcDogNXB4OwogICAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2ViZWVmNTsKICAgIH0KICAgICY6aG92ZXJ7CiAgICAgIGJhY2tncm91bmQ6IG5vbmU7CiAgICAgIGNvbG9yOiAjZmEyODAwOwogICAgICBhewogICAgICAgIGNvbG9yOiAjZmEyODAwOwogICAgICB9CgogICAgfQoKICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA","file":"index.vue","sourceRoot":"src/components/header","sourcesContent":["<template>\r\n  <el-header>\r\n    <div class=\"header\">\r\n      <div class=\"container\">\r\n        <div class=\"left\">\r\n          <router-link tag=\"li\" to=\"/home\" class=\"logo\">\r\n            <img src=\"../../assets/logo_black.png\" alt=\"\">\r\n          </router-link>\r\n        </div>\r\n        <ul class=\"main\">\r\n          <router-link to=\"/home\" tag=\"a\">发现音乐</router-link>\r\n          <router-link to='/rank' tag='a'>排行榜</router-link>\r\n          <router-link to='/songsheet' tag='a'>歌单</router-link>\r\n          <router-link to='/singer' tag='a'>歌手</router-link>\r\n          <router-link to='/video' tag='a'>视频</router-link>\r\n          <router-link to='/mv' tag='a'>MV</router-link>\r\n        </ul>       \r\n        <el-row class=\"right\">\r\n          <div class=\"search\">\r\n            <search-input></search-input>\r\n          </div>\r\n          <div class=\"signin\">\r\n            <div class=\"wrapper\">\r\n              <router-link tag=\"a\" to=\"/signin\" v-show=\"!status\">未登录</router-link>\r\n              <el-dropdown size=\"small\" v-show=\"status\">\r\n                <router-link :to='{name: \"user\",query:{id,}}'>\r\n                  <img :src=\"url\" class=\"user-img\">\r\n                </router-link>\r\n                <el-dropdown-menu slot=\"dropdown\">\r\n                  <el-dropdown-item icon=\"el-icon-user\">\r\n                    <router-link tag=\"a\" :to='{name: \"user\",query:{id,}}'>个人中心</router-link>\r\n                  </el-dropdown-item>\r\n                  <el-dropdown-item icon=\"el-icon-medal\">个人等级</el-dropdown-item>\r\n                  <el-dropdown-item icon=\"el-icon-setting\">设置</el-dropdown-item>\r\n                  <el-dropdown-item icon=\"el-icon-switch-button\" @click.native=\"Logout\">退出登录</el-dropdown-item>\r\n                </el-dropdown-menu>\r\n              </el-dropdown>\r\n            </div>\r\n          </div> \r\n        </el-row>\r\n      </div>\r\n    </div>\r\n\r\n  </el-header>\r\n</template>\r\n\r\n<script>\r\nimport {mapMutations} from 'vuex'\r\nimport SearchInput from '../common/input'\r\nexport default {\r\n  data(){\r\n    return{\r\n      url: '',\r\n      search: '',\r\n      id: '',\r\n    }\r\n  },\r\n  components: {\r\n    SearchInput,\r\n  },\r\n  computed: {\r\n    status: {\r\n      get(){\r\n        return this.$store.state.status\r\n      },\r\n      set(){}\r\n    },\r\n  },\r\n\r\n\r\n  mounted(){\r\n    this.init();\r\n  },\r\n\r\n  methods:{\r\n    ...mapMutations(['CHANGE_STATUS']),\r\n\r\n    init(){\r\n      this.Cookie();\r\n    },\r\n    \r\n    // 退出登录\r\n    async Logout(){\r\n      await this.$api.Logout()\r\n        .then( () => {\r\n          this.CHANGE_STATUS(false);\r\n          this.$route.path !== '/home' && this.$router.push({path: '/home'})\r\n        })\r\n    },\r\n\r\n    // 获取登陆状态\r\n    async Status(flag){\r\n      flag && \r\n      await this.$api.LoginStatus()\r\n      .then( res => { \r\n        let data = res.data.profile;\r\n        this.url = data.avatarUrl;\r\n        this.id = data.userId;\r\n        console.log(res)\r\n      })\r\n      .catch( () => {\r\n        return;\r\n      })\r\n      this.CHANGE_STATUS(flag);\r\n    },\r\n\r\n    // 查看cookie\r\n    Cookie(){\r\n       document.cookie.split(';').map(list => {\r\n         list.split('=').some(item => {\r\n           if(item == ' __remember_me'){\r\n             this.Status(true)\r\n             return true;\r\n           }else{\r\n             this.Status(false)\r\n           }\r\n         })\r\n       })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .el-header{\r\n    @include shadow;\r\n    .header{\r\n      position: fixed;\r\n      top: 0;\r\n      right: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      z-index: 9;\r\n      background: #fff;\r\n    }\r\n    .container{\r\n      display: flex;\r\n      .left{\r\n        @include flex;\r\n        margin-right: 40px;       \r\n        .logo{\r\n          @include flex;\r\n          height: 100%;\r\n          cursor: pointer;\r\n        }   \r\n      }   \r\n      \r\n      .main{\r\n        display: flex;\r\n        height: 60px;\r\n        line-height: 60px;\r\n        color: #909399;\r\n        align-items: center;\r\n        a{\r\n          margin-right: 40px;\r\n          cursor: pointer;\r\n          border-bottom: 2px solid transparent;\r\n          color: #909399;\r\n          &:hover{\r\n            color: #303133;\r\n          }\r\n          &.router-link-active{\r\n            color: $mainColor;\r\n            border-bottom-color: $mainColor;\r\n          }\r\n        }\r\n      }\r\n\r\n      .right{\r\n        position: absolute;\r\n        right: 0;\r\n        top: 10px;\r\n        display: flex;\r\n        .search{\r\n          height: 40px;\r\n        }\r\n        .signin{\r\n          @include flex;\r\n          padding-right: 60px;\r\n          .wrapper{\r\n            width: 50px;\r\n            a{\r\n              color: #909399;\r\n              &:hover{\r\n                color: #303133;\r\n              }\r\n            }\r\n            .el-dropdown{\r\n              @include flex;\r\n              a{\r\n                @include flex;\r\n              }\r\n              .user-img{\r\n                height: 30px;\r\n                border-radius: 50%;\r\n                cursor: pointer;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .el-dropdown-menu{\r\n    hr,a{\r\n      color: #606266;\r\n    }\r\n    .el-dropdown-menu__item{\r\n      &:last-of-type{\r\n        margin-top: 6px;\r\n        padding-top: 5px;\r\n        border-top: 1px solid #ebeef5;\r\n      }\r\n      &:hover{\r\n        background: none;\r\n        color: #fa2800;\r\n        a{\r\n          color: #fa2800;\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n  }\r\n</style>"]}]}