{"remainingRequest":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zlw12\\Desktop\\store\\vue-music\\src\\components\\common\\comment\\comment-playlist\\index.vue?vue&type=style&index=0&id=357728da&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\src\\components\\common\\comment\\comment-playlist\\index.vue","mtime":1604658837907},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\sass-loader\\lib\\loader.js","mtime":1533139052000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmNvbW1lbnQtcGxheWxpc3R7CiAgbWFyZ2luLWJvdHRvbTogMjBweDsKICBwYWRkaW5nOiAxNXB4OwogIGJvcmRlci1yYWRpdXM6IDhweDsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIC50aXRsZXsKICAgIHBhZGRpbmctbGVmdDogMXJlbTsKICAgIG1hcmdpbi1ib3R0b206IDE1cHg7CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgaGVpZ2h0OiAyMHB4OwogICAgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZCAjZmEyODAwOwogICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgIGZvbnQtc2l6ZTogMTRweDsKICAgIC5idG57CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgLmlzLWFjdGl2ZXsKICAgICAgICBjb2xvcjogJG1haW5Db2xvcjsKICAgICAgfQogICAgICBzcGFuewogICAgICAgIHBhZGRpbmc6IDAgNXB4OwogICAgICAgICY6bGFzdC1jaGlsZHsKICAgICAgICAgIHBhZGRpbmctbGVmdDogNnB4OwogICAgICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjNGE0YTRhOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KICB1bHsKICAgIC5pdGVtewogICAgICBwYWRkaW5nOiAxMHB4IDA7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIC5jb3ZlcnsKICAgICAgICBtYXJnaW4tcmlnaHQ6IDEycHg7CiAgICAgICAgd2lkdGg6IDQ1cHg7CiAgICAgICAgaGVpZ2h0OiA0NXB4OwogICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgICAgICBmbGV4LXNocmluazogMDsKICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgLmVsLWltYWdlewogICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgICAgIH0KICAgICAgfQogICAgICAuaW5mb3sKICAgICAgICAmPmRpdnsKICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAgICAgfQogICAgICAgIC5uYW1lewogICAgICAgICAgbWFyZ2luLXJpZ2h0OiA1cHg7CiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgICAgICAgZm9udC1zaXplOiAxNXB4OwogICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgc21hbGx7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgY29sb3I6ICNhNWE1YzE7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiAyMDA7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC5jb250ZW50ewogICAgICAgICAgbWFyZ2luLXRvcDogNXB4OwogICAgICAgICAgcGFkZGluZzogNXB4IDEwcHg7CiAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjY7CiAgICAgICAgICBjb2xvcjogIzY2NjsKICAgICAgICAgIGJhY2tncm91bmQ6ICNmNWY1ZjU7CiAgICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICBmb250LXNpemU6IDEycHg7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAuZXJyb3J7CiAgICAgIG1hcmdpbi10b3A6IDUwcHg7CiAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgfQogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/common/comment/comment-playlist","sourcesContent":["<template>\r\n  <div class=\"comment-playlist shadow\">\r\n    <header class=\"title\">\r\n      <span>精彩评论</span>\r\n      <div class=\"btn\">\r\n        <span \r\n          :class=\"flag ? 'is-active' : ''\"\r\n          @click=\"changeComment(true)\"\r\n        >\r\n          最热\r\n        </span>\r\n        <span \r\n          :class=\"flag ? '' : 'is-active'\"\r\n          @click=\"changeComment(false)\"\r\n        >\r\n          最新\r\n        </span>\r\n      </div>\r\n    </header>\r\n    <ul>\r\n      <li \r\n        class=\"item\" \r\n        v-for=\"item in comment\" \r\n        :key=\"item.commentId\"\r\n      > \r\n        <div class=\"cover\">\r\n          <el-image \r\n            :src=\"item.user.avatarUrl\" \r\n            fit=\"fill\"\r\n            v-if=\"item.user.avatarUrl\"\r\n          >\r\n          </el-image>\r\n        </div>\r\n        <div class=\"info\">\r\n          <h2 class=\"name\" v-if=\"item.user.nickname\">\r\n            <span>{{ item.user.nickname }}</span>\r\n            <small class=\"time\"> . {{ utils.getMonth(item.time) }}</small>\r\n          </h2>\r\n          <div class=\"content\">\r\n            <p>{{ item.content }}</p>\r\n          </div>\r\n        </div>\r\n      </li>\r\n      <div class=\"error\" v-if=\"!comment.length\">\r\n        <span>暂没有评论噢~</span>\r\n      </div>\r\n    </ul>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data(){\r\n    return{\r\n      comment: [],\r\n      flag: true,\r\n      data: {},\r\n      order: '最热'\r\n    }\r\n  },\r\n\r\n  mounted(){\r\n    this.init();\r\n  },\r\n\r\n  methods: {\r\n    init(){\r\n      this.getCommentPlaylist();\r\n    },\r\n\r\n    // 获取评论数据\r\n    async getCommentPlaylist(){\r\n      let id = this.$route.query.id;\r\n      await  this.$api.CommentPlaylist(id)\r\n        .then(res => {\r\n          this.data = res.data;\r\n          this.comment = res.data.hotComments\r\n        })\r\n      \r\n    },\r\n\r\n    // 评论转变 最新/最热\r\n    changeComment(flag){\r\n      let map = new Map([\r\n        ['false', () => {\r\n          this.comment = this.data.comments\r\n        }],\r\n        ['true', () => {\r\n          this.comment = this.data.hotComments\r\n        }],\r\n        ['default', () => { return }]\r\n      ])\r\n      if(this.flag == flag) return;\r\n      this.flag = flag;\r\n      return map.get(`${this.flag}`).call(this) ||\r\n             map.get('default').call(this)\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .comment-playlist{\r\n    margin-bottom: 20px;\r\n    padding: 15px;\r\n    border-radius: 8px;\r\n    box-sizing: border-box;\r\n    .title{\r\n      padding-left: 1rem;\r\n      margin-bottom: 15px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      height: 20px;\r\n      border-left: 3px solid #fa2800;\r\n      font-weight: 700;\r\n      font-size: 14px;\r\n      .btn{\r\n        cursor: pointer;\r\n        .is-active{\r\n          color: $mainColor;\r\n        }\r\n        span{\r\n          padding: 0 5px;\r\n          &:last-child{\r\n            padding-left: 6px;\r\n            border-left: 1px solid #4a4a4a;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    ul{\r\n      .item{\r\n        padding: 10px 0;\r\n        display: flex;\r\n        .cover{\r\n          margin-right: 12px;\r\n          width: 45px;\r\n          height: 45px;\r\n          border-radius: 50%;\r\n          flex-shrink: 0;\r\n          cursor: pointer;\r\n          .el-image{\r\n            border-radius: 50%;\r\n          }\r\n        }\r\n        .info{\r\n          &>div{\r\n            box-sizing: border-box;\r\n          }\r\n          .name{\r\n            margin-right: 5px;\r\n            margin-bottom: 10px;\r\n            font-size: 15px;\r\n            cursor: pointer;\r\n            small{\r\n              font-size: 12px;\r\n              color: #a5a5c1;\r\n              font-weight: 200;\r\n            }\r\n          }\r\n          .content{\r\n            margin-top: 5px;\r\n            padding: 5px 10px;\r\n            width: 100%;\r\n            line-height: 1.6;\r\n            color: #666;\r\n            background: #f5f5f5;\r\n            border-radius: 3px;\r\n            font-size: 12px;\r\n          }\r\n        }\r\n      }\r\n      .error{\r\n        margin-top: 50px;\r\n        font-size: 14px;\r\n        text-align: center;\r\n      }\r\n    }\r\n  }\r\n</style>"]}]}