{"remainingRequest":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\src\\views\\singer\\Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\src\\views\\singer\\Index.vue","mtime":1600536934836},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgU2luZ2VySXRlbSBmcm9tICdjb21wb25lbnRzL2NvbW1vbi9zaW5nZXJJdGVtL0luZGV4Jw0KaW1wb3J0IGxvYWRNb3JlIGZyb20gJ2NvbXBvbmVudHMvY29tbW9uL2xvYWRNb3JlL0luZGV4Jw0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAvLyDor63np40NCiAgICAgIGxhbmc6IC0xLA0KICAgICAgbGFuZ3M6IFsNCiAgICAgICAgew0KICAgICAgICAgIHZhbHVlOiAtMSwNCiAgICAgICAgICBsYWJlbDogJ+WFqOmDqCcNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHZhbHVlOiA3LA0KICAgICAgICAgIGxhYmVsOiAn5Y2O6K+tJw0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdmFsdWU6IDk2LA0KICAgICAgICAgIGxhYmVsOiAn5qyn576OJw0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdmFsdWU6IDgsDQogICAgICAgICAgbGFiZWw6ICfml6XmnKwnDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB2YWx1ZTogMTYsDQogICAgICAgICAgbGFiZWw6ICfpn6nlm70nDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB2YWx1ZTogMCwNCiAgICAgICAgICBsYWJlbDogJ+WFtuS7licNCiAgICAgICAgfQ0KICAgICAgXSwNCiAgICAgIC8vIOWIhuexuw0KICAgICAgY2xhc3NpZnk6IC0xLA0KICAgICAgY2xhc3NpZnlzOiBbDQogICAgICAgIHsNCiAgICAgICAgICB2YWx1ZTogLTEsDQogICAgICAgICAgbGFiZWw6ICflhajpg6gnDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB2YWx1ZTogMSwNCiAgICAgICAgICBsYWJlbDogJ+eUt+atjOaJiycNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHZhbHVlOiAyLA0KICAgICAgICAgIGxhYmVsOiAn5aWz5q2M5omLJw0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdmFsdWU6IDMsDQogICAgICAgICAgbGFiZWw6ICfkuZDpmJ8nDQogICAgICAgIH0NCiAgICAgIF0sDQogICAgICAvLyDlrZfmr41BX1oNCiAgICAgIGVuOiAtMSwNCiAgICAgIGVuczogW10sDQogICAgICAvLyDor7fmsYLlj4LmlbANCiAgICAgIHBhcmFtczogew0KICAgICAgICAvLyDov5Tlm57mlbDph48NCiAgICAgICAgbGltaXQ6IDQwLA0KICAgICAgICAvLyDlgY/np7vmlbDph48NCiAgICAgICAgb2Zmc2V0OiAwLA0KICAgICAgICAvLyDliIbnsbsNCiAgICAgICAgdHlwZTogLTEsDQogICAgICAgIC8vIOivreenjQ0KICAgICAgICBhcmVhOiAtMSwNCiAgICAgICAgLy8g5a2X5q+NQV9aDQogICAgICAgIGluaXRpYWw6IC0xDQogICAgICB9LA0KICAgICAgLy8g5q2M5omL5YiX6KGoDQogICAgICBzaW5nZXJzOiBbXSwNCiAgICAgIC8vIOaYr+WQpuaYvuekuuWKoOi9veWKqOeUuw0KICAgICAgbG9hZGluZzogZmFsc2UsDQogICAgICAvLyDmmK/lkKbov5jmnInmlbDmja4NCiAgICAgIGxvYWRTdGF0dXM6IHRydWUNCiAgICB9DQogIH0sDQogIGNvbXBvbmVudHM6IHsNCiAgICBTaW5nZXJJdGVtLA0KICAgIGxvYWRNb3JlDQogIH0sDQogIHdhdGNoOiB7fSwNCiAgbWV0aG9kczogew0KICAgIC8vIOiOt+WPluetm+mAieWIl+ihqA0KICAgIGdldEVuKCkgew0KICAgICAgbGV0IGVucyA9IFtdDQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI2OyBpKyspIHsNCiAgICAgICAgZW5zLnB1c2goew0KICAgICAgICAgIHZhbHVlOiBTdHJpbmcuZnJvbUNoYXJDb2RlKDk3ICsgaSksDQogICAgICAgICAgbGFiZWw6IFN0cmluZy5mcm9tQ2hhckNvZGUoNjUgKyBpKQ0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgICAgZW5zLnVuc2hpZnQoew0KICAgICAgICB2YWx1ZTogLTEsDQogICAgICAgIGxhYmVsOiAn54Ot6ZeoJw0KICAgICAgfSkNCiAgICAgIGVucy5wdXNoKHsNCiAgICAgICAgdmFsdWU6IDAsDQogICAgICAgIGxhYmVsOiAn5YW25LuWJw0KICAgICAgfSkNCiAgICAgIHRoaXMuZW5zID0gZW5zDQogICAgfSwNCiAgICAvLyDpgInmi6nmrYzmiYvliIbnsbsNCiAgICBjaG9vc2VUeXBlKHR5cGUsIHZhbCkgew0KICAgICAgaWYgKHR5cGUgPT0gJ2xhbmcnKSB7DQogICAgICAgIHRoaXMubGFuZyA9IHZhbA0KICAgICAgICB0aGlzLnBhcmFtcy5hcmVhID0gdmFsDQogICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ2NsYXNzaWZ5Jykgew0KICAgICAgICB0aGlzLmNsYXNzaWZ5ID0gdmFsDQogICAgICAgIHRoaXMucGFyYW1zLnR5cGUgPSB2YWwNCiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnZW4nKSB7DQogICAgICAgIHRoaXMuZW4gPSB2YWwNCiAgICAgICAgdGhpcy5wYXJhbXMuaW5pdGlhbCA9IHZhbA0KICAgICAgfQ0KICAgICAgdGhpcy5wYXJhbXMub2Zmc2V0ID0gMA0KICAgICAgdGhpcy5sb2FkU3RhdHVzID0gdHJ1ZQ0KICAgICAgdGhpcy5zaW5nZXJzID0gW10NCiAgICAgIHRoaXMuZ2V0U2luZ2VyTGlzdCgpDQogICAgfSwNCiAgICAvLyDojrflj5bmrYzmiYvliJfooagNCiAgICBhc3luYyBnZXRTaW5nZXJMaXN0KCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgdGhpcy5sb2FkU3RhdHVzID0gZmFsc2UNCiAgICAgICAgbGV0IHJlcyA9IGF3YWl0IHRoaXMuJGFwaS5nZXRTaW5nZXJMaXN0KHRoaXMucGFyYW1zKQ0KICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgIHRoaXMuc2luZ2VycyA9IHRoaXMuc2luZ2Vycy5jb25jYXQocmVzLmFydGlzdHMpDQogICAgICAgICAgaWYgKHJlcy5tb3JlKSB7DQogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlDQogICAgICAgICAgICB0aGlzLmxvYWRTdGF0dXMgPSB0cnVlDQogICAgICAgICAgICB0aGlzLnBhcmFtcy5vZmZzZXQgKz0gMzANCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZXJyb3IpDQogICAgICB9DQogICAgfSwNCiAgICAvLyDliqDovb3mm7TlpJoNCiAgICBsb2FkKCkgew0KICAgICAgaWYgKHRoaXMubG9hZFN0YXR1cykgew0KICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICB0aGlzLmdldFNpbmdlckxpc3QoKQ0KICAgICAgICB9LCAxMDAwKQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHt9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuZ2V0RW4oKQ0KICAgIHRoaXMuZ2V0U2luZ2VyTGlzdCgpDQogIH0NCn0NCg=="},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/views/singer","sourcesContent":["<template>\r\n  <div class=\"singer-wrap container\">\r\n    <div class=\"filter\">\r\n      <ul class=\"tag-lang\">\r\n        <li\r\n          v-for=\"item of langs\"\r\n          :key=\"item.value\"\r\n          :class=\"lang == item.value ? 'active' : ''\"\r\n          @click=\"chooseType('lang', item.value)\"\r\n        >\r\n          {{ item.label }}\r\n        </li>\r\n      </ul>\r\n      <ul class=\"tag-lang tag-type\">\r\n        <li\r\n          v-for=\"item of classifys\"\r\n          :key=\"item.value\"\r\n          :class=\"classify == item.value ? 'active' : ''\"\r\n          @click=\"chooseType('classify', item.value)\"\r\n        >\r\n          {{ item.label }}\r\n        </li>\r\n      </ul>\r\n      <ul class=\"tag-en\">\r\n        <li\r\n          v-for=\"item of ens\"\r\n          :key=\"item.value\"\r\n          :class=\"en == item.value ? 'active' : ''\"\r\n          @click=\"chooseType('en', item.value)\"\r\n        >\r\n          {{ item.label }}\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <load-more @scroll-state=\"load\">\r\n      <ul class=\"singer-list\">\r\n        <singer-item v-for=\"item of singers\" :key=\"item.id\" :item=\"item\" />\r\n      </ul>\r\n    </load-more>\r\n    <div v-if=\"loading\" class=\"load-bottom\">\r\n      <nice-loading />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SingerItem from 'components/common/singerItem/Index'\r\nimport loadMore from 'components/common/loadMore/Index'\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 语种\r\n      lang: -1,\r\n      langs: [\r\n        {\r\n          value: -1,\r\n          label: '全部'\r\n        },\r\n        {\r\n          value: 7,\r\n          label: '华语'\r\n        },\r\n        {\r\n          value: 96,\r\n          label: '欧美'\r\n        },\r\n        {\r\n          value: 8,\r\n          label: '日本'\r\n        },\r\n        {\r\n          value: 16,\r\n          label: '韩国'\r\n        },\r\n        {\r\n          value: 0,\r\n          label: '其他'\r\n        }\r\n      ],\r\n      // 分类\r\n      classify: -1,\r\n      classifys: [\r\n        {\r\n          value: -1,\r\n          label: '全部'\r\n        },\r\n        {\r\n          value: 1,\r\n          label: '男歌手'\r\n        },\r\n        {\r\n          value: 2,\r\n          label: '女歌手'\r\n        },\r\n        {\r\n          value: 3,\r\n          label: '乐队'\r\n        }\r\n      ],\r\n      // 字母A_Z\r\n      en: -1,\r\n      ens: [],\r\n      // 请求参数\r\n      params: {\r\n        // 返回数量\r\n        limit: 40,\r\n        // 偏移数量\r\n        offset: 0,\r\n        // 分类\r\n        type: -1,\r\n        // 语种\r\n        area: -1,\r\n        // 字母A_Z\r\n        initial: -1\r\n      },\r\n      // 歌手列表\r\n      singers: [],\r\n      // 是否显示加载动画\r\n      loading: false,\r\n      // 是否还有数据\r\n      loadStatus: true\r\n    }\r\n  },\r\n  components: {\r\n    SingerItem,\r\n    loadMore\r\n  },\r\n  watch: {},\r\n  methods: {\r\n    // 获取筛选列表\r\n    getEn() {\r\n      let ens = []\r\n      for (let i = 0; i < 26; i++) {\r\n        ens.push({\r\n          value: String.fromCharCode(97 + i),\r\n          label: String.fromCharCode(65 + i)\r\n        })\r\n      }\r\n      ens.unshift({\r\n        value: -1,\r\n        label: '热门'\r\n      })\r\n      ens.push({\r\n        value: 0,\r\n        label: '其他'\r\n      })\r\n      this.ens = ens\r\n    },\r\n    // 选择歌手分类\r\n    chooseType(type, val) {\r\n      if (type == 'lang') {\r\n        this.lang = val\r\n        this.params.area = val\r\n      } else if (type == 'classify') {\r\n        this.classify = val\r\n        this.params.type = val\r\n      } else if (type == 'en') {\r\n        this.en = val\r\n        this.params.initial = val\r\n      }\r\n      this.params.offset = 0\r\n      this.loadStatus = true\r\n      this.singers = []\r\n      this.getSingerList()\r\n    },\r\n    // 获取歌手列表\r\n    async getSingerList() {\r\n      try {\r\n        this.loadStatus = false\r\n        let res = await this.$api.getSingerList(this.params)\r\n        if (res.code === 200) {\r\n          this.singers = this.singers.concat(res.artists)\r\n          if (res.more) {\r\n            this.loading = true\r\n            this.loadStatus = true\r\n            this.params.offset += 30\r\n          } else {\r\n            this.loading = false\r\n          }\r\n        }\r\n      } catch (error) {\r\n        this.$message.error(error)\r\n      }\r\n    },\r\n    // 加载更多\r\n    load() {\r\n      if (this.loadStatus) {\r\n        setTimeout(() => {\r\n          this.getSingerList()\r\n        }, 1000)\r\n      }\r\n    }\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    this.getEn()\r\n    this.getSingerList()\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n.singer-wrap {\r\n  // height: 100vh;\r\n  margin-top: -20px;\r\n  li {\r\n    &:hover {\r\n      color: $color-theme;\r\n      transition: all 0.4s;\r\n    }\r\n  }\r\n  .tag-en {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    margin-top: 10px;\r\n    li {\r\n      width: 28px;\r\n      height: 28px;\r\n      margin-right: 14px;\r\n      text-align: center;\r\n      line-height: 29px;\r\n      border-radius: 50%;\r\n      font-size: 13px;\r\n      color: #333333;\r\n      cursor: pointer;\r\n      &:first-child,\r\n      &.last-child {\r\n        width: 56px;\r\n        border-radius: 14px;\r\n      }\r\n      &.active {\r\n        background: $color-theme;\r\n        font-weight: 700;\r\n        color: #ffffff;\r\n      }\r\n      &:hover {\r\n        color: $color-theme;\r\n        transition: all 0.4s;\r\n      }\r\n    }\r\n  }\r\n  .tag-lang {\r\n    display: flex;\r\n    margin-top: 20px;\r\n    margin-bottom: 20px;\r\n    li {\r\n      width: 56px;\r\n      height: 28px;\r\n      line-height: 29px;\r\n      font-size: 13px;\r\n      text-align: center;\r\n      border-radius: 14px;\r\n      cursor: pointer;\r\n      margin-right: 6px;\r\n      &.active {\r\n        background: $color-theme;\r\n        font-weight: 700;\r\n        color: #ffffff;\r\n      }\r\n    }\r\n  }\r\n  .tag-type {\r\n    li {\r\n      width: auto;\r\n      padding: 0 15px;\r\n    }\r\n  }\r\n  .singer-list {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    margin-top: 30px;\r\n    margin: 30px -15px 0;\r\n  }\r\n}\r\n</style>\r\n"]}]}