{"remainingRequest":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zlw12\\Desktop\\store\\vue-music\\src\\components\\common\\songsheet\\songsheet-detail\\index.vue?vue&type=style&index=0&id=9a17f5c0&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\src\\components\\common\\songsheet\\songsheet-detail\\index.vue","mtime":1605286268202},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\sass-loader\\lib\\loader.js","mtime":1533139052000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouc29uZ3NoZWV0LWRldGFpbHsKICBAaW5jbHVkZSBtaW5IZWlnaHQ7CiAgcGFkZGluZzogMjBweCAwOwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7CiAgLmNvbnRhaW5lcnsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICAubGVmdHsKICAgICAgQGluY2x1ZGUgbGVmdDsKICAgICAgQGluY2x1ZGUgc2hhZG93OwogICAgICAudG9wewogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgLmNvdmVyewogICAgICAgICAgd2lkdGg6IDIwMHB4OwogICAgICAgICAgaGVpZ2h0OiAyMDBweDsKICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgICAgICAgIG1hcmdpbi1yaWdodDogMzBweDsKICAgICAgICAgIGZsZXgtc2hyaW5rOiAwOwogICAgICAgICAgaW1newogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC5pbmZvewogICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgIC50aXRsZXsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMTBweDsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAyNHB4OwogICAgICAgICAgICBmb250LXNpemU6IDI0cHg7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICB9CiAgICAgICAgICAudXNlcnsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDsKICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdzsKICAgICAgICAgICAgLmNvdmVyewogICAgICAgICAgICAgIHdpZHRoOiAzMHB4OwogICAgICAgICAgICAgIGhlaWdodDogMzBweDsKICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMTVweDsKICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgaW1newogICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAuaW5mb3sKICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDMwcHg7CiAgICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7CiAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICAgIC5uaWNrbmFtZXsKICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMzBweDsKICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgICAgICY6aG92ZXJ7CiAgICAgICAgICAgICAgICAgIGNvbG9yOiAkbWFpbkNvbG9yOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAuY3JlYXRlLXRpbWV7CiAgICAgICAgICAgICAgICBjb2xvcjogZ3JleTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIC50YWd7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIHNwYW57CiAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4OwogICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgICAgfQogICAgICAgICAgICBhewogICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMTVweDsKICAgICAgICAgICAgICBwYWRkaW5nOiA0cHggMTJweDsKICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxNXB4OwogICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgICBjb2xvcjogI2ZmZjsKICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAkbWFpbkNvbG9yOwogICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgLmRlc2N7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDE1cHg7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICAgIHdpZHRoOiAzMDBweDsKICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAxcyBlYXNlOwogICAgICAgICAgICBwewogICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjY7CiAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgICAgICAgICAgICBmbGV4OiAxOwogICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgICAgfQogICAgICAgICAgICAuYnRuewogICAgICAgICAgICAgIHdpZHRoOiA1MHB4OwogICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgICAgICBjb2xvcjogJG1haW5Db2xvcjsKICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgaXsKICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMXB4KSByb3RhdGUoOTBkZWcpOwogICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDFzIGVhc2U7CiAgICAgICAgICAgICAgICAmLmlzLWFjdGl2ZXsKICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDFweCkgcm90YXRlKC05MGRlZyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIC5jb250ZW50ewogICAgICAgIG1hcmdpbi10b3A6IDIwcHg7CiAgICAgICAgLnRvb2x7CiAgICAgICAgICBtYXJnaW46IDE1cHggMDsKICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsKICAgICAgICAgIC5pdGVtewogICAgICAgICAgICBtYXJnaW4tbGVmdDogMTVweDsKICAgICAgICAgICAgcGFkZGluZzogN3B4IDE1cHg7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZjJmMmYyOwogICAgICAgICAgICBjb2xvcjogIzMzMzsKICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIGl7CiAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiA1cHg7CiAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICB9CgogICAgICAgICAgICAmOmZpcnN0LWNoaWxkewogICAgICAgICAgICAgIGJhY2tncm91bmQ6ICRtYWluQ29sb3I7CiAgICAgICAgICAgICAgY29sb3I6ICNmZmY7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIC5yaWdodHsKICAgICBAaW5jbHVkZSByaWdodDsKICAgIH0KICB9Cn0KCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/common/songsheet/songsheet-detail","sourcesContent":["<template>\r\n  <div class=\"songsheet-detail shadow\">\r\n    <div class=\"container\">\r\n      <div class=\"left\">\r\n        <div class=\"top\">\r\n          <div class=\"cover\">\r\n            <img :src=\"playlist.coverImgUrl\">\r\n          </div>\r\n          <div class=\"info\">\r\n            <div class=\"title\">\r\n              <span>{{ playlist.name }}</span>\r\n            </div>\r\n            <div class=\"user\">\r\n              <div class=\"cover\">\r\n                <img :src=\"user.avatarUrl\">\r\n              </div>\r\n              <div class=\"info\">\r\n                <span class=\"nickname\">{{ user.nickname }}</span>\r\n                <span class=\"create-time\">{{ utils.getYear(playlist.createTime) }}创建</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"tag\" v-if=\"playlist.tag\">\r\n              <span>标签:</span>\r\n              <router-link \r\n                tag=\"a\" \r\n                :to=\"'/songsheet?cat=' + item\" \r\n                v-for=\"item in playlist.tags\" \r\n                :key=\"item\">\r\n                {{ item || '' }}\r\n              </router-link>\r\n            </div>\r\n            <div class=\"desc\">\r\n              <p ref=\"des\"></p>\r\n              <div class=\"btn\" @click=\"ellipsis\" v-if=\"des\">\r\n                <span v-show=\"show\">收起</span>\r\n                <span v-show=\"!show\">展开</span>\r\n                <i \r\n                  :class=\"show ? 'iconfont icon-right-arrow is-active' :\r\n                  'iconfont icon-right-arrow'\">\r\n                </i>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"content\">\r\n          <div class=\"tool\">\r\n            <div class=\"item\" @click=\"showPlayer\">\r\n              <i class=\"iconfont icon-nextbtn\"></i>\r\n              <span>播放全部</span>\r\n            </div>\r\n            <div class=\"item\">\r\n              <i class=\"iconfont icon-xinaixin3\"></i>\r\n              <span>收藏</span>\r\n            </div>\r\n          </div>\r\n          <song-list :songLists=\"songList\"/> \r\n        </div>\r\n      </div>\r\n      <div class=\"right\">\r\n        <user-like></user-like>\r\n        <related-playlist></related-playlist>\r\n        <comment-playlist></comment-playlist>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SongList from '../../song-list'\r\nimport UserLike from '../../user-like'\r\nimport RelatedPlaylist from '../../related-playlist'\r\nimport CommentPlaylist from '../../comment/comment-playlist'\r\nimport {mapGetters,mapActions,mapState} from 'vuex'\r\nexport default {\r\n  data(){\r\n    return{\r\n      playlist: {},\r\n      user: {},\r\n      songList: [],\r\n      des: '',\r\n      show: true,\r\n    }\r\n  },\r\n  components: {\r\n    SongList,\r\n    UserLike,\r\n    RelatedPlaylist,\r\n    CommentPlaylist,\r\n  },\r\n  computed: {\r\n    ...mapState(['audio']),\r\n    ...mapGetters(['getSongId','getCurrentSong']),\r\n  },\r\n  mounted(){\r\n    this.$nextTick( () => {\r\n      this.init();\r\n    })\r\n  },\r\n  destroyed(){\r\n    this.playlist = {};\r\n    this.user = {};\r\n  },\r\n  methods: {\r\n    ...mapActions(['currentSong','songsList']),\r\n\r\n    init(){\r\n      this.getSongSheetDetail();\r\n    },\r\n    \r\n    // 获取歌单详情信息\r\n    async getSongSheetDetail(){\r\n      let id = this.$route.query.id;\r\n      let str = '';\r\n      await this.$api.PlaylistDetail({id,})\r\n        .then(res => {\r\n          this.playlist = res.data.playlist;\r\n          this.user = res.data.playlist.creator;\r\n          this.des = res.data.playlist.description;\r\n          this.songList = res.data.playlist.trackIds;\r\n        })\r\n      this.ellipsis();\r\n      str = this.utils.MusicId(this.songList);\r\n      this.getSongDetail(str);\r\n    },\r\n\r\n\r\n    // 歌单详情介绍省略\r\n    ellipsis(){\r\n      if(this.des){\r\n        if(this.show){\r\n          this.$refs.des.innerHTML = this.des.substring(0,50) + '...';\r\n        }else{\r\n          this.$refs.des.innerHTML = this.des;\r\n        }\r\n        this.show = !this.show;\r\n      }\r\n    },\r\n\r\n    // 获取音乐详情\r\n    async getSongDetail(id){\r\n      await this.$api.SongDetail(id)\r\n        .then( res => {\r\n          this.songList = res.data.songs;\r\n        })\r\n    },\r\n\r\n    // 开启播放组件\r\n    showPlayer(){\r\n      let songList = this.utils.storeId(this.songList)\r\n      let index = 0;\r\n      let obj = {\r\n        id: this.songList[index].id,\r\n        alid: this.songList[index].al.id,\r\n        index,\r\n      }\r\n      this.getSongId(this.songList[index].id)\r\n      this.currentSong(obj)\r\n      this.songsList(songList);\r\n      this.audio.paused && this.audio.play();\r\n    },\r\n\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .songsheet-detail{\r\n    @include minHeight;\r\n    padding: 20px 0;\r\n    display: flex;\r\n    align-items: flex-start;\r\n    .container{\r\n      display: flex;\r\n      .left{\r\n        @include left;\r\n        @include shadow;\r\n        .top{\r\n          display: flex;\r\n          .cover{\r\n            width: 200px;\r\n            height: 200px;\r\n            border-radius: 8px;\r\n            margin-right: 30px;\r\n            flex-shrink: 0;\r\n            img{\r\n              width: 100%;\r\n              height: 100%;\r\n              border-radius: 8px;\r\n            }\r\n          }\r\n          .info{\r\n            display: flex;\r\n            flex-direction: column;\r\n            justify-content: center;\r\n            .title{\r\n              margin-bottom: 20px;\r\n              margin-top: 10px;\r\n              width: 100%;\r\n              line-height: 24px;\r\n              font-size: 24px;\r\n              font-weight: 700;\r\n              overflow: hidden;\r\n            }\r\n            .user{\r\n              display: flex;\r\n              margin-bottom: 15px;\r\n              flex-direction: row;\r\n              .cover{\r\n                width: 30px;\r\n                height: 30px;\r\n                border-radius: 50%;\r\n                position: relative;\r\n                margin-right: 15px;\r\n                cursor: pointer;\r\n                img{\r\n                  border-radius: 50%;\r\n                }\r\n              }\r\n              .info{\r\n                margin-right: 30px;\r\n                display: flex;\r\n                align-items: center;\r\n                flex-direction: row;\r\n                font-size: 14px;\r\n                .nickname{\r\n                  margin-right: 30px;\r\n                  cursor: pointer;\r\n                  &:hover{\r\n                    color: $mainColor;\r\n                  }\r\n                }\r\n                .create-time{\r\n                  color: grey;\r\n                }\r\n              }\r\n            }\r\n            .tag{\r\n              display: flex;\r\n              flex-direction: row;\r\n              align-items: center;\r\n              span{\r\n                margin-right: 20px;\r\n                font-size: 14px;\r\n              }\r\n              a{\r\n                margin-right: 15px;\r\n                padding: 4px 12px;\r\n                border-radius: 15px;\r\n                font-size: 12px;\r\n                color: #fff;\r\n                background: $mainColor;\r\n                cursor: pointer;\r\n              }\r\n            }\r\n            .desc{\r\n              margin-top: 15px;\r\n              display: flex;\r\n              flex-direction: column;\r\n              width: 300px;\r\n              overflow: hidden;\r\n              text-overflow: ellipsis;\r\n              transition: all 1s ease;\r\n              p{\r\n                line-height: 1.6;\r\n                font-weight: 400;\r\n                flex: 1;\r\n                font-size: 14px;\r\n              }\r\n              .btn{\r\n                width: 50px;\r\n                font-size: 14px;\r\n                color: $mainColor;\r\n                cursor: pointer;\r\n                i{\r\n                  display: inline-block;\r\n                  font-size: 16px;\r\n                  font-weight: 700;\r\n                  transform: translateY(1px) rotate(90deg);\r\n                  transition: all 1s ease;\r\n                  &.is-active{\r\n                    transform: translateY(1px) rotate(-90deg);\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        .content{\r\n          margin-top: 20px;\r\n          .tool{\r\n            margin: 15px 0;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: flex-end;\r\n            .item{\r\n              margin-left: 15px;\r\n              padding: 7px 15px;\r\n              display: flex;\r\n              align-items: center;\r\n              justify-content: center;\r\n              border-radius: 50px;\r\n              background: #f2f2f2;\r\n              color: #333;\r\n              font-size: 14px;\r\n              cursor: pointer;\r\n              i{\r\n                margin-right: 5px;\r\n                font-size: 12px;\r\n              }\r\n\r\n              &:first-child{\r\n                background: $mainColor;\r\n                color: #fff;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .right{\r\n       @include right;\r\n      }\r\n    }\r\n  }\r\n  \r\n</style>"]}]}