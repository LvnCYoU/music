{"remainingRequest":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\src\\components\\home\\recommend-music\\Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\src\\components\\home\\recommend-music\\Index.vue","mtime":1600536934778},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgc29uZ0xpc3QgZnJvbSAnY29tcG9uZW50cy9jb21tb24vc29uZ0xpc3QvSW5kZXgnDQppbXBvcnQgeyBjcmVhdGVTb25nIH0gZnJvbSAnQC9tb2RlbC9zb25nJw0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBzb25nczogW10NCiAgICB9DQogIH0sDQogIGNvbXBvbmVudHM6IHsNCiAgICBzb25nTGlzdA0KICB9LA0KICAvL+ebkeWQrOWxnuaApyDnsbvkvLzkuo5kYXRh5qaC5b+1DQogIGNvbXB1dGVkOiB7fSwNCiAgLy/nm5HmjqdkYXRh5Lit55qE5pWw5o2u5Y+Y5YyWDQogIHdhdGNoOiB7fSwNCiAgLy/mlrnms5Xpm4blkIgNCiAgbWV0aG9kczogew0KICAgIC8vIOiOt+WPluaOqOiNkOaWsOmfs+S5kA0KICAgIGFzeW5jIGdldE5ld1NvbmdzKCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgbGV0IHJlcyA9IGF3YWl0IHRoaXMuJGFwaS5nZXROZXdTb25ncygpDQogICAgICAgIGxldCBsaXN0ID0gW10NCiAgICAgICAgaWYocmVzLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgIHJlcy5yZXN1bHQubWFwKGl0ZW0gPT4gew0KICAgICAgICAgICAgbGlzdC5wdXNoKGl0ZW0uaWQpDQogICAgICAgICAgfSkNCiAgICAgICAgICB0aGlzLmdldFNvbmdEZXRhaWwobGlzdCkNCiAgICAgICAgfQ0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpDQogICAgICB9DQogICAgfSwNCiAgICAvLyDojrflj5bmrYzmm7LliJfooagNCiAgICBhc3luYyBnZXRTb25nRGV0YWlsKHNsaWNlQXJyKSB7DQogICAgICBsZXQgdGltZXN0YW1wID0gbmV3IERhdGUoKS52YWx1ZU9mKCkNCiAgICAgIHNsaWNlQXJyID0gc2xpY2VBcnIuam9pbignLCcpDQogICAgICB0cnkgew0KICAgICAgICBsZXQgcmVzID0gYXdhaXQgdGhpcy4kYXBpLmdldFNvbmdEZXRhaWwoc2xpY2VBcnIsIHRpbWVzdGFtcCkNCiAgICAgICAgdGhpcy5zb25ncyA9IHRoaXMuX25vcm1hbGl6ZVNvbmdzKHJlcy5zb25ncykNCiAgICAgICAgY29uc29sZS5sb2codGhpcy5zb25ncykNCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICB9DQogICAgfSwNCiAgICAvLyDlpITnkIbmrYzmm7INCiAgICBfbm9ybWFsaXplU29uZ3MobGlzdCkgew0KICAgICAgbGV0IHJldCA9IFtdDQogICAgICBsaXN0Lm1hcChpdGVtID0+IHsNCiAgICAgICAgaWYgKGl0ZW0uaWQpIHsNCiAgICAgICAgICByZXQucHVzaChjcmVhdGVTb25nKGl0ZW0pKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgcmV0dXJuIHJldA0KICAgIH0NCiAgfSwNCiAgLy/nlJ/lkb3lkajmnJ8gLSDliJvlu7rlrozmiJDvvIjlj6/ku6Xorr/pl67lvZPliY10aGlz5a6e5L6L77yJDQogIGNyZWF0ZWQoKSB7fSwNCiAgLy/nlJ/lkb3lkajmnJ8gLSDmjILovb3lrozmiJDvvIjlj6/ku6Xorr/pl65ET03lhYPntKDvvIkNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmdldE5ld1NvbmdzKCkNCiAgfQ0KfQ0K"},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/components/home/recommend-music","sourcesContent":["<template>\r\n  <div class=\"recommend-music\">\r\n    <h2 class=\"title\">推荐新歌曲</h2>\r\n    <song-list :songList=\"songs\"></song-list>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport songList from 'components/common/songList/Index'\r\nimport { createSong } from '@/model/song'\r\nexport default {\r\n  data() {\r\n    return {\r\n      songs: []\r\n    }\r\n  },\r\n  components: {\r\n    songList\r\n  },\r\n  //监听属性 类似于data概念\r\n  computed: {},\r\n  //监控data中的数据变化\r\n  watch: {},\r\n  //方法集合\r\n  methods: {\r\n    // 获取推荐新音乐\r\n    async getNewSongs() {\r\n      try {\r\n        let res = await this.$api.getNewSongs()\r\n        let list = []\r\n        if(res.code === 200) {\r\n          res.result.map(item => {\r\n            list.push(item.id)\r\n          })\r\n          this.getSongDetail(list)\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    // 获取歌曲列表\r\n    async getSongDetail(sliceArr) {\r\n      let timestamp = new Date().valueOf()\r\n      sliceArr = sliceArr.join(',')\r\n      try {\r\n        let res = await this.$api.getSongDetail(sliceArr, timestamp)\r\n        this.songs = this._normalizeSongs(res.songs)\r\n        console.log(this.songs)\r\n      } catch (error) {\r\n      }\r\n    },\r\n    // 处理歌曲\r\n    _normalizeSongs(list) {\r\n      let ret = []\r\n      list.map(item => {\r\n        if (item.id) {\r\n          ret.push(createSong(item))\r\n        }\r\n      })\r\n      return ret\r\n    }\r\n  },\r\n  //生命周期 - 创建完成（可以访问当前this实例）\r\n  created() {},\r\n  //生命周期 - 挂载完成（可以访问DOM元素）\r\n  mounted() {\r\n    this.getNewSongs()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.recommend-music {\r\n  .title {\r\n    margin: 0 0 15px 0;\r\n  }\r\n}\r\n</style>\r\n"]}]}