{"remainingRequest":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\src\\views\\singer\\detail\\Index.vue?vue&type=style&index=0&id=1ae3637d&lang=stylus&scoped=true&","dependencies":[{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\src\\views\\singer\\detail\\Index.vue","mtime":1600536934838},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\stylus-loader\\index.js","mtime":1519606876000},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouYXZhdGFyID4+PiBpbWcgew0KICBib3JkZXItcmFkaXVzOiA1cHg7DQp9DQouc2luZ2VyLWRldGFpbCB7DQogIG1hcmdpbi10b3A6IC0yMHB4Ow0KICAuc2luZ2VyLWluZm8gew0KICAgIC50b3Agew0KICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgICAgd2lkdGg6IDEwMCU7DQogICAgICBoZWlnaHQ6IDU4MHB4Ow0KICAgICAgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uL2Fzc2V0cy9pbWFnZXMvdG9wLWJnLmpwZyk7DQogICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7DQogICAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0Ow0KICAgICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsNCiAgICAgIC50b3AtbWFzayB7DQogICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICBoZWlnaHQ6IDEwMCU7DQogICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC42KTsNCiAgICAgICAgLnNpbmdlci1ib3ggew0KICAgICAgICAgIGhlaWdodDogMTAwJTsNCiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgICAgICAgbWFyZ2luOiAwIGF1dG87DQogICAgICAgICAgcGFkZGluZy10b3A6IDEwcHg7DQogICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICAgIHotaW5kZXg6IDI7DQogICAgICAgICAgLmF2YXRhciB7DQogICAgICAgICAgICB3aWR0aDogMTIwcHg7DQogICAgICAgICAgICBoZWlnaHQgMTIwcHg7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7DQogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgICAgICAgICAgLmxldmVsIHsNCiAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgICAgICAgIGhlaWdodDogMjVweDsNCiAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgICAgICAgICBsZWZ0OiAwOw0KICAgICAgICAgICAgICByaWdodDogMDsNCiAgICAgICAgICAgICAgYm90dG9tOiAwOw0KICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCk7DQogICAgICAgICAgICAgIC5pY29uLWxldmVsIHsNCiAgICAgICAgICAgICAgICBmb250LXNpemU6IDI1cHg7DQogICAgICAgICAgICAgICAgY29sb3I6ICRjb2xvci10aGVtZTsNCiAgICAgICAgICAgICAgICBtYXJnaW4tbGVmdDogOHB4Ow0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpbWcgew0KICAgICAgICAgICAgICB3aWR0aDogMTIwcHg7DQogICAgICAgICAgICAgIGhlaWdodCAxMjBweDsNCiAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlOw0KICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmOw0KICAgICAgICAgICAgICBib3JkZXI6IDNweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAmOmhvdmVyIHsNCiAgICAgICAgICAgICAgYm94LXNoYWRvdzogMHB4IDVweCAyMHB4IDBweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICAgIC5uaWNrbmFtZSB7DQogICAgICAgICAgICBtYXJnaW4tdG9wOiAyMHB4Ow0KICAgICAgICAgICAgZm9udC1zaXplOiAyNHB4Ow0KICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDsNCiAgICAgICAgICAgIGNvbG9yOiAjZmZmOw0KICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDI0cHg7DQogICAgICAgICAgICBpIHsNCiAgICAgICAgICAgICAgZm9udC1zaXplOiAyMHB4Ow0KICAgICAgICAgICAgICAmLm1hbiB7DQogICAgICAgICAgICAgICAgY29sb3I6ICMxZjkxZjI7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgJi53b21hbiB7DQogICAgICAgICAgICAgICAgY29sb3I6ICNmYzcyNjU7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgICAgLmZvbGxvdyB7DQogICAgICAgICAgICBtYXJnaW46IDI0cHggMCAzMHB4Ow0KICAgICAgICAgICAgcGFkZGluZzogMDsNCiAgICAgICAgICAgIGhlaWdodDogMzZweDsNCiAgICAgICAgICAgIHdpZHRoOiA5NnB4Ow0KICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4Ow0KICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDM2cHg7DQogICAgICAgICAgICBjb2xvcjogI2ZmZjsNCiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC42KTsNCiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDE4cHg7DQogICAgICAgICAgICAmOmhvdmVyIHsNCiAgICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpOw0KICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZmZmOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaSB7DQogICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogNXB4Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICAuZGVzYyB7DQogICAgICAgICAgICBtYXJnaW46IDAgYXV0byAyNHB4Ow0KICAgICAgICAgICAgd2lkdGg6IDc0MHB4Ow0KICAgICAgICAgICAgaGVpZ2h0OiA0OHB4Ow0KICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4Ow0KICAgICAgICAgICAgY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsLjYpOw0KICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDI0cHg7DQogICAgICAgICAgfQ0KICAgICAgICAgIC5pbmZvIHsNCiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvOw0KICAgICAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgICAgICBsaSB7DQogICAgICAgICAgICAgIG1hcmdpbjogMCA1MHB4Ow0KICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICAgICAgICAgIC5udW0gew0KICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDhweDsNCiAgICAgICAgICAgICAgICBmb250LXNpemU6IDI0cHg7DQogICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDI0cHg7DQogICAgICAgICAgICAgICAgY29sb3I6ICNmZmY7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgLnRleHQgew0KICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMTRweDsNCiAgICAgICAgICAgICAgICBjb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjYpOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgICAuYm90dG9tLXRyYW5nbGUgew0KICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICAgIGJvdHRvbTogMDsNCiAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgIGhlaWdodDogMTM3cHg7DQogICAgICAgIGJhY2tncm91bmQ6IHVybCguLi8uLi8uLi9hc3NldHMvaW1hZ2VzL2Fycm93LWxyLnBuZyk7DQogICAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjsNCiAgICAgICAgei1pbmRleDogMTsNCiAgICAgIH0NCiAgICB9DQogICAgLmJvdHRvbSB7DQogICAgICAubmF2IHsNCiAgICAgICAgbWFyZ2luOiAzMHB4IDA7DQogICAgICAgIGxpIHsNCiAgICAgICAgICBtYXJnaW46IDAgMjBweDsNCiAgICAgICAgICBmb250LXNpemU6IDE0cHg7DQogICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgICYuYWN0aXZlIHsNCiAgICAgICAgICAgIGNvbG9yOiAkY29sb3ItdGhlbWU7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgICAuY29udGVudCB7DQogICAgICAgIGJhY2tncm91bmQ6ICNmZmY7DQogICAgICAgIC5pbmZvLWJveCB7DQogICAgICAgICAgcGFkZGluZzogMTVweDsNCiAgICAgICAgICAudGl0bGUgew0KICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDsNCiAgICAgICAgICAgICY6OmFmdGVyIHsNCiAgICAgICAgICAgICAgY29udGVudDogJyc7DQogICAgICAgICAgICAgIHdpZHRoOiA0MHB4Ow0KICAgICAgICAgICAgICBoZWlnaHQ6IDJweDsNCiAgICAgICAgICAgICAgYmFja2dyb3VuZDogJGNvbG9yLXRoZW1lOw0KICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICAgICAgICAgIGxlZnQ6IDUwJTsNCiAgICAgICAgICAgICAgYm90dG9tOiAtMTBweDsNCiAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IC0yMHB4Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICAucHJvZmlsZSB7DQogICAgICAgICAgICBsaW5lLWhlaWdodDogMS43Ow0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsNCiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgICAgICB9DQogICAgICAgICAgLmludHJvZHVjdGlvbiB7DQogICAgICAgICAgICAuaXRlbSB7DQogICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7DQogICAgICAgICAgICAgIC5zdWItdGl0bGUgew0KICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgcCB7DQogICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIC5zaW1pLWJveCB7DQogICAgICAgICAgcGFkZGluZzogMTVweCAxNXB4Ow0KICAgICAgICAgIC5zaW5nZXItbGlzdCB7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgZmxleC13cmFwOiB3cmFwOw0KICAgICAgICAgICAgbWFyZ2luLXRvcDogMzBweDsNCiAgICAgICAgICAgIG1hcmdpbjogMHB4IC0xNXB4IDA7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/views/singer/detail","sourcesContent":["<template>\r\n  <div class=\"singer-detail\">\r\n    <div class=\"singer-info\">\r\n      <div class=\"top\">\r\n        <div class=\"top-mask\">\r\n          <div class=\"singer-box flex-column flex-center\">\r\n            <div class=\"avatar transition\">\r\n              <img :src=\"detail.img1v1Url + '?param=200y200'\" />\r\n              <div class=\"level flex-center transition\" v-show=\"level\">\r\n                <i class=\"iconfont icon-level\" :class=\"level\"></i>\r\n              </div>\r\n            </div>\r\n            <p class=\"nickname\">\r\n              {{ detail.name }}\r\n              <i class=\"iconfont\" :class=\"gender\"></i>\r\n            </p>\r\n            <div class=\"follow flex-center transition\">\r\n              <i class=\"iconfont niceIcon_add\"></i>\r\n              关注TA\r\n            </div>\r\n            <div class=\"desc ellipsis-two\" v-html=\"detail.briefDesc\"></div>\r\n            <ul class=\"info flex-center\">\r\n              <li>\r\n                <p class=\"num\">{{ detail.musicSize }}</p>\r\n                <p class=\"text\">单曲数</p>\r\n              </li>\r\n              <li>\r\n                <p class=\"num\">{{ detail.albumSize }}</p>\r\n                <p class=\"text\">专辑数</p>\r\n              </li>\r\n              <li>\r\n                <p class=\"num\">{{ detail.mvSize }}</p>\r\n                <p class=\"text\">MV数</p>\r\n              </li>\r\n              <li v-show=\"detail.followeds\">\r\n                <p class=\"num\">{{ detail.followeds }}</p>\r\n                <p class=\"text\">粉丝</p>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <div class=\"bottom-trangle\"></div>\r\n      </div>\r\n      <div class=\"bottom container\">\r\n        <ul class=\"nav flex-center\">\r\n          <li\r\n            v-for=\"item of navList\"\r\n            :key=\"item.id\"\r\n            :class=\"active == item.id ? 'active' : ''\"\r\n            @click=\"tabItem(item.id)\"\r\n          >\r\n            {{ item.name }}\r\n          </li>\r\n        </ul>\r\n        <div class=\"content\">\r\n          <artist-list :songs=\"songs\" :isPerson=\"isPerson\" v-if=\"active == 1\" />\r\n          <album-list :albums=\"albums\" v-if=\"active == 2\" />\r\n          <mv-list :mvs=\"mvs\" type=\"mv\" v-if=\"active == 3\" />\r\n          <div class=\"info-box\" v-if=\"active == 4\">\r\n            <h2 class=\"title\">{{ detail.name }}简介</h2>\r\n            <div class=\"profile\" v-html=\"singerDesc.briefDesc\"></div>\r\n            <div class=\"introduction\">\r\n              <div\r\n                class=\"item\"\r\n                v-for=\"item of singerDesc.introduction\"\r\n                :key=\"item.ti\"\r\n              >\r\n                <h3 class=\"sub-title\">{{ item.ti }}</h3>\r\n                <p v-html=\"item.txt\"></p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"simi-box\" v-if=\"active == 5\">\r\n            <ul class=\"singer-list\" v-if=\"singers.length > 0\">\r\n              <singer-item\r\n                v-for=\"item of singers\"\r\n                :key=\"item.id\"\r\n                :item=\"item\"\r\n              />\r\n            </ul>\r\n            <nice-empty v-else></nice-empty>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\nimport { createSong } from '@/model/song'\r\nimport { createVideo } from '@/model/video'\r\nimport ArtistList from 'components/common/artistList/Index'\r\nimport AlbumList from 'components/common/albumList/Index'\r\nimport MvList from 'components/common/mvList/Index'\r\nimport SingerItem from 'components/common/singerItem/Index'\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 歌手基本信息\r\n      singerDetail: {},\r\n      // 歌手用户信息\r\n      userDetail: {},\r\n      // 歌手简介\r\n      singerDesc: {},\r\n      // 热门单曲\r\n      songs: [],\r\n      // 专辑\r\n      albums: [],\r\n      // 相似歌手\r\n      singers: [],\r\n      // 歌手MV\r\n      mvs: [],\r\n      // 歌手id\r\n      singerId: '',\r\n      // 模块\r\n      navList: [\r\n        {\r\n          name: '作品',\r\n          id: 1\r\n        },\r\n        {\r\n          name: '专辑',\r\n          id: 2\r\n        },\r\n        {\r\n          name: 'MV',\r\n          id: 3\r\n        },\r\n        {\r\n          name: '歌手详情',\r\n          id: 4\r\n        },\r\n        {\r\n          name: '相似歌手',\r\n          id: 5\r\n        }\r\n      ],\r\n      // 当前显示模块\r\n      active: 1,\r\n      // 分页显示条数\r\n      limit: 20,\r\n      // 分页偏移\r\n      offset: 0,\r\n      isPerson: true\r\n    }\r\n  },\r\n  components: {\r\n    ArtistList,\r\n    AlbumList,\r\n    MvList,\r\n    SingerItem\r\n  },\r\n  computed: {\r\n    ...mapGetters(['singer']),\r\n    // 合并歌手详情\r\n    detail() {\r\n      return Object.assign(this.singerDetail, this.userDetail)\r\n    },\r\n    // 设置歌手性别\r\n    gender() {\r\n      if (this.detail.gender > 0) {\r\n        return this.detail.gender === 1\r\n          ? 'niceCRM_icon_nanxing man'\r\n          : 'niceCRM_icon_nvxing woman'\r\n      } else {\r\n        return ''\r\n      }\r\n    },\r\n    // 设置歌手等级\r\n    level() {\r\n      if (this.detail.level > 0) {\r\n        return 'nicelevel-' + this.detail.level\r\n      } else {\r\n        return ''\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    $route() {\r\n      let id = this.$route.query.id || this.singer.id\r\n      if (id) {\r\n        this._initialize(id)\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 切换歌手信息\r\n    tabItem(id) {\r\n      this.active = id\r\n    },\r\n    // 获取歌手基本信息和热门50首单曲\r\n    async getArtists(id) {\r\n      try {\r\n        let res = await this.$api.getArtists(id)\r\n        if (res.code === 200) {\r\n          this.singerDetail = res.artist\r\n          this.getUserDetail(res.artist.accountId)\r\n        }\r\n        this.songs = this._normalizeSongs(res.hotSongs)\r\n        this.getArtistAlbum(id)\r\n        this.getArtistMv(id)\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    // 获取(歌手)用户信息\r\n    async getUserDetail(uid) {\r\n      let detail = {}\r\n      try {\r\n        let res = await this.$api.getUserDetail(uid)\r\n        let profile = res.profile\r\n        if (res.code === 200) {\r\n          detail.level = res.level\r\n          detail.followeds = profile.followeds\r\n          detail.gender = profile.gender\r\n          this.userDetail = detail\r\n        }\r\n      } catch (error) {\r\n        detail.level = ''\r\n        detail.followeds = ''\r\n        detail.gender = ''\r\n        this.userDetail = detail\r\n      }\r\n    },\r\n    // 获取歌手专辑\r\n    async getArtistAlbum(id) {\r\n      let params = {\r\n        id: this.singerId || id,\r\n        limit: this.detail.albumSize,\r\n        offset: this.offset\r\n      }\r\n      try {\r\n        let res = await this.$api.getArtistAlbum(params)\r\n        if (res.code === 200) {\r\n          this.albums = res.hotAlbums\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    // 获取歌手MV\r\n    async getArtistMv(id) {\r\n      let params = {\r\n        id: this.singerId || id,\r\n        limit: this.detail.mvSize,\r\n        offset: this.offset\r\n      }\r\n      try {\r\n        let res = await this.$api.getArtistMv(params)\r\n        if (res.code === 200) {\r\n          this.mvs = this._normalizeVideos(res.mvs)\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    // 获取歌手简介\r\n    async getArtistDesc(id) {\r\n      try {\r\n        let res = await this.$api.getArtistDesc(id)\r\n        if (res.code === 200) {\r\n          if (res.introduction.length > 0) {\r\n            res.introduction.map(item => {\r\n              item.txt = item.txt.replace(/(\\r\\n|\\n|\\r)/gm, '<br />')\r\n            })\r\n          }\r\n          this.singerDesc = res\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    // 获取相似歌手\r\n    async getArtistSimi(id) {\r\n      try {\r\n        let res = await this.$api.getArtistSimi(id)\r\n        if (res.code === 200) {\r\n          this.singers = res.artists\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    // 处理歌曲\r\n    _normalizeSongs(list) {\r\n      let ret = []\r\n      list.map(item => {\r\n        if (item.id) {\r\n          ret.push(createSong(item))\r\n        }\r\n      })\r\n      return ret\r\n    },\r\n    // 处理视频\r\n    _normalizeVideos(list) {\r\n      let ret = []\r\n      list.map(item => {\r\n        if (item.id) {\r\n          ret.push(\r\n            createVideo({\r\n              id: item.id,\r\n              nickName: item.artistName,\r\n              name: item.name,\r\n              playCount: item.playCount,\r\n              duration: item.duration,\r\n              image: item.imgurl16v9\r\n            })\r\n          )\r\n        }\r\n      })\r\n      return ret\r\n    },\r\n    //初始化\r\n    _initialize(id) {\r\n      this.active = 1\r\n      this.albumOffset = 0\r\n      this.mvOffset = 0\r\n      this.albums = []\r\n      this.mvs = []\r\n      this.singerId = Number(id)\r\n      this.getArtists(id)\r\n      this.getUserDetail(id)\r\n      this.getArtistDesc(id)\r\n      this.getArtistSimi(id)\r\n    }\r\n  },\r\n  created() {\r\n    let id = this.$route.query.id || this.singer.id\r\n    if (id) {\r\n      this._initialize(id)\r\n    }\r\n  },\r\n  mounted() {}\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n.avatar >>> img {\r\n  border-radius: 5px;\r\n}\r\n.singer-detail {\r\n  margin-top: -20px;\r\n  .singer-info {\r\n    .top {\r\n      position: relative;\r\n      width: 100%;\r\n      height: 580px;\r\n      background: url(../../../assets/images/top-bg.jpg);\r\n      background-position: center;\r\n      background-repeat: no-repeat;\r\n      background-size: cover;\r\n      .top-mask {\r\n        width: 100%;\r\n        height: 100%;\r\n        background: rgba(0, 0, 0, 0.6);\r\n        .singer-box {\r\n          height: 100%;\r\n          position: relative;\r\n          margin: 0 auto;\r\n          padding-top: 10px;\r\n          text-align: center;\r\n          z-index: 2;\r\n          .avatar {\r\n            width: 120px;\r\n            height 120px;\r\n            border-radius: 50%;\r\n            position: relative;\r\n            overflow: hidden;\r\n            .level {\r\n              width: 100%;\r\n              height: 25px;\r\n              position: absolute;\r\n              left: 0;\r\n              right: 0;\r\n              bottom: 0;\r\n              background: rgba(255, 255, 255, 0.8);\r\n              .icon-level {\r\n                font-size: 25px;\r\n                color: $color-theme;\r\n                margin-left: 8px;\r\n              }\r\n            }\r\n            img {\r\n              width: 120px;\r\n              height 120px;\r\n              border-radius: 50%;\r\n              background: #fff;\r\n              border: 3px solid rgba(255, 255, 255, 0.6);\r\n            }\r\n            &:hover {\r\n              box-shadow: 0px 5px 20px 0px rgba(255, 255, 255, 0.8);\r\n            }\r\n          }\r\n          .nickname {\r\n            margin-top: 20px;\r\n            font-size: 24px;\r\n            font-weight: 700;\r\n            color: #fff;\r\n            line-height: 24px;\r\n            i {\r\n              font-size: 20px;\r\n              &.man {\r\n                color: #1f91f2;\r\n              }\r\n              &.woman {\r\n                color: #fc7265;\r\n              }\r\n            }\r\n          }\r\n          .follow {\r\n            margin: 24px 0 30px;\r\n            padding: 0;\r\n            height: 36px;\r\n            width: 96px;\r\n            font-size: 12px;\r\n            line-height: 36px;\r\n            color: #fff;\r\n            border: 1px solid rgba(255, 255, 255, 0.6);\r\n            cursor: pointer;\r\n            border-radius: 18px;\r\n            &:hover {\r\n              background: rgba(255, 255, 255, 0.1);\r\n              border: 1px solid #fff;\r\n            }\r\n            i {\r\n              margin-right: 5px;\r\n            }\r\n          }\r\n          .desc {\r\n            margin: 0 auto 24px;\r\n            width: 740px;\r\n            height: 48px;\r\n            font-size: 14px;\r\n            color: rgba(255,255,255,.6);\r\n            line-height: 24px;\r\n          }\r\n          .info {\r\n            margin: 0 auto;\r\n            width: 100%;\r\n            li {\r\n              margin: 0 50px;\r\n              text-align: center;\r\n              .num {\r\n                margin-bottom: 8px;\r\n                font-size: 24px;\r\n                line-height: 24px;\r\n                color: #fff;\r\n              }\r\n              .text {\r\n                font-size: 14px;\r\n                line-height: 14px;\r\n                color: rgba(255, 255, 255, 0.6);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .bottom-trangle {\r\n        position: absolute;\r\n        bottom: 0;\r\n        width: 100%;\r\n        height: 137px;\r\n        background: url(../../../assets/images/arrow-lr.png);\r\n        background-position: center;\r\n        z-index: 1;\r\n      }\r\n    }\r\n    .bottom {\r\n      .nav {\r\n        margin: 30px 0;\r\n        li {\r\n          margin: 0 20px;\r\n          font-size: 14px;\r\n          font-weight: bold;\r\n          cursor: pointer;\r\n          &.active {\r\n            color: $color-theme;\r\n          }\r\n        }\r\n      }\r\n      .content {\r\n        background: #fff;\r\n        .info-box {\r\n          padding: 15px;\r\n          .title {\r\n            text-align: center;\r\n            position: relative;\r\n            margin-bottom: 30px;\r\n            &::after {\r\n              content: '';\r\n              width: 40px;\r\n              height: 2px;\r\n              background: $color-theme;\r\n              position: absolute;\r\n              left: 50%;\r\n              bottom: -10px;\r\n              margin-left: -20px;\r\n            }\r\n          }\r\n          .profile {\r\n            line-height: 1.7;\r\n            margin-bottom: 20px;\r\n            text-align: center;\r\n          }\r\n          .introduction {\r\n            .item {\r\n              margin-bottom: 15px;\r\n              .sub-title {\r\n                margin-bottom: 10px;\r\n              }\r\n              p {\r\n                line-height: 1.7\r\n              }\r\n            }\r\n          }\r\n        }\r\n        .simi-box {\r\n          padding: 15px 15px;\r\n          .singer-list {\r\n            display: flex;\r\n            flex-wrap: wrap;\r\n            margin-top: 30px;\r\n            margin: 0px -15px 0;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}