{"remainingRequest":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\src\\components\\common\\scroll\\Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\src\\components\\common\\scroll\\Index.vue","mtime":1600536934763},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQlNjcm9sbCBmcm9tICdiZXR0ZXItc2Nyb2xsJw0KDQpjb25zdCBESVJFQ1RJT05fSCA9ICdob3Jpem9udGFsJw0KY29uc3QgRElSRUNUSU9OX1YgPSAndmVydGljYWwnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgcHJvcHM6IHsNCiAgICBwcm9iZVR5cGU6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDENCiAgICB9LA0KICAgIGNsaWNrOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UNCiAgICB9LA0KICAgIGxpc3RlblNjcm9sbDogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlDQogICAgfSwNCiAgICBkYXRhOiB7DQogICAgICB0eXBlOiBBcnJheSwNCiAgICAgIGRlZmF1bHQ6IG51bGwNCiAgICB9LA0KICAgIHB1bGx1cDogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlDQogICAgfSwNCiAgICBiZWZvcmVTY3JvbGw6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgIH0sDQogICAgcmVmcmVzaERlbGF5OiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAyMA0KICAgIH0sDQogICAgZGlyZWN0aW9uOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiBESVJFQ1RJT05fVg0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgIHRoaXMuX2luaXRTY3JvbGwoKQ0KICAgIH0sIDIwKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgX2luaXRTY3JvbGwoKSB7DQogICAgICBpZiAoIXRoaXMuJHJlZnMud3JhcHBlcikgew0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICAgIHRoaXMuc2Nyb2xsID0gbmV3IEJTY3JvbGwodGhpcy4kcmVmcy53cmFwcGVyLCB7DQogICAgICAgIHByb2JlVHlwZTogdGhpcy5wcm9iZVR5cGUsDQogICAgICAgIGNsaWNrOiB0aGlzLmNsaWNrLA0KICAgICAgICBtb3VzZVdoZWVsOiB0cnVlLA0KICAgICAgICBldmVudFBhc3N0aHJvdWdoOiB0aGlzLmRpcmVjdGlvbiA9PT0gRElSRUNUSU9OX1YgPyBESVJFQ1RJT05fSCA6IERJUkVDVElPTl9WDQogICAgICB9KQ0KDQogICAgICBpZiAodGhpcy5saXN0ZW5TY3JvbGwpIHsNCiAgICAgICAgdGhpcy5zY3JvbGwub24oJ3Njcm9sbCcsIChwb3MpID0+IHsNCiAgICAgICAgICB0aGlzLiRlbWl0KCdzY3JvbGwnLCBwb3MpDQogICAgICAgIH0pDQogICAgICB9DQoNCiAgICAgIGlmICh0aGlzLnB1bGx1cCkgew0KICAgICAgICB0aGlzLnNjcm9sbC5vbignc2Nyb2xsRW5kJywgKCkgPT4gew0KICAgICAgICAgIGlmICh0aGlzLnNjcm9sbC55IDw9ICh0aGlzLnNjcm9sbC5tYXhTY3JvbGxZICsgNTApKSB7DQogICAgICAgICAgICB0aGlzLiRlbWl0KCdzY3JvbGxUb0VuZCcpDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgfQ0KDQogICAgICBpZiAodGhpcy5iZWZvcmVTY3JvbGwpIHsNCiAgICAgICAgdGhpcy5zY3JvbGwub24oJ2JlZm9yZVNjcm9sbFN0YXJ0JywgKCkgPT4gew0KICAgICAgICAgIHRoaXMuJGVtaXQoJ2JlZm9yZVNjcm9sbCcpDQogICAgICAgIH0pDQogICAgICB9DQogICAgfSwNCiAgICBkaXNhYmxlKCkgew0KICAgICAgdGhpcy5zY3JvbGwgJiYgdGhpcy5zY3JvbGwuZGlzYWJsZSgpDQogICAgfSwNCiAgICBlbmFibGUoKSB7DQogICAgICB0aGlzLnNjcm9sbCAmJiB0aGlzLnNjcm9sbC5lbmFibGUoKQ0KICAgIH0sDQogICAgcmVmcmVzaCgpIHsNCiAgICAgIHRoaXMuc2Nyb2xsICYmIHRoaXMuc2Nyb2xsLnJlZnJlc2goKQ0KICAgIH0sDQogICAgc2Nyb2xsVG8oKSB7DQogICAgICB0aGlzLnNjcm9sbCAmJiB0aGlzLnNjcm9sbC5zY3JvbGxUby5hcHBseSh0aGlzLnNjcm9sbCwgYXJndW1lbnRzKQ0KICAgIH0sDQogICAgc2Nyb2xsVG9FbGVtZW50KCkgew0KICAgICAgdGhpcy5zY3JvbGwgJiYgdGhpcy5zY3JvbGwuc2Nyb2xsVG9FbGVtZW50LmFwcGx5KHRoaXMuc2Nyb2xsLCBhcmd1bWVudHMpDQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICAgIGRhdGEoKSB7DQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgdGhpcy5yZWZyZXNoKCkNCiAgICAgIH0sIHRoaXMucmVmcmVzaERlbGF5KQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;AAOA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/components/common/scroll","sourcesContent":["<template>\r\n  <div ref=\"wrapper\">\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nimport BScroll from 'better-scroll'\r\n\r\nconst DIRECTION_H = 'horizontal'\r\nconst DIRECTION_V = 'vertical'\r\n\r\nexport default {\r\n  props: {\r\n    probeType: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    click: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    listenScroll: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    data: {\r\n      type: Array,\r\n      default: null\r\n    },\r\n    pullup: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    beforeScroll: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    refreshDelay: {\r\n      type: Number,\r\n      default: 20\r\n    },\r\n    direction: {\r\n      type: String,\r\n      default: DIRECTION_V\r\n    }\r\n  },\r\n  mounted() {\r\n    setTimeout(() => {\r\n      this._initScroll()\r\n    }, 20)\r\n  },\r\n  methods: {\r\n    _initScroll() {\r\n      if (!this.$refs.wrapper) {\r\n        return\r\n      }\r\n      this.scroll = new BScroll(this.$refs.wrapper, {\r\n        probeType: this.probeType,\r\n        click: this.click,\r\n        mouseWheel: true,\r\n        eventPassthrough: this.direction === DIRECTION_V ? DIRECTION_H : DIRECTION_V\r\n      })\r\n\r\n      if (this.listenScroll) {\r\n        this.scroll.on('scroll', (pos) => {\r\n          this.$emit('scroll', pos)\r\n        })\r\n      }\r\n\r\n      if (this.pullup) {\r\n        this.scroll.on('scrollEnd', () => {\r\n          if (this.scroll.y <= (this.scroll.maxScrollY + 50)) {\r\n            this.$emit('scrollToEnd')\r\n          }\r\n        })\r\n      }\r\n\r\n      if (this.beforeScroll) {\r\n        this.scroll.on('beforeScrollStart', () => {\r\n          this.$emit('beforeScroll')\r\n        })\r\n      }\r\n    },\r\n    disable() {\r\n      this.scroll && this.scroll.disable()\r\n    },\r\n    enable() {\r\n      this.scroll && this.scroll.enable()\r\n    },\r\n    refresh() {\r\n      this.scroll && this.scroll.refresh()\r\n    },\r\n    scrollTo() {\r\n      this.scroll && this.scroll.scrollTo.apply(this.scroll, arguments)\r\n    },\r\n    scrollToElement() {\r\n      this.scroll && this.scroll.scrollToElement.apply(this.scroll, arguments)\r\n    }\r\n  },\r\n  watch: {\r\n    data() {\r\n      setTimeout(() => {\r\n        this.refresh()\r\n      }, this.refreshDelay)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\"></style>\r\n"]}]}