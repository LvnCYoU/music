{"remainingRequest":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\src\\views\\singer\\detail\\Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\src\\views\\singer\\detail\\Index.vue","mtime":1600536934838},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCcNCmltcG9ydCB7IGNyZWF0ZVNvbmcgfSBmcm9tICdAL21vZGVsL3NvbmcnDQppbXBvcnQgeyBjcmVhdGVWaWRlbyB9IGZyb20gJ0AvbW9kZWwvdmlkZW8nDQppbXBvcnQgQXJ0aXN0TGlzdCBmcm9tICdjb21wb25lbnRzL2NvbW1vbi9hcnRpc3RMaXN0L0luZGV4Jw0KaW1wb3J0IEFsYnVtTGlzdCBmcm9tICdjb21wb25lbnRzL2NvbW1vbi9hbGJ1bUxpc3QvSW5kZXgnDQppbXBvcnQgTXZMaXN0IGZyb20gJ2NvbXBvbmVudHMvY29tbW9uL212TGlzdC9JbmRleCcNCmltcG9ydCBTaW5nZXJJdGVtIGZyb20gJ2NvbXBvbmVudHMvY29tbW9uL3Npbmdlckl0ZW0vSW5kZXgnDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8vIOatjOaJi+WfuuacrOS/oeaBrw0KICAgICAgc2luZ2VyRGV0YWlsOiB7fSwNCiAgICAgIC8vIOatjOaJi+eUqOaIt+S/oeaBrw0KICAgICAgdXNlckRldGFpbDoge30sDQogICAgICAvLyDmrYzmiYvnroDku4sNCiAgICAgIHNpbmdlckRlc2M6IHt9LA0KICAgICAgLy8g54Ot6Zeo5Y2V5puyDQogICAgICBzb25nczogW10sDQogICAgICAvLyDkuJPovpENCiAgICAgIGFsYnVtczogW10sDQogICAgICAvLyDnm7jkvLzmrYzmiYsNCiAgICAgIHNpbmdlcnM6IFtdLA0KICAgICAgLy8g5q2M5omLTVYNCiAgICAgIG12czogW10sDQogICAgICAvLyDmrYzmiYtpZA0KICAgICAgc2luZ2VySWQ6ICcnLA0KICAgICAgLy8g5qih5Z2XDQogICAgICBuYXZMaXN0OiBbDQogICAgICAgIHsNCiAgICAgICAgICBuYW1lOiAn5L2c5ZOBJywNCiAgICAgICAgICBpZDogMQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgbmFtZTogJ+S4k+i+kScsDQogICAgICAgICAgaWQ6IDINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIG5hbWU6ICdNVicsDQogICAgICAgICAgaWQ6IDMNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIG5hbWU6ICfmrYzmiYvor6bmg4UnLA0KICAgICAgICAgIGlkOiA0DQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBuYW1lOiAn55u45Ly85q2M5omLJywNCiAgICAgICAgICBpZDogNQ0KICAgICAgICB9DQogICAgICBdLA0KICAgICAgLy8g5b2T5YmN5pi+56S65qih5Z2XDQogICAgICBhY3RpdmU6IDEsDQogICAgICAvLyDliIbpobXmmL7npLrmnaHmlbANCiAgICAgIGxpbWl0OiAyMCwNCiAgICAgIC8vIOWIhumhteWBj+enuw0KICAgICAgb2Zmc2V0OiAwLA0KICAgICAgaXNQZXJzb246IHRydWUNCiAgICB9DQogIH0sDQogIGNvbXBvbmVudHM6IHsNCiAgICBBcnRpc3RMaXN0LA0KICAgIEFsYnVtTGlzdCwNCiAgICBNdkxpc3QsDQogICAgU2luZ2VySXRlbQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC4uLm1hcEdldHRlcnMoWydzaW5nZXInXSksDQogICAgLy8g5ZCI5bm25q2M5omL6K+m5oOFDQogICAgZGV0YWlsKCkgew0KICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24odGhpcy5zaW5nZXJEZXRhaWwsIHRoaXMudXNlckRldGFpbCkNCiAgICB9LA0KICAgIC8vIOiuvue9ruatjOaJi+aAp+WIqw0KICAgIGdlbmRlcigpIHsNCiAgICAgIGlmICh0aGlzLmRldGFpbC5nZW5kZXIgPiAwKSB7DQogICAgICAgIHJldHVybiB0aGlzLmRldGFpbC5nZW5kZXIgPT09IDENCiAgICAgICAgICA/ICduaWNlQ1JNX2ljb25fbmFueGluZyBtYW4nDQogICAgICAgICAgOiAnbmljZUNSTV9pY29uX252eGluZyB3b21hbicNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiAnJw0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g6K6+572u5q2M5omL562J57qnDQogICAgbGV2ZWwoKSB7DQogICAgICBpZiAodGhpcy5kZXRhaWwubGV2ZWwgPiAwKSB7DQogICAgICAgIHJldHVybiAnbmljZWxldmVsLScgKyB0aGlzLmRldGFpbC5sZXZlbA0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuICcnDQogICAgICB9DQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICAgICRyb3V0ZSgpIHsNCiAgICAgIGxldCBpZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkIHx8IHRoaXMuc2luZ2VyLmlkDQogICAgICBpZiAoaWQpIHsNCiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZShpZCkNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyDliIfmjaLmrYzmiYvkv6Hmga8NCiAgICB0YWJJdGVtKGlkKSB7DQogICAgICB0aGlzLmFjdGl2ZSA9IGlkDQogICAgfSwNCiAgICAvLyDojrflj5bmrYzmiYvln7rmnKzkv6Hmga/lkozng63pl6g1MOmmluWNleabsg0KICAgIGFzeW5jIGdldEFydGlzdHMoaWQpIHsNCiAgICAgIHRyeSB7DQogICAgICAgIGxldCByZXMgPSBhd2FpdCB0aGlzLiRhcGkuZ2V0QXJ0aXN0cyhpZCkNCiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICB0aGlzLnNpbmdlckRldGFpbCA9IHJlcy5hcnRpc3QNCiAgICAgICAgICB0aGlzLmdldFVzZXJEZXRhaWwocmVzLmFydGlzdC5hY2NvdW50SWQpDQogICAgICAgIH0NCiAgICAgICAgdGhpcy5zb25ncyA9IHRoaXMuX25vcm1hbGl6ZVNvbmdzKHJlcy5ob3RTb25ncykNCiAgICAgICAgdGhpcy5nZXRBcnRpc3RBbGJ1bShpZCkNCiAgICAgICAgdGhpcy5nZXRBcnRpc3RNdihpZCkNCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g6I635Y+WKOatjOaJiynnlKjmiLfkv6Hmga8NCiAgICBhc3luYyBnZXRVc2VyRGV0YWlsKHVpZCkgew0KICAgICAgbGV0IGRldGFpbCA9IHt9DQogICAgICB0cnkgew0KICAgICAgICBsZXQgcmVzID0gYXdhaXQgdGhpcy4kYXBpLmdldFVzZXJEZXRhaWwodWlkKQ0KICAgICAgICBsZXQgcHJvZmlsZSA9IHJlcy5wcm9maWxlDQogICAgICAgIGlmIChyZXMuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgZGV0YWlsLmxldmVsID0gcmVzLmxldmVsDQogICAgICAgICAgZGV0YWlsLmZvbGxvd2VkcyA9IHByb2ZpbGUuZm9sbG93ZWRzDQogICAgICAgICAgZGV0YWlsLmdlbmRlciA9IHByb2ZpbGUuZ2VuZGVyDQogICAgICAgICAgdGhpcy51c2VyRGV0YWlsID0gZGV0YWlsDQogICAgICAgIH0NCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGRldGFpbC5sZXZlbCA9ICcnDQogICAgICAgIGRldGFpbC5mb2xsb3dlZHMgPSAnJw0KICAgICAgICBkZXRhaWwuZ2VuZGVyID0gJycNCiAgICAgICAgdGhpcy51c2VyRGV0YWlsID0gZGV0YWlsDQogICAgICB9DQogICAgfSwNCiAgICAvLyDojrflj5bmrYzmiYvkuJPovpENCiAgICBhc3luYyBnZXRBcnRpc3RBbGJ1bShpZCkgew0KICAgICAgbGV0IHBhcmFtcyA9IHsNCiAgICAgICAgaWQ6IHRoaXMuc2luZ2VySWQgfHwgaWQsDQogICAgICAgIGxpbWl0OiB0aGlzLmRldGFpbC5hbGJ1bVNpemUsDQogICAgICAgIG9mZnNldDogdGhpcy5vZmZzZXQNCiAgICAgIH0NCiAgICAgIHRyeSB7DQogICAgICAgIGxldCByZXMgPSBhd2FpdCB0aGlzLiRhcGkuZ2V0QXJ0aXN0QWxidW0ocGFyYW1zKQ0KICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgIHRoaXMuYWxidW1zID0gcmVzLmhvdEFsYnVtcw0KICAgICAgICB9DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOiOt+WPluatjOaJi01WDQogICAgYXN5bmMgZ2V0QXJ0aXN0TXYoaWQpIHsNCiAgICAgIGxldCBwYXJhbXMgPSB7DQogICAgICAgIGlkOiB0aGlzLnNpbmdlcklkIHx8IGlkLA0KICAgICAgICBsaW1pdDogdGhpcy5kZXRhaWwubXZTaXplLA0KICAgICAgICBvZmZzZXQ6IHRoaXMub2Zmc2V0DQogICAgICB9DQogICAgICB0cnkgew0KICAgICAgICBsZXQgcmVzID0gYXdhaXQgdGhpcy4kYXBpLmdldEFydGlzdE12KHBhcmFtcykNCiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICB0aGlzLm12cyA9IHRoaXMuX25vcm1hbGl6ZVZpZGVvcyhyZXMubXZzKQ0KICAgICAgICB9DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOiOt+WPluatjOaJi+eugOS7iw0KICAgIGFzeW5jIGdldEFydGlzdERlc2MoaWQpIHsNCiAgICAgIHRyeSB7DQogICAgICAgIGxldCByZXMgPSBhd2FpdCB0aGlzLiRhcGkuZ2V0QXJ0aXN0RGVzYyhpZCkNCiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICBpZiAocmVzLmludHJvZHVjdGlvbi5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICByZXMuaW50cm9kdWN0aW9uLm1hcChpdGVtID0+IHsNCiAgICAgICAgICAgICAgaXRlbS50eHQgPSBpdGVtLnR4dC5yZXBsYWNlKC8oXHJcbnxcbnxccikvZ20sICc8YnIgLz4nKQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy5zaW5nZXJEZXNjID0gcmVzDQogICAgICAgIH0NCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g6I635Y+W55u45Ly85q2M5omLDQogICAgYXN5bmMgZ2V0QXJ0aXN0U2ltaShpZCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgbGV0IHJlcyA9IGF3YWl0IHRoaXMuJGFwaS5nZXRBcnRpc3RTaW1pKGlkKQ0KICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgIHRoaXMuc2luZ2VycyA9IHJlcy5hcnRpc3RzDQogICAgICAgIH0NCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g5aSE55CG5q2M5puyDQogICAgX25vcm1hbGl6ZVNvbmdzKGxpc3QpIHsNCiAgICAgIGxldCByZXQgPSBbXQ0KICAgICAgbGlzdC5tYXAoaXRlbSA9PiB7DQogICAgICAgIGlmIChpdGVtLmlkKSB7DQogICAgICAgICAgcmV0LnB1c2goY3JlYXRlU29uZyhpdGVtKSkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIHJldHVybiByZXQNCiAgICB9LA0KICAgIC8vIOWkhOeQhuinhumikQ0KICAgIF9ub3JtYWxpemVWaWRlb3MobGlzdCkgew0KICAgICAgbGV0IHJldCA9IFtdDQogICAgICBsaXN0Lm1hcChpdGVtID0+IHsNCiAgICAgICAgaWYgKGl0ZW0uaWQpIHsNCiAgICAgICAgICByZXQucHVzaCgNCiAgICAgICAgICAgIGNyZWF0ZVZpZGVvKHsNCiAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsDQogICAgICAgICAgICAgIG5pY2tOYW1lOiBpdGVtLmFydGlzdE5hbWUsDQogICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwNCiAgICAgICAgICAgICAgcGxheUNvdW50OiBpdGVtLnBsYXlDb3VudCwNCiAgICAgICAgICAgICAgZHVyYXRpb246IGl0ZW0uZHVyYXRpb24sDQogICAgICAgICAgICAgIGltYWdlOiBpdGVtLmltZ3VybDE2djkNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgcmV0dXJuIHJldA0KICAgIH0sDQogICAgLy/liJ3lp4vljJYNCiAgICBfaW5pdGlhbGl6ZShpZCkgew0KICAgICAgdGhpcy5hY3RpdmUgPSAxDQogICAgICB0aGlzLmFsYnVtT2Zmc2V0ID0gMA0KICAgICAgdGhpcy5tdk9mZnNldCA9IDANCiAgICAgIHRoaXMuYWxidW1zID0gW10NCiAgICAgIHRoaXMubXZzID0gW10NCiAgICAgIHRoaXMuc2luZ2VySWQgPSBOdW1iZXIoaWQpDQogICAgICB0aGlzLmdldEFydGlzdHMoaWQpDQogICAgICB0aGlzLmdldFVzZXJEZXRhaWwoaWQpDQogICAgICB0aGlzLmdldEFydGlzdERlc2MoaWQpDQogICAgICB0aGlzLmdldEFydGlzdFNpbWkoaWQpDQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIGxldCBpZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkIHx8IHRoaXMuc2luZ2VyLmlkDQogICAgaWYgKGlkKSB7DQogICAgICB0aGlzLl9pbml0aWFsaXplKGlkKQ0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpIHt9DQp9DQo="},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/views/singer/detail","sourcesContent":["<template>\r\n  <div class=\"singer-detail\">\r\n    <div class=\"singer-info\">\r\n      <div class=\"top\">\r\n        <div class=\"top-mask\">\r\n          <div class=\"singer-box flex-column flex-center\">\r\n            <div class=\"avatar transition\">\r\n              <img :src=\"detail.img1v1Url + '?param=200y200'\" />\r\n              <div class=\"level flex-center transition\" v-show=\"level\">\r\n                <i class=\"iconfont icon-level\" :class=\"level\"></i>\r\n              </div>\r\n            </div>\r\n            <p class=\"nickname\">\r\n              {{ detail.name }}\r\n              <i class=\"iconfont\" :class=\"gender\"></i>\r\n            </p>\r\n            <div class=\"follow flex-center transition\">\r\n              <i class=\"iconfont niceIcon_add\"></i>\r\n              关注TA\r\n            </div>\r\n            <div class=\"desc ellipsis-two\" v-html=\"detail.briefDesc\"></div>\r\n            <ul class=\"info flex-center\">\r\n              <li>\r\n                <p class=\"num\">{{ detail.musicSize }}</p>\r\n                <p class=\"text\">单曲数</p>\r\n              </li>\r\n              <li>\r\n                <p class=\"num\">{{ detail.albumSize }}</p>\r\n                <p class=\"text\">专辑数</p>\r\n              </li>\r\n              <li>\r\n                <p class=\"num\">{{ detail.mvSize }}</p>\r\n                <p class=\"text\">MV数</p>\r\n              </li>\r\n              <li v-show=\"detail.followeds\">\r\n                <p class=\"num\">{{ detail.followeds }}</p>\r\n                <p class=\"text\">粉丝</p>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <div class=\"bottom-trangle\"></div>\r\n      </div>\r\n      <div class=\"bottom container\">\r\n        <ul class=\"nav flex-center\">\r\n          <li\r\n            v-for=\"item of navList\"\r\n            :key=\"item.id\"\r\n            :class=\"active == item.id ? 'active' : ''\"\r\n            @click=\"tabItem(item.id)\"\r\n          >\r\n            {{ item.name }}\r\n          </li>\r\n        </ul>\r\n        <div class=\"content\">\r\n          <artist-list :songs=\"songs\" :isPerson=\"isPerson\" v-if=\"active == 1\" />\r\n          <album-list :albums=\"albums\" v-if=\"active == 2\" />\r\n          <mv-list :mvs=\"mvs\" type=\"mv\" v-if=\"active == 3\" />\r\n          <div class=\"info-box\" v-if=\"active == 4\">\r\n            <h2 class=\"title\">{{ detail.name }}简介</h2>\r\n            <div class=\"profile\" v-html=\"singerDesc.briefDesc\"></div>\r\n            <div class=\"introduction\">\r\n              <div\r\n                class=\"item\"\r\n                v-for=\"item of singerDesc.introduction\"\r\n                :key=\"item.ti\"\r\n              >\r\n                <h3 class=\"sub-title\">{{ item.ti }}</h3>\r\n                <p v-html=\"item.txt\"></p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"simi-box\" v-if=\"active == 5\">\r\n            <ul class=\"singer-list\" v-if=\"singers.length > 0\">\r\n              <singer-item\r\n                v-for=\"item of singers\"\r\n                :key=\"item.id\"\r\n                :item=\"item\"\r\n              />\r\n            </ul>\r\n            <nice-empty v-else></nice-empty>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\nimport { createSong } from '@/model/song'\r\nimport { createVideo } from '@/model/video'\r\nimport ArtistList from 'components/common/artistList/Index'\r\nimport AlbumList from 'components/common/albumList/Index'\r\nimport MvList from 'components/common/mvList/Index'\r\nimport SingerItem from 'components/common/singerItem/Index'\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 歌手基本信息\r\n      singerDetail: {},\r\n      // 歌手用户信息\r\n      userDetail: {},\r\n      // 歌手简介\r\n      singerDesc: {},\r\n      // 热门单曲\r\n      songs: [],\r\n      // 专辑\r\n      albums: [],\r\n      // 相似歌手\r\n      singers: [],\r\n      // 歌手MV\r\n      mvs: [],\r\n      // 歌手id\r\n      singerId: '',\r\n      // 模块\r\n      navList: [\r\n        {\r\n          name: '作品',\r\n          id: 1\r\n        },\r\n        {\r\n          name: '专辑',\r\n          id: 2\r\n        },\r\n        {\r\n          name: 'MV',\r\n          id: 3\r\n        },\r\n        {\r\n          name: '歌手详情',\r\n          id: 4\r\n        },\r\n        {\r\n          name: '相似歌手',\r\n          id: 5\r\n        }\r\n      ],\r\n      // 当前显示模块\r\n      active: 1,\r\n      // 分页显示条数\r\n      limit: 20,\r\n      // 分页偏移\r\n      offset: 0,\r\n      isPerson: true\r\n    }\r\n  },\r\n  components: {\r\n    ArtistList,\r\n    AlbumList,\r\n    MvList,\r\n    SingerItem\r\n  },\r\n  computed: {\r\n    ...mapGetters(['singer']),\r\n    // 合并歌手详情\r\n    detail() {\r\n      return Object.assign(this.singerDetail, this.userDetail)\r\n    },\r\n    // 设置歌手性别\r\n    gender() {\r\n      if (this.detail.gender > 0) {\r\n        return this.detail.gender === 1\r\n          ? 'niceCRM_icon_nanxing man'\r\n          : 'niceCRM_icon_nvxing woman'\r\n      } else {\r\n        return ''\r\n      }\r\n    },\r\n    // 设置歌手等级\r\n    level() {\r\n      if (this.detail.level > 0) {\r\n        return 'nicelevel-' + this.detail.level\r\n      } else {\r\n        return ''\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    $route() {\r\n      let id = this.$route.query.id || this.singer.id\r\n      if (id) {\r\n        this._initialize(id)\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 切换歌手信息\r\n    tabItem(id) {\r\n      this.active = id\r\n    },\r\n    // 获取歌手基本信息和热门50首单曲\r\n    async getArtists(id) {\r\n      try {\r\n        let res = await this.$api.getArtists(id)\r\n        if (res.code === 200) {\r\n          this.singerDetail = res.artist\r\n          this.getUserDetail(res.artist.accountId)\r\n        }\r\n        this.songs = this._normalizeSongs(res.hotSongs)\r\n        this.getArtistAlbum(id)\r\n        this.getArtistMv(id)\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    // 获取(歌手)用户信息\r\n    async getUserDetail(uid) {\r\n      let detail = {}\r\n      try {\r\n        let res = await this.$api.getUserDetail(uid)\r\n        let profile = res.profile\r\n        if (res.code === 200) {\r\n          detail.level = res.level\r\n          detail.followeds = profile.followeds\r\n          detail.gender = profile.gender\r\n          this.userDetail = detail\r\n        }\r\n      } catch (error) {\r\n        detail.level = ''\r\n        detail.followeds = ''\r\n        detail.gender = ''\r\n        this.userDetail = detail\r\n      }\r\n    },\r\n    // 获取歌手专辑\r\n    async getArtistAlbum(id) {\r\n      let params = {\r\n        id: this.singerId || id,\r\n        limit: this.detail.albumSize,\r\n        offset: this.offset\r\n      }\r\n      try {\r\n        let res = await this.$api.getArtistAlbum(params)\r\n        if (res.code === 200) {\r\n          this.albums = res.hotAlbums\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    // 获取歌手MV\r\n    async getArtistMv(id) {\r\n      let params = {\r\n        id: this.singerId || id,\r\n        limit: this.detail.mvSize,\r\n        offset: this.offset\r\n      }\r\n      try {\r\n        let res = await this.$api.getArtistMv(params)\r\n        if (res.code === 200) {\r\n          this.mvs = this._normalizeVideos(res.mvs)\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    // 获取歌手简介\r\n    async getArtistDesc(id) {\r\n      try {\r\n        let res = await this.$api.getArtistDesc(id)\r\n        if (res.code === 200) {\r\n          if (res.introduction.length > 0) {\r\n            res.introduction.map(item => {\r\n              item.txt = item.txt.replace(/(\\r\\n|\\n|\\r)/gm, '<br />')\r\n            })\r\n          }\r\n          this.singerDesc = res\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    // 获取相似歌手\r\n    async getArtistSimi(id) {\r\n      try {\r\n        let res = await this.$api.getArtistSimi(id)\r\n        if (res.code === 200) {\r\n          this.singers = res.artists\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    // 处理歌曲\r\n    _normalizeSongs(list) {\r\n      let ret = []\r\n      list.map(item => {\r\n        if (item.id) {\r\n          ret.push(createSong(item))\r\n        }\r\n      })\r\n      return ret\r\n    },\r\n    // 处理视频\r\n    _normalizeVideos(list) {\r\n      let ret = []\r\n      list.map(item => {\r\n        if (item.id) {\r\n          ret.push(\r\n            createVideo({\r\n              id: item.id,\r\n              nickName: item.artistName,\r\n              name: item.name,\r\n              playCount: item.playCount,\r\n              duration: item.duration,\r\n              image: item.imgurl16v9\r\n            })\r\n          )\r\n        }\r\n      })\r\n      return ret\r\n    },\r\n    //初始化\r\n    _initialize(id) {\r\n      this.active = 1\r\n      this.albumOffset = 0\r\n      this.mvOffset = 0\r\n      this.albums = []\r\n      this.mvs = []\r\n      this.singerId = Number(id)\r\n      this.getArtists(id)\r\n      this.getUserDetail(id)\r\n      this.getArtistDesc(id)\r\n      this.getArtistSimi(id)\r\n    }\r\n  },\r\n  created() {\r\n    let id = this.$route.query.id || this.singer.id\r\n    if (id) {\r\n      this._initialize(id)\r\n    }\r\n  },\r\n  mounted() {}\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n.avatar >>> img {\r\n  border-radius: 5px;\r\n}\r\n.singer-detail {\r\n  margin-top: -20px;\r\n  .singer-info {\r\n    .top {\r\n      position: relative;\r\n      width: 100%;\r\n      height: 580px;\r\n      background: url(../../../assets/images/top-bg.jpg);\r\n      background-position: center;\r\n      background-repeat: no-repeat;\r\n      background-size: cover;\r\n      .top-mask {\r\n        width: 100%;\r\n        height: 100%;\r\n        background: rgba(0, 0, 0, 0.6);\r\n        .singer-box {\r\n          height: 100%;\r\n          position: relative;\r\n          margin: 0 auto;\r\n          padding-top: 10px;\r\n          text-align: center;\r\n          z-index: 2;\r\n          .avatar {\r\n            width: 120px;\r\n            height 120px;\r\n            border-radius: 50%;\r\n            position: relative;\r\n            overflow: hidden;\r\n            .level {\r\n              width: 100%;\r\n              height: 25px;\r\n              position: absolute;\r\n              left: 0;\r\n              right: 0;\r\n              bottom: 0;\r\n              background: rgba(255, 255, 255, 0.8);\r\n              .icon-level {\r\n                font-size: 25px;\r\n                color: $color-theme;\r\n                margin-left: 8px;\r\n              }\r\n            }\r\n            img {\r\n              width: 120px;\r\n              height 120px;\r\n              border-radius: 50%;\r\n              background: #fff;\r\n              border: 3px solid rgba(255, 255, 255, 0.6);\r\n            }\r\n            &:hover {\r\n              box-shadow: 0px 5px 20px 0px rgba(255, 255, 255, 0.8);\r\n            }\r\n          }\r\n          .nickname {\r\n            margin-top: 20px;\r\n            font-size: 24px;\r\n            font-weight: 700;\r\n            color: #fff;\r\n            line-height: 24px;\r\n            i {\r\n              font-size: 20px;\r\n              &.man {\r\n                color: #1f91f2;\r\n              }\r\n              &.woman {\r\n                color: #fc7265;\r\n              }\r\n            }\r\n          }\r\n          .follow {\r\n            margin: 24px 0 30px;\r\n            padding: 0;\r\n            height: 36px;\r\n            width: 96px;\r\n            font-size: 12px;\r\n            line-height: 36px;\r\n            color: #fff;\r\n            border: 1px solid rgba(255, 255, 255, 0.6);\r\n            cursor: pointer;\r\n            border-radius: 18px;\r\n            &:hover {\r\n              background: rgba(255, 255, 255, 0.1);\r\n              border: 1px solid #fff;\r\n            }\r\n            i {\r\n              margin-right: 5px;\r\n            }\r\n          }\r\n          .desc {\r\n            margin: 0 auto 24px;\r\n            width: 740px;\r\n            height: 48px;\r\n            font-size: 14px;\r\n            color: rgba(255,255,255,.6);\r\n            line-height: 24px;\r\n          }\r\n          .info {\r\n            margin: 0 auto;\r\n            width: 100%;\r\n            li {\r\n              margin: 0 50px;\r\n              text-align: center;\r\n              .num {\r\n                margin-bottom: 8px;\r\n                font-size: 24px;\r\n                line-height: 24px;\r\n                color: #fff;\r\n              }\r\n              .text {\r\n                font-size: 14px;\r\n                line-height: 14px;\r\n                color: rgba(255, 255, 255, 0.6);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .bottom-trangle {\r\n        position: absolute;\r\n        bottom: 0;\r\n        width: 100%;\r\n        height: 137px;\r\n        background: url(../../../assets/images/arrow-lr.png);\r\n        background-position: center;\r\n        z-index: 1;\r\n      }\r\n    }\r\n    .bottom {\r\n      .nav {\r\n        margin: 30px 0;\r\n        li {\r\n          margin: 0 20px;\r\n          font-size: 14px;\r\n          font-weight: bold;\r\n          cursor: pointer;\r\n          &.active {\r\n            color: $color-theme;\r\n          }\r\n        }\r\n      }\r\n      .content {\r\n        background: #fff;\r\n        .info-box {\r\n          padding: 15px;\r\n          .title {\r\n            text-align: center;\r\n            position: relative;\r\n            margin-bottom: 30px;\r\n            &::after {\r\n              content: '';\r\n              width: 40px;\r\n              height: 2px;\r\n              background: $color-theme;\r\n              position: absolute;\r\n              left: 50%;\r\n              bottom: -10px;\r\n              margin-left: -20px;\r\n            }\r\n          }\r\n          .profile {\r\n            line-height: 1.7;\r\n            margin-bottom: 20px;\r\n            text-align: center;\r\n          }\r\n          .introduction {\r\n            .item {\r\n              margin-bottom: 15px;\r\n              .sub-title {\r\n                margin-bottom: 10px;\r\n              }\r\n              p {\r\n                line-height: 1.7\r\n              }\r\n            }\r\n          }\r\n        }\r\n        .simi-box {\r\n          padding: 15px 15px;\r\n          .singer-list {\r\n            display: flex;\r\n            flex-wrap: wrap;\r\n            margin-top: 30px;\r\n            margin: 0px -15px 0;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}