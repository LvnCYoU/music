{"remainingRequest":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\src\\components\\home\\recommend-music\\Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\src\\components\\home\\recommend-music\\Index.vue","mtime":1600536934778},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\新建文件夹\\desktop-nicemusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHNvbmdMaXN0IGZyb20gJ2NvbXBvbmVudHMvY29tbW9uL3NvbmdMaXN0L0luZGV4JzsKaW1wb3J0IHsgY3JlYXRlU29uZyB9IGZyb20gJ0AvbW9kZWwvc29uZyc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc29uZ3M6IFtdCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgc29uZ0xpc3Q6IHNvbmdMaXN0CiAgfSwKICAvL+ebkeWQrOWxnuaApyDnsbvkvLzkuo5kYXRh5qaC5b+1CiAgY29tcHV0ZWQ6IHt9LAogIC8v55uR5o6nZGF0YeS4reeahOaVsOaNruWPmOWMlgogIHdhdGNoOiB7fSwKICAvL+aWueazlembhuWQiAogIG1ldGhvZHM6IHsKICAgIC8vIOiOt+WPluaOqOiNkOaWsOmfs+S5kAogICAgZ2V0TmV3U29uZ3M6IGZ1bmN0aW9uIGdldE5ld1NvbmdzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlcywgbGlzdDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kYXBpLmdldE5ld1NvbmdzKCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBsaXN0ID0gW107CgogICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgcmVzLnJlc3VsdC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICBsaXN0LnB1c2goaXRlbS5pZCk7CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuZ2V0U29uZ0RldGFpbChsaXN0KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDg7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQudDApOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCA4XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDojrflj5bmrYzmm7LliJfooagKICAgIGdldFNvbmdEZXRhaWw6IGZ1bmN0aW9uIGdldFNvbmdEZXRhaWwoc2xpY2VBcnIpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHRpbWVzdGFtcCwgcmVzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdGltZXN0YW1wID0gbmV3IERhdGUoKS52YWx1ZU9mKCk7CiAgICAgICAgICAgICAgICBzbGljZUFyciA9IHNsaWNlQXJyLmpvaW4oJywnKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJGFwaS5nZXRTb25nRGV0YWlsKHNsaWNlQXJyLCB0aW1lc3RhbXApOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMi5zb25ncyA9IF90aGlzMi5fbm9ybWFsaXplU29uZ3MocmVzLnNvbmdzKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzMi5zb25ncyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDEwOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzIsIDEwXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDlpITnkIbmrYzmm7IKICAgIF9ub3JtYWxpemVTb25nczogZnVuY3Rpb24gX25vcm1hbGl6ZVNvbmdzKGxpc3QpIHsKICAgICAgdmFyIHJldCA9IFtdOwogICAgICBsaXN0Lm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGlmIChpdGVtLmlkKSB7CiAgICAgICAgICByZXQucHVzaChjcmVhdGVTb25nKGl0ZW0pKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gcmV0OwogICAgfQogIH0sCiAgLy/nlJ/lkb3lkajmnJ8gLSDliJvlu7rlrozmiJDvvIjlj6/ku6Xorr/pl67lvZPliY10aGlz5a6e5L6L77yJCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9LAogIC8v55Sf5ZG95ZGo5pyfIC0g5oyC6L295a6M5oiQ77yI5Y+v5Lul6K6/6ZeuRE9N5YWD57Sg77yJCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0TmV3U29uZ3MoKTsKICB9Cn07"},{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;;AAQA,OAAA,QAAA,MAAA,kCAAA;AACA,SAAA,UAAA,QAAA,cAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AADA,KAAA;AAGA,GALA;AAMA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA;AADA,GANA;AASA;AACA,EAAA,QAAA,EAAA,EAVA;AAWA;AACA,EAAA,KAAA,EAAA,EAZA;AAaA;AACA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,WAFA,yBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,KAAA,CAAA,IAAA,CAAA,WAAA,EAFA;;AAAA;AAEA,gBAAA,GAFA;AAGA,gBAAA,IAHA,GAGA,EAHA;;AAIA,oBAAA,GAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,kBAAA,GAAA,CAAA,MAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA;AACA,oBAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA;AACA,mBAFA;;AAGA,kBAAA,KAAA,CAAA,aAAA,CAAA,IAAA;AACA;;AATA;AAAA;;AAAA;AAAA;AAAA;AAWA,gBAAA,OAAA,CAAA,GAAA;;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA,KAfA;AAgBA;AACA,IAAA,aAjBA,yBAiBA,QAjBA,EAiBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,SADA,GACA,IAAA,IAAA,GAAA,OAAA,EADA;AAEA,gBAAA,QAAA,GAAA,QAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AAFA;AAAA;AAAA,uBAIA,MAAA,CAAA,IAAA,CAAA,aAAA,CAAA,QAAA,EAAA,SAAA,CAJA;;AAAA;AAIA,gBAAA,GAJA;AAKA,gBAAA,MAAA,CAAA,KAAA,GAAA,MAAA,CAAA,eAAA,CAAA,GAAA,CAAA,KAAA,CAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,KAAA;AANA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA,KA1BA;AA2BA;AACA,IAAA,eA5BA,2BA4BA,IA5BA,EA4BA;AACA,UAAA,GAAA,GAAA,EAAA;AACA,MAAA,IAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,CAAA,EAAA,EAAA;AACA,UAAA,GAAA,CAAA,IAAA,CAAA,UAAA,CAAA,IAAA,CAAA;AACA;AACA,OAJA;AAKA,aAAA,GAAA;AACA;AApCA,GAdA;AAoDA;AACA,EAAA,OArDA,qBAqDA,CAAA,CArDA;AAsDA;AACA,EAAA,OAvDA,qBAuDA;AACA,SAAA,WAAA;AACA;AAzDA,CAAA","sourcesContent":["<template>\r\n  <div class=\"recommend-music\">\r\n    <h2 class=\"title\">推荐新歌曲</h2>\r\n    <song-list :songList=\"songs\"></song-list>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport songList from 'components/common/songList/Index'\r\nimport { createSong } from '@/model/song'\r\nexport default {\r\n  data() {\r\n    return {\r\n      songs: []\r\n    }\r\n  },\r\n  components: {\r\n    songList\r\n  },\r\n  //监听属性 类似于data概念\r\n  computed: {},\r\n  //监控data中的数据变化\r\n  watch: {},\r\n  //方法集合\r\n  methods: {\r\n    // 获取推荐新音乐\r\n    async getNewSongs() {\r\n      try {\r\n        let res = await this.$api.getNewSongs()\r\n        let list = []\r\n        if(res.code === 200) {\r\n          res.result.map(item => {\r\n            list.push(item.id)\r\n          })\r\n          this.getSongDetail(list)\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    // 获取歌曲列表\r\n    async getSongDetail(sliceArr) {\r\n      let timestamp = new Date().valueOf()\r\n      sliceArr = sliceArr.join(',')\r\n      try {\r\n        let res = await this.$api.getSongDetail(sliceArr, timestamp)\r\n        this.songs = this._normalizeSongs(res.songs)\r\n        console.log(this.songs)\r\n      } catch (error) {\r\n      }\r\n    },\r\n    // 处理歌曲\r\n    _normalizeSongs(list) {\r\n      let ret = []\r\n      list.map(item => {\r\n        if (item.id) {\r\n          ret.push(createSong(item))\r\n        }\r\n      })\r\n      return ret\r\n    }\r\n  },\r\n  //生命周期 - 创建完成（可以访问当前this实例）\r\n  created() {},\r\n  //生命周期 - 挂载完成（可以访问DOM元素）\r\n  mounted() {\r\n    this.getNewSongs()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.recommend-music {\r\n  .title {\r\n    margin: 0 0 15px 0;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/home/recommend-music"}]}