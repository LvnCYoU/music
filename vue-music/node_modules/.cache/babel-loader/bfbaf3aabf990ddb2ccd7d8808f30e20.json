{"remainingRequest":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zlw12\\Desktop\\store\\vue-music\\src\\api\\scroll\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\src\\api\\scroll\\index.vue","mtime":1602780479704},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEJTY3JvbGwgZnJvbSAnYmV0dGVyLXNjcm9sbCc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgLyoxIOa7muWKqOeahOaXtuWAmeS8mua0vuWPkXNjcm9sbOS6i+S7tu+8jOS8muaIqua1geOAgg0KICAgICAgMiDmu5rliqjnmoTml7blgJnlrp7ml7bmtL7lj5FzY3JvbGzkuovku7bvvIzkuI3kvJrmiKrmtYHjgIINCiAgICAgIDMg6Zmk5LqG5a6e5pe25rS+5Y+Rc2Nyb2xs5LqL5Lu277yM5Zyoc3dpcGXnmoTmg4XlhrXkuIvku43nhLbog73lrp7ml7bmtL7lj5FzY3JvbGzkuovku7YgICAgICovCiAgICBwcm9iZVR5cGU6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxCiAgICB9LAogICAgLy8gIOeCueWHu+WIl+ihqOaYr+WQpua0vuWPkWNsaWNr5LqL5Lu2CiAgICBjbGljazogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIC8vICDmmK/lkKblvIDlkK/mqKrlkJHmu5rliqgKICAgIHNjcm9sbFg6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICAvLyAg5piv5ZCm5rS+5Y+R5rua5Yqo5LqL5Lu2CiAgICBsaXN0ZW5TY3JvbGw6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICAvLyAg5YiX6KGo55qE5pWw5o2uCiAgICBkYXRhOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAoKICAgIC8qKiAqIOaYr+WQpua0vuWPkea7muWKqOWIsOW6lemDqOeahOS6i+S7tu+8jOeUqOS6juS4iuaLieWKoOi9vSAqLwogICAgcHVsbHVwOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAoKICAgIC8qKiAqIOaYr+WQpua0vuWPkemhtumDqOS4i+aLieeahOS6i+S7tu+8jOeUqOS6juS4i+aLieWIt+aWsCAqLwogICAgcHVsbGRvd246IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCgogICAgLyoqICog5piv5ZCm5rS+5Y+R5YiX6KGo5rua5Yqo5byA5aeL55qE5LqL5Lu2ICovCiAgICBiZWZvcmVTY3JvbGw6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCgogICAgLyoqICog5b2T5pWw5o2u5pu05paw5ZCO77yM5Yi35pawc2Nyb2xs55qE5bu25pe244CCICovCiAgICByZWZyZXNoRGVsYXk6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAyMAogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgLy8g5L+d6K+B5ZyoRE9N5riy5p+T5a6M5q+V5ZCO5Yid5aeL5YyWYmV0dGVyLXNjcm9sbAogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLl9pbml0U2Nyb2xsKCk7CiAgICB9LCAyMCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBfaW5pdFNjcm9sbDogZnVuY3Rpb24gX2luaXRTY3JvbGwoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLiRyZWZzLndyYXBwZXIpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8gYmV0dGVyLXNjcm9sbOeahOWIneWni+WMlgoKCiAgICAgIHRoaXMuc2Nyb2xsID0gbmV3IEJTY3JvbGwodGhpcy4kcmVmcy53cmFwcGVyLCB7CiAgICAgICAgcHJvYmVUeXBlOiB0aGlzLnByb2JlVHlwZSwKICAgICAgICBjbGljazogdGhpcy5jbGljaywKICAgICAgICBzY3JvbGxYOiB0aGlzLnNjcm9sbFgsCiAgICAgICAgcHJldmVudERlZmF1bHQ6IGZhbHNlLAogICAgICAgIHRhcDogdHJ1ZSwKICAgICAgICBtb3VzZVdoZWVsOiB0cnVlCiAgICAgIH0pOyAvLyDmmK/lkKbmtL7lj5Hmu5rliqjkuovku7YKCiAgICAgIGlmICh0aGlzLmxpc3RlblNjcm9sbCkgewogICAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgICAgdGhpcy5zY3JvbGwub24oJ3Njcm9sbCcsIGZ1bmN0aW9uIChwb3MpIHsKICAgICAgICAgIG1lLiRlbWl0KCdzY3JvbGwnLCBwb3MpOwogICAgICAgIH0pOwogICAgICB9IC8vIOaYr+WQpua0vuWPkea7muWKqOWIsOW6lemDqOS6i+S7tu+8jOeUqOS6juS4iuaLieWKoOi9vQoKCiAgICAgIGlmICh0aGlzLnB1bGx1cCkgewogICAgICAgIHRoaXMuc2Nyb2xsLm9uKCdzY3JvbGxFbmQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyDmu5rliqjliLDlupXpg6gKICAgICAgICAgIGlmIChfdGhpczIuc2Nyb2xsLnkgPD0gX3RoaXMyLnNjcm9sbC5tYXhTY3JvbGxZICsgNTApIHsKICAgICAgICAgICAgX3RoaXMyLiRlbWl0KCdzY3JvbGxUb0VuZCcpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IC8vIOaYr+WQpua0vuWPkemhtumDqOS4i+aLieS6i+S7tu+8jOeUqOS6juS4i+aLieWIt+aWsAogICAgICAvLyBpZiAodGhpcy5wdWxsZG93bikgewogICAgICAvLyAgIHRoaXMuc2Nyb2xsLm9uKCd0b3VjaGVuZCcsIChwb3MpID0+IHsgLy8g5LiL5ouJ5Yqo5L2cCiAgICAgIC8vICAgICBpZiAocG9zLnkgPiA1MCkgewogICAgICAvLyAgICAgICB0aGlzLiRlbWl0KCdwdWxsZG93bicpCiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgfSkKICAgICAgLy8gfQogICAgICAvLyDmmK/lkKbmtL7lj5HliJfooajmu5rliqjlvIDlp4vnmoTkuovku7YKCgogICAgICBpZiAodGhpcy5iZWZvcmVTY3JvbGwpIHsKICAgICAgICB0aGlzLnNjcm9sbC5vbignYmVmb3JlU2Nyb2xsU3RhcnQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIuJGVtaXQoJ2JlZm9yZVNjcm9sbCcpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZGlzYWJsZTogZnVuY3Rpb24gZGlzYWJsZSgpIHsKICAgICAgLy8g5Luj55CGYmV0dGVyLXNjcm9sbOeahGRpc2FibGXmlrnms5UKICAgICAgdGhpcy5zY3JvbGwgJiYgdGhpcy5zY3JvbGwuZGlzYWJsZSgpOwogICAgfSwKICAgIGVuYWJsZTogZnVuY3Rpb24gZW5hYmxlKCkgewogICAgICAvLyDku6PnkIZiZXR0ZXItc2Nyb2xs55qEZW5hYmxl5pa55rOVCiAgICAgIHRoaXMuc2Nyb2xsICYmIHRoaXMuc2Nyb2xsLmVuYWJsZSgpOwogICAgfSwKICAgIHJlZnJlc2g6IGZ1bmN0aW9uIHJlZnJlc2goKSB7CiAgICAgIC8vIOS7o+eQhmJldHRlci1zY3JvbGznmoRyZWZyZXNo5pa55rOVCiAgICAgIHRoaXMuc2Nyb2xsICYmIHRoaXMuc2Nyb2xsLnJlZnJlc2goKTsKICAgIH0sCiAgICBzY3JvbGxUbzogZnVuY3Rpb24gc2Nyb2xsVG8oKSB7CiAgICAgIC8vIOS7o+eQhmJldHRlci1zY3JvbGznmoRzY3JvbGxUb+aWueazlQogICAgICB0aGlzLnNjcm9sbCAmJiB0aGlzLnNjcm9sbC5zY3JvbGxUby5hcHBseSh0aGlzLnNjcm9sbCwgYXJndW1lbnRzKTsKICAgIH0sCiAgICBzY3JvbGxUb0VsZW1lbnQ6IGZ1bmN0aW9uIHNjcm9sbFRvRWxlbWVudCgpIHsKICAgICAgLy8g5Luj55CGYmV0dGVyLXNjcm9sbOeahHNjcm9sbFRvRWxlbWVudOaWueazlQogICAgICB0aGlzLnNjcm9sbCAmJiB0aGlzLnNjcm9sbC5zY3JvbGxUb0VsZW1lbnQuYXBwbHkodGhpcy5zY3JvbGwsIGFyZ3VtZW50cyk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgLy8g55uR5ZCs5pWw5o2u55qE5Y+Y5YyW77yM5bu25pe2cmVmcmVzaERlbGF55pe26Ze05ZCO6LCD55SocmVmcmVzaOaWueazlemHjeaWsOiuoeeul++8jOS/neivgea7muWKqOaViOaenOato+W4uAogICAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMucmVmcmVzaCgpOwogICAgICB9LCB0aGlzLnJlZnJlc2hEZWxheSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["\r\n<template>\r\n  <div ref=\"wrapper\">\r\n      <slot></slot>\r\n  </div>\r\n</template>\r\n<script>\r\nimport BScroll from 'better-scroll'\r\nexport default {\r\n  props: {\r\n      /*1 滚动的时候会派发scroll事件，会截流。\r\n        2 滚动的时候实时派发scroll事件，不会截流。\r\n        3 除了实时派发scroll事件，在swipe的情况下仍然能实时派发scroll事件     */\r\n    probeType: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    //  点击列表是否派发click事件\r\n    click: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    //  是否开启横向滚动\r\n    scrollX: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    //  是否派发滚动事件\r\n    listenScroll: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    //  列表的数据\r\n    data: {\r\n      type: Array,\r\n      default: null\r\n    },\r\n    /** * 是否派发滚动到底部的事件，用于上拉加载 */\r\n    pullup: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    /** * 是否派发顶部下拉的事件，用于下拉刷新 */\r\n    pulldown: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    /** * 是否派发列表滚动开始的事件 */\r\n    beforeScroll: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    /** * 当数据更新后，刷新scroll的延时。 */\r\n    refreshDelay: {\r\n      type: Number,\r\n      default: 20\r\n    }\r\n  },\r\n  mounted() {\r\n    // 保证在DOM渲染完毕后初始化better-scroll\r\n    setTimeout(() => {\r\n      this._initScroll()\r\n    }, 20)\r\n  },\r\n  methods: {\r\n    _initScroll() {\r\n      if (!this.$refs.wrapper) {\r\n        return\r\n      }\r\n      // better-scroll的初始化\r\n      this.scroll = new BScroll(this.$refs.wrapper, {\r\n        probeType: this.probeType,\r\n        click: this.click,\r\n        scrollX: this.scrollX,\r\n        preventDefault: false,\r\n        tap: true,\r\n        mouseWheel: true\r\n      })\r\n      // 是否派发滚动事件\r\n      if (this.listenScroll) {\r\n        let me = this\r\n        this.scroll.on('scroll', (pos) => {\r\n          me.$emit('scroll', pos)\r\n        })\r\n      }\r\n      // 是否派发滚动到底部事件，用于上拉加载\r\n      if (this.pullup) {\r\n        this.scroll.on('scrollEnd', () => { // 滚动到底部\r\n          if (this.scroll.y <= (this.scroll.maxScrollY + 50)) {\r\n            this.$emit('scrollToEnd')\r\n          }\r\n        })\r\n      }\r\n      // 是否派发顶部下拉事件，用于下拉刷新\r\n      // if (this.pulldown) {\r\n      //   this.scroll.on('touchend', (pos) => { // 下拉动作\r\n      //     if (pos.y > 50) {\r\n      //       this.$emit('pulldown')\r\n      //     }\r\n      //   })\r\n      // }\r\n      // 是否派发列表滚动开始的事件\r\n      if (this.beforeScroll) {\r\n        this.scroll.on('beforeScrollStart', () => {\r\n          this.$emit('beforeScroll')\r\n        })\r\n      }\r\n    },\r\n    disable() {\r\n      // 代理better-scroll的disable方法\r\n      this.scroll && this.scroll.disable()\r\n    },\r\n    enable() {\r\n      // 代理better-scroll的enable方法\r\n      this.scroll && this.scroll.enable()\r\n    },\r\n    refresh() {\r\n      // 代理better-scroll的refresh方法\r\n      this.scroll && this.scroll.refresh()\r\n    },\r\n    scrollTo() {\r\n      // 代理better-scroll的scrollTo方法\r\n      this.scroll && this.scroll.scrollTo.apply(this.scroll, arguments)\r\n    },\r\n    scrollToElement() {\r\n      // 代理better-scroll的scrollToElement方法\r\n      this.scroll && this.scroll.scrollToElement.apply(this.scroll, arguments)\r\n    }\r\n  },\r\n  watch: {\r\n    // 监听数据的变化，延时refreshDelay时间后调用refresh方法重新计算，保证滚动效果正常\r\n    data() {\r\n      setTimeout(() => {\r\n        this.refresh()\r\n      }, this.refreshDelay)\r\n    }\r\n  }\r\n\r\n\r\n}\r\n</script>"],"sourceRoot":"src/api/scroll"}]}