{"remainingRequest":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zlw12\\Desktop\\store\\vue-music\\src\\components\\header\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\src\\components\\header\\index.vue","mtime":1605531714304},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\zlw12\\Desktop\\store\\vue-music\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvemx3MTIvRGVza3RvcC9zdG9yZS92dWUtbXVzaWMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJDOi9Vc2Vycy96bHcxMi9EZXNrdG9wL3N0b3JlL3Z1ZS1tdXNpYy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcE11dGF0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgU2VhcmNoSW5wdXQgZnJvbSAnLi4vY29tbW9uL2lucHV0JzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1cmw6ICcnLAogICAgICBzZWFyY2g6ICcnLAogICAgICBpZDogJycKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBTZWFyY2hJbnB1dDogU2VhcmNoSW5wdXQKICB9LAogIGNvbXB1dGVkOiB7CiAgICBzdGF0dXM6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnN0YXR1czsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7fQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdCgpOwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBNdXRhdGlvbnMoWydDSEFOR0VfU1RBVFVTJ10pKSwge30sIHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHRoaXMuQ29va2llKCk7CiAgICB9LAogICAgLy8g6YCA5Ye655m75b2VCiAgICBMb2dvdXQ6IGZ1bmN0aW9uIExvZ291dCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGFwaS5Mb2dvdXQoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuQ0hBTkdFX1NUQVRVUyhmYWxzZSk7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGUucGF0aCAhPT0gJy9ob21lJyAmJiBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgIHBhdGg6ICcvaG9tZScKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOiOt+WPlueZu+mZhueKtuaAgQogICAgU3RhdHVzOiBmdW5jdGlvbiBTdGF0dXMoZmxhZykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBmbGFnOwoKICAgICAgICAgICAgICAgIGlmICghX2NvbnRleHQyLnQwKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kYXBpLkxvZ2luU3RhdHVzKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEucHJvZmlsZTsKICAgICAgICAgICAgICAgICAgX3RoaXMyLnVybCA9IGRhdGEuYXZhdGFyVXJsOwogICAgICAgICAgICAgICAgICBfdGhpczIuaWQgPSBkYXRhLnVzZXJJZDsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF90aGlzMi5DSEFOR0VfU1RBVFVTKGZsYWcpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDmn6XnnItjb29raWUKICAgIENvb2tpZTogZnVuY3Rpb24gQ29va2llKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpLm1hcChmdW5jdGlvbiAobGlzdCkgewogICAgICAgIGxpc3Quc3BsaXQoJz0nKS5zb21lKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpZiAoaXRlbSA9PSAnIF9fcmVtZW1iZXJfbWUnKSB7CiAgICAgICAgICAgIF90aGlzMy5TdGF0dXModHJ1ZSk7CgogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMy5TdGF0dXMoZmFsc2UpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA,SAAA,YAAA,QAAA,MAAA;AACA,OAAA,WAAA,MAAA,iBAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,EADA;AAEA,MAAA,MAAA,EAAA,EAFA;AAGA,MAAA,EAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GARA;AAWA,EAAA,QAAA,EAAA;AACA,IAAA,MAAA,EAAA;AACA,MAAA,GADA,iBACA;AACA,eAAA,KAAA,MAAA,CAAA,KAAA,CAAA,MAAA;AACA,OAHA;AAIA,MAAA,GAJA,iBAIA,CAAA;AAJA;AADA,GAXA;AAqBA,EAAA,OArBA,qBAqBA;AACA,SAAA,IAAA;AACA,GAvBA;AAyBA,EAAA,OAAA,kCACA,YAAA,CAAA,CAAA,eAAA,CAAA,CADA;AAGA,IAAA,IAHA,kBAGA;AACA,WAAA,MAAA;AACA,KALA;AAOA;AACA,IAAA,MARA,oBAQA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,IAAA,CAAA,MAAA,GACA,IADA,CACA,YAAA;AACA,kBAAA,KAAA,CAAA,aAAA,CAAA,KAAA;;AACA,kBAAA,KAAA,CAAA,MAAA,CAAA,IAAA,KAAA,OAAA,IAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,oBAAA,IAAA,EAAA;AAAA,mBAAA,CAAA;AACA,iBAJA,CADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,KAdA;AAgBA;AACA,IAAA,MAjBA,kBAiBA,IAjBA,EAiBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BACA,IADA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAEA,MAAA,CAAA,IAAA,CAAA,WAAA,GACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,sBAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,OAAA;AACA,kBAAA,MAAA,CAAA,GAAA,GAAA,IAAA,CAAA,SAAA;AACA,kBAAA,MAAA,CAAA,EAAA,GAAA,IAAA,CAAA,MAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,iBANA,EAOA,KAPA,CAOA,YAAA;AACA;AACA,iBATA,CAFA;;AAAA;AAYA,gBAAA,MAAA,CAAA,aAAA,CAAA,IAAA;;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA,KA9BA;AAgCA;AACA,IAAA,MAjCA,oBAiCA;AAAA;;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,KAAA,CAAA,GAAA,EAAA,GAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,IAAA,CAAA,KAAA,CAAA,GAAA,EAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,cAAA,IAAA,IAAA,gBAAA,EAAA;AACA,YAAA,MAAA,CAAA,MAAA,CAAA,IAAA;;AACA,mBAAA,IAAA;AACA,WAHA,MAGA;AACA,YAAA,MAAA,CAAA,MAAA,CAAA,KAAA;AACA;AACA,SAPA;AAQA,OATA;AAUA;AA5CA;AAzBA,CAAA","sourcesContent":["<template>\r\n  <el-header>\r\n    <div class=\"header\">\r\n      <div class=\"container\">\r\n        <div class=\"left\">\r\n          <router-link tag=\"li\" to=\"/home\" class=\"logo\">\r\n            <img src=\"../../assets/logo_black.png\" alt=\"\">\r\n          </router-link>\r\n        </div>\r\n        <ul class=\"main\">\r\n          <router-link to=\"/home\" tag=\"a\">发现音乐</router-link>\r\n          <router-link to='/rank' tag='a'>排行榜</router-link>\r\n          <router-link to='/songsheet' tag='a'>歌单</router-link>\r\n          <router-link to='/singer' tag='a'>歌手</router-link>\r\n          <router-link to='/video' tag='a'>视频</router-link>\r\n          <router-link to='/mv' tag='a'>MV</router-link>\r\n        </ul>       \r\n        <el-row class=\"right\">\r\n          <div class=\"search\">\r\n            <search-input></search-input>\r\n          </div>\r\n          <div class=\"signin\">\r\n            <div class=\"wrapper\">\r\n              <router-link tag=\"a\" to=\"/signin\" v-show=\"!status\">未登录</router-link>\r\n              <el-dropdown size=\"small\" v-show=\"status\">\r\n                <router-link :to='{name: \"user\",query:{id,}}'>\r\n                  <img :src=\"url\" class=\"user-img\">\r\n                </router-link>\r\n                <el-dropdown-menu slot=\"dropdown\">\r\n                  <el-dropdown-item icon=\"el-icon-user\">\r\n                    <router-link tag=\"a\" :to='{name: \"user\",query:{id,}}'>个人中心</router-link>\r\n                  </el-dropdown-item>\r\n                  <el-dropdown-item icon=\"el-icon-medal\">个人等级</el-dropdown-item>\r\n                  <el-dropdown-item icon=\"el-icon-setting\">设置</el-dropdown-item>\r\n                  <el-dropdown-item icon=\"el-icon-switch-button\" @click.native=\"Logout\">退出登录</el-dropdown-item>\r\n                </el-dropdown-menu>\r\n              </el-dropdown>\r\n            </div>\r\n          </div> \r\n        </el-row>\r\n      </div>\r\n    </div>\r\n\r\n  </el-header>\r\n</template>\r\n\r\n<script>\r\nimport {mapMutations} from 'vuex'\r\nimport SearchInput from '../common/input'\r\nexport default {\r\n  data(){\r\n    return{\r\n      url: '',\r\n      search: '',\r\n      id: '',\r\n    }\r\n  },\r\n  components: {\r\n    SearchInput,\r\n  },\r\n  computed: {\r\n    status: {\r\n      get(){\r\n        return this.$store.state.status\r\n      },\r\n      set(){}\r\n    },\r\n  },\r\n\r\n\r\n  mounted(){\r\n    this.init();\r\n  },\r\n\r\n  methods:{\r\n    ...mapMutations(['CHANGE_STATUS']),\r\n\r\n    init(){\r\n      this.Cookie();\r\n    },\r\n    \r\n    // 退出登录\r\n    async Logout(){\r\n      await this.$api.Logout()\r\n        .then( () => {\r\n          this.CHANGE_STATUS(false);\r\n          this.$route.path !== '/home' && this.$router.push({path: '/home'})\r\n        })\r\n    },\r\n\r\n    // 获取登陆状态\r\n    async Status(flag){\r\n      flag && \r\n      await this.$api.LoginStatus()\r\n      .then( res => { \r\n        let data = res.data.profile;\r\n        this.url = data.avatarUrl;\r\n        this.id = data.userId;\r\n        console.log(res)\r\n      })\r\n      .catch( () => {\r\n        return;\r\n      })\r\n      this.CHANGE_STATUS(flag);\r\n    },\r\n\r\n    // 查看cookie\r\n    Cookie(){\r\n       document.cookie.split(';').map(list => {\r\n         list.split('=').some(item => {\r\n           if(item == ' __remember_me'){\r\n             this.Status(true)\r\n             return true;\r\n           }else{\r\n             this.Status(false)\r\n           }\r\n         })\r\n       })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .el-header{\r\n    @include shadow;\r\n    .header{\r\n      position: fixed;\r\n      top: 0;\r\n      right: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      z-index: 9;\r\n      background: #fff;\r\n    }\r\n    .container{\r\n      display: flex;\r\n      .left{\r\n        @include flex;\r\n        margin-right: 40px;       \r\n        .logo{\r\n          @include flex;\r\n          height: 100%;\r\n          cursor: pointer;\r\n        }   \r\n      }   \r\n      \r\n      .main{\r\n        display: flex;\r\n        height: 60px;\r\n        line-height: 60px;\r\n        color: #909399;\r\n        align-items: center;\r\n        a{\r\n          margin-right: 40px;\r\n          cursor: pointer;\r\n          border-bottom: 2px solid transparent;\r\n          color: #909399;\r\n          &:hover{\r\n            color: #303133;\r\n          }\r\n          &.router-link-active{\r\n            color: $mainColor;\r\n            border-bottom-color: $mainColor;\r\n          }\r\n        }\r\n      }\r\n\r\n      .right{\r\n        position: absolute;\r\n        right: 0;\r\n        top: 10px;\r\n        display: flex;\r\n        .search{\r\n          height: 40px;\r\n        }\r\n        .signin{\r\n          @include flex;\r\n          padding-right: 60px;\r\n          .wrapper{\r\n            width: 50px;\r\n            a{\r\n              color: #909399;\r\n              &:hover{\r\n                color: #303133;\r\n              }\r\n            }\r\n            .el-dropdown{\r\n              @include flex;\r\n              a{\r\n                @include flex;\r\n              }\r\n              .user-img{\r\n                height: 30px;\r\n                border-radius: 50%;\r\n                cursor: pointer;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .el-dropdown-menu{\r\n    hr,a{\r\n      color: #606266;\r\n    }\r\n    .el-dropdown-menu__item{\r\n      &:last-of-type{\r\n        margin-top: 6px;\r\n        padding-top: 5px;\r\n        border-top: 1px solid #ebeef5;\r\n      }\r\n      &:hover{\r\n        background: none;\r\n        color: #fa2800;\r\n        a{\r\n          color: #fa2800;\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n  }\r\n</style>"],"sourceRoot":"src/components/header"}]}